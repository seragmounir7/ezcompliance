!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2X0P":function(t,a,l){"use strict";l.d(a,"a",function(){return b});var r=l("mrSG"),i=l("0IaG"),o=l("PSD3"),s=l.n(o),c=l("VfN6"),d=l("fXoL"),m=l("3Pt+"),u=l("wbBK"),f=l("ofXK"),p=l("kG/k");function v(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",18),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n._id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.title," ")}}var b=function(){var t=function(){function t(n,a,l,r){e(this,t),this.dialogRef=n,this.data=a,this.fb=l,this.logicalFormInfoService=r,this.allState=[]}return n(t,[{key:"ngOnInit",value:function(){this.editSitesForm=this.fb.group({siteName:[this.data.siteName],streetNumber:[this.data.streetNumber],streetAddress:[this.data.streetAddress],suburb:[this.data.suburb],postcode:[this.data.postcode],stateId:[this.data.stateId._id]}),this.getAllStates()}},{key:"onSubmit",value:function(){var e=this;this.logicalFormInfoService.updateSite(this.data._id,this.editSitesForm.value).subscribe(function(t){e.dialogRef.close("true"),s.a.fire({title:"Site Edited successfully",showConfirmButton:!1,timer:1200}),e.ngOnInit()})}},{key:"close",value:function(){this.dialogRef.close()}},{key:"getAllStates",value:function(){var e=this;this.logicalFormInfoService.getAllStates().subscribe(function(t){e.allState=t.data})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](i.f),d["\u0275\u0275directiveInject"](i.a),d["\u0275\u0275directiveInject"](m.f),d["\u0275\u0275directiveInject"](u.a))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-edit-site"]],decls:38,vars:2,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],["type","text","formControlName","suburb","id","suburb",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col-3"],["numbersOnly","","type","text","id","postcode","formControlName","postcode",1,"form-control"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"section",0),d["\u0275\u0275elementStart"](1,"div"),d["\u0275\u0275elementStart"](2,"div",1),d["\u0275\u0275elementStart"](3,"h2"),d["\u0275\u0275text"](4,"Update Site Information"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"button",2),d["\u0275\u0275listener"]("click",function(){return t.close()}),d["\u0275\u0275elementStart"](6,"span",3),d["\u0275\u0275text"](7,"\xd7"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](8,"hr"),d["\u0275\u0275elementStart"](9,"div",4),d["\u0275\u0275elementStart"](10,"div",5),d["\u0275\u0275elementStart"](11,"p",6),d["\u0275\u0275text"](12," Site Name "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](13,"input",7),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](14,"div",4),d["\u0275\u0275elementStart"](15,"div",8),d["\u0275\u0275elementStart"](16,"p",6),d["\u0275\u0275text"](17," Street Address "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](18,"textarea",9),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](19,"div",8),d["\u0275\u0275elementStart"](20,"p",6),d["\u0275\u0275text"](21,"Suburb"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](22,"textarea",10),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](23,"div",8),d["\u0275\u0275elementStart"](24,"p",11),d["\u0275\u0275text"](25,"State"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](26,"select",12),d["\u0275\u0275elementStart"](27,"option",13),d["\u0275\u0275text"](28,"Select"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](29,v,2,2,"option",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](30,"div",15),d["\u0275\u0275elementStart"](31,"p",6),d["\u0275\u0275text"](32," Postal Code "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](33,"input",16),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](34,"hr"),d["\u0275\u0275elementStart"](35,"div"),d["\u0275\u0275elementStart"](36,"button",17),d["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),d["\u0275\u0275text"](37,"Update"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("formGroup",t.editSitesForm),d["\u0275\u0275advance"](29),d["\u0275\u0275property"]("ngForOf",t.allState))},directives:[m.s,m.k,i.g,m.d,m.r,m.i,m.A,m.v,m.D,f.m,p.a],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t=Object(r.b)([Object(c.a)({checkProperties:!0})],t)}()},"2xAX":function(t,a,l){"use strict";l.d(a,"a",function(){return h});var r=l("mrSG"),i=l("3Pt+"),o=l("0IaG"),s=l("PSD3"),c=l.n(s),d=l("VfN6"),m=l("fXoL"),u=l("wbBK"),f=l("5eqV"),p=l("ofXK"),v=l("kG/k");function b(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"option",18),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275property"]("value",n._id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",n.title," ")}}var h=function(){var t=function(){function t(n,a,l,r){e(this,t),this.dialogRef=n,this.data=a,this.fb=l,this.logicalFormInfoService=r,this.allState=[]}return n(t,[{key:"ngOnInit",value:function(){this.getAllStates(),this.addSitesForm=this.fb.group({siteName:["",i.C.required],streetAddress:["",i.C.required],suburb:["",i.C.required],postcode:["",i.C.required],stateId:["",i.C.required]})}},{key:"getAllStates",value:function(){var e=this;this.logicalFormInfoService.getAllStates().subscribe(function(t){e.allState=t.data})}},{key:"onSubmit",value:function(){var e=this;this.logicalFormInfoService.addSite(this.addSitesForm.value).subscribe(function(t){e.dialogRef.close("true"),c.a.fire({title:"Site Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"close",value:function(){this.dialogRef.close()}},{key:"calcHeight",value:function(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](o.f),m["\u0275\u0275directiveInject"](o.a),m["\u0275\u0275directiveInject"](i.f),m["\u0275\u0275directiveInject"](u.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-site"]],decls:38,vars:4,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row",3,"formGroup"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"row"],[1,"my-3","col-3"],["autosize","","type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],["autosize","","type","text","formControlName","suburb","id","suburb",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["numbersOnly","","type","text","id","postcode","formControlName","postcode",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"section",0),m["\u0275\u0275elementStart"](1,"div"),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275elementStart"](3,"h2"),m["\u0275\u0275text"](4,"Add Site Information"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"button",2),m["\u0275\u0275listener"]("click",function(){return t.close()}),m["\u0275\u0275elementStart"](6,"span",3),m["\u0275\u0275text"](7,"\xd7"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](8,"hr"),m["\u0275\u0275elementStart"](9,"div",4),m["\u0275\u0275elementStart"](10,"div",5),m["\u0275\u0275elementStart"](11,"p",6),m["\u0275\u0275text"](12," Site Name "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](13,"input",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](14,"div",8),m["\u0275\u0275elementStart"](15,"div",9),m["\u0275\u0275elementStart"](16,"p",6),m["\u0275\u0275text"](17," Street Address "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](18,"textarea",10),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](19,"div",9),m["\u0275\u0275elementStart"](20,"p",6),m["\u0275\u0275text"](21,"Suburb"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](22,"textarea",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](23,"div",9),m["\u0275\u0275elementStart"](24,"p",12),m["\u0275\u0275text"](25,"State"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](26,"select",13),m["\u0275\u0275elementStart"](27,"option",14),m["\u0275\u0275text"](28,"Select"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](29,b,2,2,"option",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](30,"div",9),m["\u0275\u0275elementStart"](31,"p",6),m["\u0275\u0275text"](32," PostCode "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](33,"input",16),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](34,"hr"),m["\u0275\u0275elementStart"](35,"div"),m["\u0275\u0275elementStart"](36,"button",17),m["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),m["\u0275\u0275text"](37," Add "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275property"]("formGroup",t.addSitesForm),m["\u0275\u0275advance"](9),m["\u0275\u0275property"]("formGroup",t.addSitesForm),m["\u0275\u0275advance"](20),m["\u0275\u0275property"]("ngForOf",t.allState),m["\u0275\u0275advance"](7),m["\u0275\u0275property"]("disabled",t.addSitesForm.invalid))},directives:[i.s,i.k,o.g,i.d,i.r,i.i,f.a,i.A,i.v,i.D,p.m,v.a],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t=Object(r.b)([Object(d.a)({checkProperties:!0})],t)}()},"3qhI":function(t,a,l){"use strict";l.r(a),l.d(a,"ConfiLogiModule",function(){return xt});var r=l("bTqV"),i=l("NFeN"),o=l("ofXK"),s=l("PCNd"),c=l("3Pt+"),d=l("mrSG"),m=l("PSD3"),u=l.n(m),f=l("0IaG"),p=l("+z1p"),v=l("VfN6"),b=l("fXoL"),h=l("wbBK"),g=l("5eqV"),k=l("zioG");function C(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1," Add High Risk Construction parameter "),b["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add PPE"),b["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Licence"),b["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Identify Hazards"),b["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Risk Level"),b["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Control Action Required"),b["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Residual Risk"),b["\u0275\u0275elementEnd"]())}function R(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Person Responsible"),b["\u0275\u0275elementEnd"]())}function A(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Code of Practice"),b["\u0275\u0275elementEnd"]())}function T(e,t){1&e&&b["\u0275\u0275element"](0,"textarea",8)}function P(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275element"](1,"ckeditor",9),b["\u0275\u0275text"](2,"` "),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("editor",n.Editor)}}var D,O=((D=function(){function t(n,a,l,r){e(this,t),this.fb=n,this.logicalFormInfo=a,this.dialogRef=l,this.data=r,this.Editor=p,this.dataRec=r}return n(t,[{key:"ngOnInit",value:function(){this.addItem=this.fb.group({title:["",c.C.required]})}},{key:"onFormSubmit",value:function(){var e={title:this.addItem.get("title").value};switch(this.dataRec.type){case"highRisk":this.addHighRisk(e);break;case"ppe":this.addPPE(e);break;case"licence":this.addLicence(e);break;case"identifyHazards":this.addHazard(e);break;case"codeOfPract":this.addCOP(e);break;case"riskLevel":this.addRiskLevel(e);break;case"ctrlActreq":this.addControlActReq(e);break;case"resRiskLevel":this.addResidRiskLevel(e);break;case"perResbl":this.addStaff(e)}}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}},{key:"addHighRisk",value:function(e){var t=this;this.logicalFormInfo.addRisk(e).subscribe(function(e){t.dialogRef.close("highRisk"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addPPE",value:function(e){var t=this;this.logicalFormInfo.addPPE(e).subscribe(function(e){t.dialogRef.close("ppe"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addRiskLevel",value:function(e){var t=this;this.logicalFormInfo.addRiskLevel(e).subscribe(function(e){t.dialogRef.close("riskLevel"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addResidRiskLevel",value:function(e){var t=this;this.logicalFormInfo.addResidual(e).subscribe(function(e){t.dialogRef.close("resRiskLevel"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addHazard",value:function(e){var t=this;this.logicalFormInfo.addHazards(e).subscribe(function(e){t.dialogRef.close("identifyHazards"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addLicence",value:function(e){var t=this;this.logicalFormInfo.addLicence({title:e.title,tradeCategoryId:this.dataRec.tradeCategoryId}).subscribe(function(e){t.dialogRef.close("licence"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addControlActReq",value:function(e){var t=this;this.logicalFormInfo.addContrlActReq(e).subscribe(function(e){t.dialogRef.close("ctrlActreq"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addStaff",value:function(e){var t=this;this.logicalFormInfo.addStaff(e).subscribe(function(e){t.dialogRef.close("perResbl"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"addCOP",value:function(e){var t=this;this.logicalFormInfo.addCode(e).subscribe(function(e){t.dialogRef.close("codeOfPract"),u.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}}]),t}()).\u0275fac=function(e){return new(e||D)(b["\u0275\u0275directiveInject"](c.f),b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](f.f),b["\u0275\u0275directiveInject"](f.a))},D.\u0275cmp=b["\u0275\u0275defineComponent"]({type:D,selectors:[["app-add-item"]],decls:20,vars:13,consts:[[3,"formGroup"],[4,"ngIf"],["autosize","","class","form-control sign","placeholder","Enter your text......","formControlName","title",4,"ngIf"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"],["autosize","","placeholder","Enter your text......","formControlName","title",1,"form-control","sign"],["formControlName","title",3,"editor"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"form",0),b["\u0275\u0275template"](1,C,2,0,"h2",1),b["\u0275\u0275template"](2,S,2,0,"h2",1),b["\u0275\u0275template"](3,y,2,0,"h2",1),b["\u0275\u0275template"](4,E,2,0,"h2",1),b["\u0275\u0275template"](5,x,2,0,"h2",1),b["\u0275\u0275template"](6,I,2,0,"h2",1),b["\u0275\u0275template"](7,w,2,0,"h2",1),b["\u0275\u0275template"](8,R,2,0,"h2",1),b["\u0275\u0275template"](9,A,2,0,"h2",1),b["\u0275\u0275template"](10,T,1,0,"textarea",2),b["\u0275\u0275template"](11,P,3,1,"ng-container",1),b["\u0275\u0275element"](12,"br"),b["\u0275\u0275elementStart"](13,"div",3),b["\u0275\u0275elementStart"](14,"div",4),b["\u0275\u0275elementStart"](15,"button",5),b["\u0275\u0275listener"]("click",function(){return t.closeDialog()}),b["\u0275\u0275text"](16,"Close"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](17,"div",6),b["\u0275\u0275elementStart"](18,"button",7),b["\u0275\u0275listener"]("click",function(){return t.onFormSubmit()}),b["\u0275\u0275text"](19," Add "),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("formGroup",t.addItem),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","highRisk"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ppe"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","licence"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","identifyHazards"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","riskLevel"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ctrlActreq"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","resRiskLevel"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","perResbl"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","codeOfPract"===t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","identifyHazards"!==t.dataRec.type&&"ctrlActreq"!==t.dataRec.type),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf","ctrlActreq"===t.dataRec.type||"identifyHazards"===t.dataRec.type),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("disabled",!t.addItem.valid))},directives:[c.E,c.s,c.k,o.n,r.a,c.d,g.a,c.r,c.i,k.a],styles:[""]}),D=Object(d.b)([Object(v.a)({checkProperties:!0})],D)),N=l("tyNb"),j=l("kmnG"),F=l("d3UM"),L=l("FKr1"),J=l("Qu3c");function _(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"p",13),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=t.index;return b["\u0275\u0275nextContext"]().handleClick(e)}),b["\u0275\u0275element"](1,"i",14),b["\u0275\u0275elementStart"](2,"span",15),b["\u0275\u0275text"](3),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,l=t.index,r=b["\u0275\u0275nextContext"]();b["\u0275\u0275classProp"]("active",r.stepperList[l].i),b["\u0275\u0275advance"](3),b["\u0275\u0275textInterpolate"](a.name)}}function z(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"span",21),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=b["\u0275\u0275nextContext"]().$implicit;return b["\u0275\u0275nextContext"]().addItem(e.code)}),b["\u0275\u0275text"](1,"add_circle_outline"),b["\u0275\u0275elementEnd"]()}}function q(e,t){1&e&&b["\u0275\u0275elementContainer"](0)}var H=function(e){return{name:e}};function M(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",16),b["\u0275\u0275elementStart"](1,"h2",17),b["\u0275\u0275text"](2),b["\u0275\u0275template"](3,z,2,0,"span",18),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](4,"p",19),b["\u0275\u0275template"](5,q,1,0,"ng-container",20),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](6,"div"),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit,a=t.index,l=b["\u0275\u0275nextContext"](),r=b["\u0275\u0275reference"](15);b["\u0275\u0275classProp"]("active",l.stepperList[a].i)("show",l.stepperList[a].i),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"](" ",n.name,""),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",n.code),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngTemplateOutlet",r)("ngTemplateOutletContext",b["\u0275\u0275pureFunction1"](8,H,n.name))}}function V(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function B(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function G(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.title,"")}}function Q(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",27),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label",30),b["\u0275\u0275text"](5,"HighRiskConstruction"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",31),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,V,1,0,"span",32),b["\u0275\u0275template"](9,B,2,0,"span",32),b["\u0275\u0275template"](10,G,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,$,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("highRiskConstr").value&&n.JobTaskDetail.get("highRiskConstr").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("highRiskConstr").value?null:n.JobTaskDetail.get("highRiskConstr").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("highRiskConstr").value?null:n.JobTaskDetail.get("highRiskConstr").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.highRiskConstructionData)}}function W(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function X(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("",n.title," ")}}function Y(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"PPE selection"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",37),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,W,1,0,"span",32),b["\u0275\u0275template"](9,X,2,0,"span",32),b["\u0275\u0275template"](10,U,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,K,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("PPE").value&&n.JobTaskDetail.get("PPE").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("PPE").value?null:n.JobTaskDetail.get("PPE").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("PPE").value?null:n.JobTaskDetail.get("PPE").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.PPESelectionData)}}function Z(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function ee(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("",n.title," ")}}function ae(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Licences"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",38),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,Z,1,0,"span",32),b["\u0275\u0275template"](9,ee,2,0,"span",32),b["\u0275\u0275template"](10,te,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,ne,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("LicenceCat").value&&n.JobTaskDetail.get("LicenceCat").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("LicenceCat").value?null:n.JobTaskDetail.get("LicenceCat").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("LicenceCat").value?null:n.JobTaskDetail.get("LicenceCat").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.licenceByTradecat)}}function le(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function re(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function ie(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function oe(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-option",41,42),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=t.$implicit,a=b["\u0275\u0275reference"](1);return b["\u0275\u0275nextContext"](3).hazardsUpdateAll(a,null==e?null:e._id)}),b["\u0275\u0275element"](2,"span",43,44),b["\u0275\u0275element"](4,"button",45),b["\u0275\u0275text"](5),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit,l=b["\u0275\u0275reference"](3);b["\u0275\u0275property"]("value",null==a?null:a._id),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("innerHTML",a.title,b["\u0275\u0275sanitizeHtml"]),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("matTooltip",null==l?null:l.innerText),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",l.innerText," ")}}function se(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Identify Hazards"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",39),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,le,1,0,"span",32),b["\u0275\u0275template"](9,re,2,0,"span",32),b["\u0275\u0275template"](10,ie,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,oe,6,4,"mat-option",40),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("identifyHazrds").value&&n.JobTaskDetail.get("identifyHazrds").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("identifyHazrds").value?null:n.JobTaskDetail.get("identifyHazrds").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("identifyHazrds").value?null:n.JobTaskDetail.get("identifyHazrds").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.allHazards)}}function ce(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function de(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Risk Level"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",46),b["\u0275\u0275template"](7,ce,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngForOf",n.riskLevelData)}}function me(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function ue(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function fe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function pe(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"mat-option",41,42),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=t.$implicit,a=b["\u0275\u0275reference"](1);return b["\u0275\u0275nextContext"](3).contrActReqUpdateAll(a,e._id)}),b["\u0275\u0275text"](2),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;b["\u0275\u0275property"]("value",a._id),b["\u0275\u0275advance"](2),b["\u0275\u0275textInterpolate1"]("",a.title," ")}}function ve(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Control Action Required"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",47),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,me,1,0,"span",32),b["\u0275\u0275template"](9,ue,2,0,"span",32),b["\u0275\u0275template"](10,fe,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,pe,3,2,"mat-option",40),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("contrActReq").value&&n.JobTaskDetail.get("contrActReq").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("contrActReq").value?null:n.JobTaskDetail.get("contrActReq").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("contrActReq").value?null:n.JobTaskDetail.get("contrActReq").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.allContrlActReq)}}function be(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function he(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function ge(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function ke(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("",n.title," ")}}function Ce(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Code of Practice"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",48),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,be,1,0,"span",32),b["\u0275\u0275template"](9,he,2,0,"span",32),b["\u0275\u0275template"](10,ge,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,ke,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("codeOfPract").value&&n.JobTaskDetail.get("codeOfPract").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("codeOfPract").value?null:n.JobTaskDetail.get("codeOfPract").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("codeOfPract").value?null:n.JobTaskDetail.get("codeOfPract").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.allCodeOfPract)}}function Se(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function ye(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",28),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Residule Risk Level"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",49),b["\u0275\u0275template"](7,Se,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngForOf",n.resiRiskLevelData)}}function Ee(e,t){1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",36),b["\u0275\u0275elementStart"](2,"div",50),b["\u0275\u0275elementStart"](3,"div",51),b["\u0275\u0275element"](4,"input",52),b["\u0275\u0275elementStart"](5,"label",53),b["\u0275\u0275text"](6,"Yes"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](7,"div",51),b["\u0275\u0275element"](8,"input",54),b["\u0275\u0275elementStart"](9,"label",55),b["\u0275\u0275text"](10,"No"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]())}function xe(e,t){1&e&&b["\u0275\u0275element"](0,"span",34)}function Ie(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," One Item selected "),b["\u0275\u0275elementEnd"]())}function we(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"span",34),b["\u0275\u0275text"](1," More than one selected "),b["\u0275\u0275elementEnd"]())}function Re(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"mat-option",35),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"]("",n.title," ")}}function Ae(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",62),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).setRelation()}),b["\u0275\u0275text"](1," Set "),b["\u0275\u0275elementEnd"]()}}function Te(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",62),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"](3).setRelation()}),b["\u0275\u0275text"](1," Update "),b["\u0275\u0275elementEnd"]()}}function Pe(e,t){if(1&e&&(b["\u0275\u0275elementContainerStart"](0),b["\u0275\u0275elementStart"](1,"div",56),b["\u0275\u0275elementStart"](2,"div",57),b["\u0275\u0275elementStart"](3,"mat-form-field",29),b["\u0275\u0275elementStart"](4,"mat-label"),b["\u0275\u0275text"](5,"Person Responsible"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](6,"mat-select",58),b["\u0275\u0275elementStart"](7,"mat-select-trigger"),b["\u0275\u0275template"](8,xe,1,0,"span",32),b["\u0275\u0275template"](9,Ie,2,0,"span",32),b["\u0275\u0275template"](10,we,2,0,"span",32),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](11,Re,2,2,"mat-option",33),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](12,"div",59),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"div",60),b["\u0275\u0275template"](14,Ae,2,0,"button",61),b["\u0275\u0275template"](15,Te,2,0,"button",61),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementContainerEnd"]()),2&e){var n=b["\u0275\u0275nextContext"](2);b["\u0275\u0275advance"](8),b["\u0275\u0275property"]("ngIf",!(null!=n.JobTaskDetail.get("personResp").value&&n.JobTaskDetail.get("personResp").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",1==(null==n.JobTaskDetail.get("personResp").value?null:n.JobTaskDetail.get("personResp").value.length)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",(null==n.JobTaskDetail.get("personResp").value?null:n.JobTaskDetail.get("personResp").value.length)>1),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngForOf",n.staff),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngIf",!(null!=n.jobTask&&n.jobTask.set)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",null==n.jobTask?null:n.jobTask.set)}}function De(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275template"](0,Q,12,4,"ng-container",22),b["\u0275\u0275template"](1,Y,12,4,"ng-container",22),b["\u0275\u0275template"](2,ae,12,4,"ng-container",22),b["\u0275\u0275template"](3,se,12,4,"ng-container",22),b["\u0275\u0275template"](4,de,8,1,"ng-container",22),b["\u0275\u0275template"](5,ve,12,4,"ng-container",22),b["\u0275\u0275template"](6,Ce,12,4,"ng-container",22),b["\u0275\u0275template"](7,ye,8,1,"ng-container",22),b["\u0275\u0275template"](8,Ee,11,0,"ng-container",22),b["\u0275\u0275template"](9,Pe,16,6,"ng-container",22),b["\u0275\u0275elementStart"](10,"div",23),b["\u0275\u0275elementStart"](11,"button",24),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().prev()}),b["\u0275\u0275element"](12,"i",25),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](13,"button",24),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().next()}),b["\u0275\u0275element"](14,"i",26),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.name;b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="HighRisk Construction".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="PPE".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Licence".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Identify Hazards".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Risk Level".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Control Action Required".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Code of Practice".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Residule Risk Level".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Chemical related Task".toLowerCase()),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.toLowerCase()=="Person Responsible".toLowerCase())}}var Oe,Ne,je=function(){return["/admin/confiLogi/setLogic"]},Fe=((Oe=function(){function t(n,a,l,r,i){e(this,t),this.route=n,this.dialog=a,this.router=l,this.fb=r,this.logicalFormInfo=i,this.jobTask=null,this.highRiskConstructionData=[],this.PPESelectionData=[],this.licenseAndQual=[],this.allHazards=[],this.sendHazards=[],this.hazardInnerText=[],this.allContrlActReq=[],this.sendContrlActReq=[],this.licenceByTradecat=[],this.resiRiskLevelData=[],this.riskLevelData=[],this.staff=[],this.allCodeOfPract=[],this.isLinear=!1,this.jobTaskId=null,this.stepperList=[{name:"HighRisk Construction",i:1,code:"highRisk"},{name:"PPE",i:0,code:"ppe"},{name:"Licence",i:0,code:"licence"},{name:"Identify Hazards",i:0,code:"identifyHazards"},{name:"Risk Level",i:0,code:"riskLevel"},{name:"Control Action Required",i:0,code:"ctrlActreq"},{name:"Code of Practice",i:0,code:"codeOfPract"},{name:"Residule Risk Level",i:0,code:"resRiskLevel"},{name:"Chemical related Task",i:0,code:""},{name:"Person Responsible",i:0,code:"perResbl"}],this.count=0}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.JobTaskDetail=this.fb.group({highRiskConstr:[],PPE:[],codeOfPract:[],LicenceCat:[],identifyHazrds:[],contrActReq:[],riskLevel:[],residualRiskL:[],personResp:[],chemical:[]}),this.route.queryParams.subscribe(function(t){e.jobTaskId=t.id,e.logicalFormInfo.getJobtaskById(t.id).subscribe(function(t){var n;e.jobTask=t.data,e.getLicenceByTradeCat(e.jobTask.tradeCategoryId),1==e.jobTask.set&&e.JobTaskDetail.patchValue({highRiskConstr:e.jobTask.risk,PPE:e.jobTask.PPE,codeOfPract:e.jobTask.codeOfPractice,LicenceCat:e.jobTask.licence,identifyHazrds:e.jobTask.identifyHazard,contrActReq:e.jobTask.controlActionRequired,riskLevel:e.jobTask.riskLevel,residualRiskL:e.jobTask.residualRisk,personResp:e.jobTask.staff,chemical:e.jobTask.chemical}),"YES"===(null===(n=e.jobTask)||void 0===n?void 0:n.chemical)?e.JobTaskDetail.get("chemical").setValue("YES"):e.JobTaskDetail.get("chemical").setValue("NO")})}),this.getAllHighRisk(),this.getAllPPE(),this.getAllHazard(),this.getAllContrActReq(),this.getAllStaff(),this.getAllResidualRiskLevel(),this.getAllRiskLevel(),this.getAllCodeOfPractice()}},{key:"getAllResidualRiskLevel",value:function(){var e=this;this.logicalFormInfo.getAllResidual().subscribe(function(t){e.resiRiskLevelData=t.data})}},{key:"getAllRiskLevel",value:function(){var e=this;this.logicalFormInfo.getAllRiskLevel().subscribe(function(t){e.riskLevelData=t.data})}},{key:"getAllStaff",value:function(){var e=this;this.logicalFormInfo.getAllStaff().subscribe(function(t){e.staff=t.data})}},{key:"getAllHighRisk",value:function(){var e=this;this.logicalFormInfo.getAllRisk().subscribe(function(t){e.highRiskConstructionData=t.data})}},{key:"getAllPPE",value:function(){var e=this;this.logicalFormInfo.getAllPPE().subscribe(function(t){e.PPESelectionData=t.data})}},{key:"getAllCodeOfPractice",value:function(){var e=this;this.logicalFormInfo.getAllCOP().subscribe(function(t){e.allCodeOfPract=t.data})}},{key:"getAllHazard",value:function(){var e=this;this.logicalFormInfo.getAllHazards().subscribe(function(t){e.allHazards=t.data.filter(function(t){return t.jobTaskId===e.jobTaskId||!t.jobTaskId}),e.sendHazards=e.allHazards})}},{key:"getAllContrActReq",value:function(){var e=this;this.logicalFormInfo.getAllContrlActReq().subscribe(function(t){e.allContrlActReq=t.data.filter(function(t){return t.jobTaskId===e.jobTaskId||!t.jobTaskId}),e.sendContrlActReq=e.allContrlActReq})}},{key:"getLicenceByTradeCat",value:function(e){var t=this;this.logicalFormInfo.getLicenceByTradeCat(e).subscribe(function(e){t.licenceByTradecat=e.data})}},{key:"setRelation",value:function(){var e=this,t=[],n=this.JobTaskDetail.get("contrActReq").value;null!=n&&this.allContrlActReq.forEach(function(e){n.forEach(function(n){e._id===n&&t.push({title:e.title,id:e._id})})});var a=[],l=this.JobTaskDetail.get("identifyHazrds").value;null!=l&&this.allHazards.forEach(function(e){l.forEach(function(t){e._id===t&&a.push({title:e.title,id:e._id})})});var r=[],i=this.JobTaskDetail.get("codeOfPract").value;null!=i&&this.allCodeOfPract.forEach(function(e){i.forEach(function(t){e._id===t&&r.push({title:e.title,id:e._id})})});var o=[],s=this.JobTaskDetail.get("personResp").value;null!=s&&this.staff.forEach(function(e){s.forEach(function(t){e._id===t&&o.push({title:e.title,id:e._id})})});var c={title:this.jobTask.title,risk:this.JobTaskDetail.get("highRiskConstr").value||[],codeOfPractice:this.JobTaskDetail.get("codeOfPract").value||[],PPE:this.JobTaskDetail.get("PPE").value||[],tradeCategoryId:this.jobTask.tradeCategoryId,licence:this.JobTaskDetail.get("LicenceCat").value||[],identifyHazard:this.JobTaskDetail.get("identifyHazrds").value||[],controlActionRequired:this.JobTaskDetail.get("contrActReq").value||[],riskLevel:this.JobTaskDetail.get("riskLevel").value,residualRisk:this.JobTaskDetail.get("residualRiskL").value,staff:this.JobTaskDetail.get("personResp").value,chemical:this.JobTaskDetail.get("chemical").value,allHazardsTitle:a,allContrlActReqTitle:t,allCOPTitle:r,staffTitle:o,set:!0};this.logicalFormInfo.updateJobTask(c,this.jobTaskId).subscribe(function(t){e.logicalFormInfo.updateAllContrlActReq(e.sendContrlActReq,e.jobTaskId).subscribe(),e.logicalFormInfo.updateAllHazards(e.sendHazards,e.jobTaskId).subscribe(),u.a.fire({title:"Relation set successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/confiLogi/setLogic"])})}},{key:"addItem",value:function(e){var t=this,n=this.jobTask.tradeCategoryId;n="licence"===e?{type:e,tradeCategoryId:this.jobTask.tradeCategoryId}:{type:e,tradeCategoryId:""},this.dialog.open(O,{width:"550px",data:n}).afterClosed().subscribe(function(e){switch(e){case"highRisk":var n=t.JobTaskDetail.get("highRiskConstr").value;t.getAllHighRisk(),t.JobTaskDetail.get("highRiskConstr").patchValue(n);break;case"ppe":var a=t.JobTaskDetail.get("PPE").value;t.getAllPPE(),t.JobTaskDetail.get("PPE").patchValue(a);break;case"codeOfPract":var l=t.JobTaskDetail.get("codeOfPract").value;t.getAllCodeOfPractice(),t.JobTaskDetail.get("codeOfPract").patchValue(l);break;case"licence":var r=t.JobTaskDetail.get("LicenceCat").value;t.getLicenceByTradeCat(t.jobTask.tradeCategoryId),t.JobTaskDetail.get("LicenceCat").patchValue(r);break;case"identifyHazards":var i=t.JobTaskDetail.get("identifyHazrds").value;t.getAllHazard(),t.JobTaskDetail.get("identifyHazrds").patchValue(i);break;case"riskLevel":var o=t.JobTaskDetail.get("riskLevel").value;t.getAllRiskLevel(),t.JobTaskDetail.get("riskLevel").patchValue(o);break;case"ctrlActreq":var s=t.JobTaskDetail.get("contrActReq").value;t.getAllContrActReq(),t.JobTaskDetail.get("contrActReq").patchValue(s);break;case"resRiskLevel":var c=t.JobTaskDetail.get("residualRiskL").value;t.getAllResidualRiskLevel(),t.JobTaskDetail.get("residualRiskL").patchValue(c);break;case"perResbl":var d=t.JobTaskDetail.get("personResp").value;t.getAllStaff(),t.JobTaskDetail.get("personResp").patchValue(d)}})}},{key:"prev",value:function(){this.count!=this.stepperList.length+1&&0!=this.count&&(this.count--,this.stepperList.map(function(e){e.i=0}),this.stepperList[this.count].i=1)}},{key:"next",value:function(){this.count!=this.stepperList.length-1&&(this.count++,this.stepperList.map(function(e){e.i=0}),this.stepperList[this.count].i=1)}},{key:"handleClick",value:function(e){this.count=e,this.stepperList.map(function(e){e.i=0}),this.stepperList[this.count].i=1}},{key:"contrActReqUpdateAll",value:function(e,t){var n=this;this.sendContrlActReq=this.allContrlActReq.slice().map(function(t){return e.value==t._id&&(t.jobTaskId=e.selected?n.jobTaskId:""),{_id:t._id,jobTaskId:null==t?void 0:t.jobTaskId}}),console.table(this.sendContrlActReq)}},{key:"hazardsUpdateAll",value:function(e,t){var n=this;this.sendHazards=this.allHazards.slice().map(function(t){return e.value==t._id&&(t.jobTaskId=e.selected?n.jobTaskId:""),{_id:t._id,jobTaskId:t.jobTaskId}}),console.table(this.sendHazards)}}]),t}()).\u0275fac=function(e){return new(e||Oe)(b["\u0275\u0275directiveInject"](N.a),b["\u0275\u0275directiveInject"](f.b),b["\u0275\u0275directiveInject"](N.f),b["\u0275\u0275directiveInject"](c.f),b["\u0275\u0275directiveInject"](h.a))},Oe.\u0275cmp=b["\u0275\u0275defineComponent"]({type:Oe,selectors:[["app-set-relation"]],decls:16,vars:6,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,""],[1,"row"],[1,"col-md-3"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","nav-pills-custom"],["class","nav-link mb-3 p-3 shadow","id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-9"],["id","v-pills-tabContent",1,"tab-content"],["class","tab-pane fade shadow rounded bg-white p-5","id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",3,"active","show",4,"ngFor","ngForOf"],["let","","class","my-auto",3,"formGroup"],["test",""],["id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-link","mb-3","p-3","shadow",3,"click"],[1,"fa","fa-user-circle-o","mr-2"],[1,"font-weight-bold","small","text-uppercase"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","shadow","rounded","bg-white","p-5"],[1,"font-italic","mb-4"],["class","material-icons ml-3 my-auto p-0",3,"click",4,"ngIf"],[1,"font-italic","text-muted","mb-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"material-icons","ml-3","my-auto","p-0",3,"click"],[4,"ngIf"],[1,"buttons"],["mat-icon-button","",3,"click"],[1,"fas","fa-arrow-left",2,"font-size","25px"],[1,"fas","fa-arrow-right",2,"font-size","25px"],[1,"row","justify-content-center",2,"margin-top","auto"],[1,"col-7"],["appearance","fill",1,"container"],[1,"text-center"],["formControlName","highRiskConstr","multiple",""],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"example-additional-selection"],[3,"value"],[1,"row","justify-content-center"],["formControlName","PPE","multiple",""],["formControlName","LicenceCat","multiple",""],["formControlName","identifyHazrds","multiple",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["matOption",""],[2,"display","none",3,"innerHTML"],["span",""],[2,"display","none",3,"matTooltip"],["formControlName","riskLevel"],["formControlName","contrActReq","multiple",""],["formControlName","codeOfPract","multiple",""],["formControlName","residualRiskL"],[1,"col-7","text-center"],[1,"form-check","form-check-inline"],["type","radio","value","YES","formControlName","chemical",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","value","NO","formControlName","chemical",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"row","justify-content-center","mt-3"],[1,"col-6"],["formControlName","personResp","multiple",""],[1,"col-1","my-auto"],[1,"text-center","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275element"](1,"i",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",2),b["\u0275\u0275elementStart"](3,"h2"),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"section",3),b["\u0275\u0275elementStart"](6,"div",3),b["\u0275\u0275elementStart"](7,"div",4),b["\u0275\u0275elementStart"](8,"div",5),b["\u0275\u0275elementStart"](9,"div",6),b["\u0275\u0275template"](10,_,4,3,"p",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",8),b["\u0275\u0275elementStart"](12,"div",9),b["\u0275\u0275template"](13,M,7,10,"div",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](14,De,15,10,"ng-template",11,12,b["\u0275\u0275templateRefExtractor"])),2&e&&(b["\u0275\u0275property"]("routerLink",b["\u0275\u0275pureFunction0"](5,je)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("Job Task :\xa0",null==t.jobTask?null:t.jobTask.title,""),b["\u0275\u0275advance"](6),b["\u0275\u0275property"]("ngForOf",t.stepperList),b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("ngForOf",t.stepperList),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroup",t.JobTaskDetail))},directives:[N.g,o.m,c.s,c.k,o.n,o.s,r.a,j.c,j.f,F.a,c.r,c.i,F.c,L.n,J.a,c.x,c.d],styles:['@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css";@import "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#aaa;background:#fff;position:relative}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#45b649;background:#fff}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}@media (min-width:992px){.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";display:block;border-top:8px solid transparent;border-left:10px solid #fff;border-bottom:8px solid transparent;position:absolute;top:50%;right:-10px;transform:translateY(-50%);opacity:0}}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{opacity:1}body[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(270deg,#dce35b,#45b649)}']}),Oe=Object(d.b)([Object(v.a)({checkProperties:!0})],Oe)),Le=l("zQXG"),Je=l("bu9C"),_e=((Ne=function(){function t(){e(this,t)}return n(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(e){return new(e||Ne)},Ne.\u0275cmp=b["\u0275\u0275defineComponent"]({type:Ne,selectors:[["app-confi-logi"]],decls:1,vars:0,template:function(e,t){1&e&&b["\u0275\u0275element"](0,"router-outlet")},directives:[N.k],styles:[""]}),Ne=Object(d.b)([Object(v.a)({checkProperties:!0})],Ne));function ze(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Add Job Task"),b["\u0275\u0275elementEnd"]())}function qe(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2"),b["\u0275\u0275text"](1,"Edit Job Task"),b["\u0275\u0275elementEnd"]())}function He(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",14),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function Me(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",8),b["\u0275\u0275elementStart"](1,"div",9),b["\u0275\u0275element"](2,"input",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"div",9),b["\u0275\u0275elementStart"](4,"select",11),b["\u0275\u0275elementStart"](5,"option",12),b["\u0275\u0275text"](6,"Select category"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](7,He,2,2,"option",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("formGroup",n.addjob),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngForOf",n.licenceCatAll)}}function Ve(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",14),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n._id),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function Be(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"div",8),b["\u0275\u0275elementStart"](1,"div",9),b["\u0275\u0275element"](2,"input",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](3,"div",9),b["\u0275\u0275elementStart"](4,"select",11),b["\u0275\u0275elementStart"](5,"option",12),b["\u0275\u0275text"](6,"Select category"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](7,Ve,2,2,"option",13),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e){var n=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("formGroup",n.jobTaskDetails),b["\u0275\u0275advance"](7),b["\u0275\u0275property"]("ngForOf",n.licenceCatAll)}}function Ge(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",15),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().onFormSubmit()}),b["\u0275\u0275text"](1," Update "),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("disabled",!a.jobTaskDetails.valid)}}function $e(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",15),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().addForm()}),b["\u0275\u0275text"](1," Add "),b["\u0275\u0275elementEnd"]()}if(2&e){var a=b["\u0275\u0275nextContext"]();b["\u0275\u0275property"]("disabled",!a.addjob.valid)}}var Qe,We=((Qe=function(){function t(n,a,l,r,i){e(this,t),this.fb=n,this.router=a,this.logicalFormInfo=l,this.dialogRef=r,this.data=i,this.Edit=!1,this.Add=!0,this.licenceCatAll=[],this.dataRec=i,this.addjob=this.fb.group({title:["",c.C.required],tradeCategory:["",c.C.required]})}return n(t,[{key:"ngOnInit",value:function(){this.getAllCategories(),""!=this.Id?this.Eddit():this.Added()}},{key:"Added",value:function(){1==this.Edit?(this.Edit=!1,this.Add=!0,this.addjob=this.fb.group({title:["",c.C.required],tradeCategory:["",c.C.required]})):this.Add=!0}},{key:"Eddit",value:function(){1==this.Add?(this.Add=!1,this.Edit=!0,this.jobTaskDetails=this.fb.group({title:[this.dataRec.title,c.C.required],tradeCategoryId:[this.dataRec.tradeCategoryId._id,c.C.required]})):this.Edit=!0}},{key:"getAllCategories",value:function(){var e=this;this.logicalFormInfo.getAllLicenceCat().subscribe(function(t){e.licenceCatAll=t.data})}},{key:"onFormSubmit",value:function(){var e=this,t={title:this.jobTaskDetails.get("title").value,tradeCategoryId:this.jobTaskDetails.get("tradeCategoryId").value};this.logicalFormInfo.updateJobTask(t,this.dataRec._id).subscribe(function(t){e.dialogRef.close("true"),u.a.fire({title:"JobTask Updated successfully",showConfirmButton:!1,timer:1200})},function(e){console.error(e)})}},{key:"addForm",value:function(){var e=this;this.logicalFormInfo.addJobTask(this.addjob.value).subscribe(function(t){e.dialogRef.close("true"),u.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200})},function(e){console.error(e)})}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(e){return new(e||Qe)(b["\u0275\u0275directiveInject"](c.f),b["\u0275\u0275directiveInject"](N.f),b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](f.f),b["\u0275\u0275directiveInject"](f.a))},Qe.\u0275cmp=b["\u0275\u0275defineComponent"]({type:Qe,selectors:[["app-add-job-task"]],decls:15,vars:6,consts:[[1,"container","px-4","py-4","bg-white"],["mat-dialog-title","",1,"dialog-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],["class","row",3,"formGroup",4,"ngIf"],[1,"col-md-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-6"],["type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275elementStart"](1,"div",1),b["\u0275\u0275template"](2,ze,2,0,"h2",2),b["\u0275\u0275template"](3,qe,2,0,"h2",2),b["\u0275\u0275elementStart"](4,"button",3),b["\u0275\u0275listener"]("click",function(){return t.close()}),b["\u0275\u0275elementStart"](5,"span",4),b["\u0275\u0275text"](6,"\xd7"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](7,"br"),b["\u0275\u0275template"](8,Me,8,2,"div",5),b["\u0275\u0275template"](9,Be,8,2,"div",5),b["\u0275\u0275element"](10,"br"),b["\u0275\u0275element"](11,"hr"),b["\u0275\u0275elementStart"](12,"div",6),b["\u0275\u0275template"](13,Ge,2,1,"button",7),b["\u0275\u0275template"](14,$e,2,1,"button",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!t.dataRec),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.dataRec),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngIf",t.Add),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Edit),b["\u0275\u0275advance"](4),b["\u0275\u0275property"]("ngIf",t.Edit),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",t.Add))},directives:[f.g,o.n,c.s,c.k,c.d,c.r,c.i,c.A,c.v,c.D,o.m,r.a],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),Qe=Object(d.b)([Object(v.a)({checkProperties:!0})],Qe)),Xe=l("M9IT"),Ue=l("+0xr"),Ke=l("Dh3D"),Ye=l("yZxC"),Ze=["risk"];function et(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",14),b["\u0275\u0275text"](1,"No."),b["\u0275\u0275elementEnd"]())}function tt(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td",15),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.index)}}function nt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",14),b["\u0275\u0275text"](1,"Title"),b["\u0275\u0275elementEnd"]())}function at(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"td",15),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate"](n.title)}}function lt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"th",16),b["\u0275\u0275text"](1,"Set"),b["\u0275\u0275elementEnd"]())}function rt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"button",19),b["\u0275\u0275text"](1," Set "),b["\u0275\u0275elementEnd"]())}function it(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"button",19),b["\u0275\u0275text"](1," Update "),b["\u0275\u0275elementEnd"]())}function ot(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"td",17),b["\u0275\u0275listener"]("click",function(){b["\u0275\u0275restoreView"](n);var e=t.$implicit;return b["\u0275\u0275nextContext"]().setRelation_2(e._id)}),b["\u0275\u0275template"](1,rt,2,0,"button",18),b["\u0275\u0275template"](2,it,2,0,"button",18),b["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",!a.set),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",a.set)}}function st(e,t){1&e&&b["\u0275\u0275element"](0,"tr",20)}function ct(e,t){1&e&&b["\u0275\u0275element"](0,"tr",21)}function dt(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"tr",22),b["\u0275\u0275elementStart"](1,"td",23),b["\u0275\u0275text"](2,"Data Not Found"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]())}var mt=function(){return[20]};function ut(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",11),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n.value),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function ft(e,t){if(1&e&&(b["\u0275\u0275elementStart"](0,"option",11),b["\u0275\u0275text"](1),b["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;b["\u0275\u0275property"]("value",n.value),b["\u0275\u0275advance"](1),b["\u0275\u0275textInterpolate1"](" ",n.name," ")}}function pt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",12),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().setRelation()}),b["\u0275\u0275text"](1," Set "),b["\u0275\u0275elementEnd"]()}}function vt(e,t){if(1&e){var n=b["\u0275\u0275getCurrentView"]();b["\u0275\u0275elementStart"](0,"button",12),b["\u0275\u0275listener"]("click",function(){return b["\u0275\u0275restoreView"](n),b["\u0275\u0275nextContext"]().setRelation()}),b["\u0275\u0275text"](1," Update "),b["\u0275\u0275elementEnd"]()}}var bt,ht,gt,kt,Ct=function(){return["/admin/confiLogi/setHazard"]},St=[{path:"",component:_e},{path:"setLogic",component:Je.a},{path:"setJobNumber",component:Le.a},{path:"setRelation",component:Fe},{path:"addTask",component:We},{path:"setHazard",component:(ht=function(){function t(n,a,l,r){e(this,t),this.fb=n,this.logicalFormInfo=a,this.setTitle=l,this.router=r,this.hazardData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new Ue.l(this.ELEMENT_DATA)}return n(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.setTitle.setTitle("WHS-Set Hazard Relation"),this.getAllHazardTreatmentRelation()}},{key:"onFormSubmit",value:function(){}},{key:"getAllHazardTreatmentRelation",value:function(){var e=this;this.logicalFormInfo.getAllHazardTreatmentRelation().subscribe(function(t){e.hazardData=t.data,e.hazardData.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=e.hazardData,e.dataSource=new Ue.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"setRelation_2",value:function(e){this.router.navigate(["/admin/confiLogi/setHazardRelation"],{queryParams:{id:e}})}}]),t}(),ht.\u0275fac=function(e){return new(e||ht)(b["\u0275\u0275directiveInject"](c.f),b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](Ye.a),b["\u0275\u0275directiveInject"](N.f))},ht.\u0275cmp=b["\u0275\u0275defineComponent"]({type:ht,selectors:[["app-hazard-treatment"]],viewQuery:function(e,t){var n;1&e&&(b["\u0275\u0275viewQuery"](Xe.a,!0),b["\u0275\u0275viewQuery"](Ke.a,!0),b["\u0275\u0275viewQuery"](Ze,!0)),2&e&&(b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.sort=n.first),b["\u0275\u0275queryRefresh"](n=b["\u0275\u0275loadQuery"]())&&(t.Risk=n))},decls:17,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-stroked-button","","color","primary","class","myBtn",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"h2",0),b["\u0275\u0275text"](1,"Set Hazard's Relation"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",1),b["\u0275\u0275elementStart"](3,"table",2),b["\u0275\u0275elementContainerStart"](4,3),b["\u0275\u0275template"](5,et,2,0,"th",4),b["\u0275\u0275template"](6,tt,2,1,"td",5),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](7,6),b["\u0275\u0275template"](8,nt,2,0,"th",4),b["\u0275\u0275template"](9,at,2,1,"td",5),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275elementContainerStart"](10,7),b["\u0275\u0275template"](11,lt,2,0,"th",8),b["\u0275\u0275template"](12,ot,3,2,"td",9),b["\u0275\u0275elementContainerEnd"](),b["\u0275\u0275template"](13,st,1,0,"tr",10),b["\u0275\u0275template"](14,ct,1,0,"tr",11),b["\u0275\u0275template"](15,dt,3,0,"tr",12),b["\u0275\u0275elementEnd"](),b["\u0275\u0275element"](16,"mat-paginator",13),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275advance"](3),b["\u0275\u0275property"]("dataSource",t.dataSource),b["\u0275\u0275advance"](10),b["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("pageSizeOptions",b["\u0275\u0275pureFunction0"](4,mt)))},directives:[Ue.k,Ke.a,Ue.c,Ue.e,Ue.b,Ue.g,Ue.j,Ue.h,Xe.a,Ue.d,Ke.b,Ue.a,o.n,r.a,Ue.f,Ue.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),ht=Object(d.b)([Object(v.a)({checkProperties:!0})],ht))},{path:"setHazardRelation",component:(bt=function(){function t(n,a,l,r){e(this,t),this.route=n,this.fb=a,this.logicalFormInfo=l,this.router=r,this.hazard=null,this.hazardId=null,this.isLinear=!1,this.Consequences=[{name:"1-Insignificant",value:1},{name:"2-Moderate",value:2},{name:"4-Minor",value:4},{name:"3-Major",value:3},{name:"5-Catastrophic",value:5}],this.Likelihood=[{name:"1-Insignificant",value:1},{name:"3-Moderate",value:3},{name:"2-Minor",value:2},{name:"4-Major",value:4},{name:"5-Catastrophic",value:5}],this.RiskRating=[{name:"Low",value:"low"},{name:"Medium",value:"medium"},{name:"High",value:"high"}],this.ActionRequired=[{name:"Immediately",value:"immediately"},{name:"Today",value:"today"},{name:"This week",value:"thisWeek"},{name:"This Month",value:"thisMonth"}]}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.setHazard=this.fb.group({riskRating:["",c.C.required],actionRequired:["",c.C.required]}),this.route.queryParams.subscribe(function(t){e.hazardId=t.id,e.logicalFormInfo.getHazardTreatmentById(e.hazardId).subscribe(function(t){e.hazard=t.data,1==e.hazard.set&&e.setHazard.patchValue({riskRating:e.hazard.riskRating,actionRequired:e.hazard.actionRequired})})})}},{key:"setRelation",value:function(){var e=this,t={set:!0,title:this.hazard.title,riskRating:this.setHazard.get("riskRating").value,actionRequired:this.setHazard.get("actionRequired").value};this.logicalFormInfo.updateHazardTreatmentRelation(this.hazardId,t).subscribe(function(t){u.a.fire({title:"Updated successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/confiLogi/setHazard"])})}}]),t}(),bt.\u0275fac=function(e){return new(e||bt)(b["\u0275\u0275directiveInject"](N.a),b["\u0275\u0275directiveInject"](c.f),b["\u0275\u0275directiveInject"](h.a),b["\u0275\u0275directiveInject"](N.f))},bt.\u0275cmp=b["\u0275\u0275defineComponent"]({type:bt,selectors:[["app-add-hazard-relation"]],decls:19,vars:8,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,"row",3,"formGroup"],[1,"col-6"],["aria-label","Default select example","formControlName","riskRating",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","actionRequired",1,"form-select","form-control"],[1,"ml-3","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(b["\u0275\u0275elementStart"](0,"div",0),b["\u0275\u0275element"](1,"i",1),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](2,"div",2),b["\u0275\u0275elementStart"](3,"h2"),b["\u0275\u0275text"](4),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](5,"div",3),b["\u0275\u0275elementStart"](6,"div",4),b["\u0275\u0275elementStart"](7,"select",5),b["\u0275\u0275elementStart"](8,"option",6),b["\u0275\u0275text"](9,"Select Rating"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](10,ut,2,2,"option",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](11,"div",4),b["\u0275\u0275elementStart"](12,"select",8),b["\u0275\u0275elementStart"](13,"option",6),b["\u0275\u0275text"](14,"Action Required"),b["\u0275\u0275elementEnd"](),b["\u0275\u0275template"](15,ft,2,2,"option",7),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementStart"](16,"div",9),b["\u0275\u0275template"](17,pt,2,0,"button",10),b["\u0275\u0275template"](18,vt,2,0,"button",10),b["\u0275\u0275elementEnd"](),b["\u0275\u0275elementEnd"]()),2&e&&(b["\u0275\u0275property"]("routerLink",b["\u0275\u0275pureFunction0"](7,Ct)),b["\u0275\u0275advance"](4),b["\u0275\u0275textInterpolate1"]("Hazrad Treatment Relation :\xa0",null==t.hazard?null:t.hazard.title,""),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("formGroup",t.setHazard),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngForOf",t.RiskRating),b["\u0275\u0275advance"](5),b["\u0275\u0275property"]("ngForOf",t.ActionRequired),b["\u0275\u0275advance"](2),b["\u0275\u0275property"]("ngIf",!(null!=t.hazard&&t.hazard.set)),b["\u0275\u0275advance"](1),b["\u0275\u0275property"]("ngIf",null==t.hazard?null:t.hazard.set))},directives:[N.g,c.s,c.k,c.A,c.r,c.i,c.v,c.D,o.m,o.n],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),bt=Object(d.b)([Object(v.a)({checkProperties:!0})],bt))}],yt=((gt=function t(){e(this,t)}).\u0275mod=b["\u0275\u0275defineNgModule"]({type:gt}),gt.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(e){return new(e||gt)},imports:[[N.j.forChild(St)],N.j]}),gt),Et=l("xHqg"),xt=((kt=function t(){e(this,t)}).\u0275mod=b["\u0275\u0275defineNgModule"]({type:kt}),kt.\u0275inj=b["\u0275\u0275defineInjector"]({factory:function(e){return new(e||kt)},imports:[[o.c,yt,s.a,c.m,c.y,Et.d,i.b,r.b,g.b,k.b],o.c,yt,s.a,c.m,c.y,Et.d,i.b,r.b,g.b,k.b]}),kt)},Sgjq:function(t,a,l){"use strict";l.d(a,"a",function(){return k});var r=l("mrSG"),i=l("3Pt+"),o=l("VfN6"),s=l("fXoL"),c=l("wbBK"),d=l("tyNb"),m=l("0IaG"),u=l("ofXK"),f=l("5eqV"),p=l("kG/k"),v=function(){return["/admin/setting/addCustomer"]};function b(e,t){1&e&&(s["\u0275\u0275elementStart"](0,"div",18),s["\u0275\u0275element"](1,"i",19),s["\u0275\u0275elementEnd"]()),2&e&&s["\u0275\u0275property"]("routerLink",s["\u0275\u0275pureFunction0"](1,v))}function h(e,t){if(1&e&&(s["\u0275\u0275elementStart"](0,"option",20),s["\u0275\u0275text"](1),s["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;s["\u0275\u0275property"]("value",n._id),s["\u0275\u0275advance"](1),s["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function g(e,t){if(1&e){var n=s["\u0275\u0275getCurrentView"]();s["\u0275\u0275elementContainerStart"](0,21),s["\u0275\u0275elementStart"](1,"div"),s["\u0275\u0275elementStart"](2,"h1"),s["\u0275\u0275text"](3),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](4,"div",3),s["\u0275\u0275elementStart"](5,"div",22),s["\u0275\u0275elementStart"](6,"p",5),s["\u0275\u0275text"](7," Position "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](8,"input",23),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](9,"div",22),s["\u0275\u0275elementStart"](10,"p",5),s["\u0275\u0275text"](11," Email "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](12,"input",24),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](13,"div",22),s["\u0275\u0275elementStart"](14,"p",5),s["\u0275\u0275text"](15," Phone Number "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](16,"input",25),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](17,"div",26),s["\u0275\u0275elementStart"](18,"span",27),s["\u0275\u0275listener"]("click",function(){return s["\u0275\u0275restoreView"](n),s["\u0275\u0275nextContext"]().addCustomerDetails()}),s["\u0275\u0275text"](19,"add_circle_outline "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](20,"div",26),s["\u0275\u0275elementStart"](21,"span",27),s["\u0275\u0275listener"]("click",function(){s["\u0275\u0275restoreView"](n);var e=t.index;return s["\u0275\u0275nextContext"]().removeCustomerDetails(e)}),s["\u0275\u0275text"](22," remove_circle_outline "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](23,"hr"),s["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.index;s["\u0275\u0275property"]("formGroupName",a),s["\u0275\u0275advance"](3),s["\u0275\u0275textInterpolate1"]("Contact ",a+1,"")}}var k=function(){var t=function(){function t(n,a,l,r){e(this,t),this.fb=n,this.logicalFormInfoService=a,this.router=l,this.dialogRef=r,this.StatesData=[""]}return n(t,[{key:"ngOnInit",value:function(){this.addCustomerForm=this.fb.group({customerName:["",i.C.required],customerContact:["",i.C.required],streetAddress:["",i.C.required],stateId:["",i.C.required],subUrb:["",i.C.required],postCode:["",i.C.required],ABN:["",i.C.required],contacts:this.fb.array([])}),this.addCustomerDetails(),this.getAllStates()}},{key:"addCustomerDetails",value:function(){this.customerArr().push(this.customerForm())}},{key:"customerArr",value:function(){return this.addCustomerForm.get("contacts")}},{key:"customerForm",value:function(){return this.fb.group({email:["",i.C.required],phone:["",i.C.required],position:["",i.C.required]})}},{key:"removeCustomerDetails",value:function(e){var t=this.addCustomerForm.controls.contacts;t.length>1&&t.removeAt(e)}},{key:"onSubmit",value:function(){var e=this;this.logicalFormInfoService.addCustomer(this.addCustomerForm.value).subscribe(function(t){e.dialogRef?e.dialogRef.close("ok"):e.router.navigate(["/admin/setting/addCustomer"])},function(e){console.error(e)})}},{key:"getAllStates",value:function(){var e=this;this.logicalFormInfoService.getAllStates().subscribe(function(t){e.StatesData=t.data})}},{key:"calcHeight",value:function(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(s["\u0275\u0275directiveInject"](i.f),s["\u0275\u0275directiveInject"](c.a),s["\u0275\u0275directiveInject"](d.f),s["\u0275\u0275directiveInject"](m.f))},t.\u0275cmp=s["\u0275\u0275defineComponent"]({type:t,selectors:[["app-adding-cust"]],decls:46,vars:5,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"content",2,"height","60%"],[1,"container","px-4","py-4","bg-white",3,"formGroup"],[1,"row"],[1,"my-3","col"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","id","customerName","formControlName","customerName",1,"form-control"],["type","text","id","customerContact","formControlName","customerContact",1,"form-control"],["autosize","","type","text","id","customerStreetAddress","formControlName","streetAddress",1,"form-control"],["autosize","","type","text","formControlName","subUrb","id","siteName",1,"form-control"],["aria-label","Default select example","formControlName","stateId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","numbersOnly","","id","postCode","formControlName","postCode",1,"form-control"],["type","text","id","businessName","formControlName","ABN",1,"form-control"],["formArrayName","contacts"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"value"],[3,"formGroupName"],[1,"my-3","col-3"],["type","text","formControlName","position","id","position",1,"form-control"],["type","text","formControlName","email","id","email",1,"form-control"],["type","text","formControlName","phone","id","phone",1,"form-control"],[1,"my-3","col-1","my-auto"],[1,"material-icons",2,"margin-top","35%",3,"click"]],template:function(e,t){1&e&&(s["\u0275\u0275template"](0,b,2,2,"div",0),s["\u0275\u0275elementStart"](1,"mat-dialog-content"),s["\u0275\u0275elementStart"](2,"section",1),s["\u0275\u0275elementStart"](3,"div",2),s["\u0275\u0275elementStart"](4,"h2"),s["\u0275\u0275text"](5,"Add Customer"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](6,"hr"),s["\u0275\u0275elementStart"](7,"div",3),s["\u0275\u0275elementStart"](8,"div",4),s["\u0275\u0275elementStart"](9,"p",5),s["\u0275\u0275text"](10," Customer Name "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](11,"input",6),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](12,"div",4),s["\u0275\u0275elementStart"](13,"p",5),s["\u0275\u0275text"](14," Customer Contact "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](15,"input",7),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](16,"div",3),s["\u0275\u0275elementStart"](17,"div",4),s["\u0275\u0275elementStart"](18,"p",5),s["\u0275\u0275text"](19," Street Address "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](20,"textarea",8),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](21,"div",4),s["\u0275\u0275elementStart"](22,"p",5),s["\u0275\u0275text"](23," Suburb "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](24,"textarea",9),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](25,"div",4),s["\u0275\u0275elementStart"](26,"p",5),s["\u0275\u0275text"](27," State "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](28,"select",10),s["\u0275\u0275elementStart"](29,"option",11),s["\u0275\u0275text"](30,"Select State"),s["\u0275\u0275elementEnd"](),s["\u0275\u0275template"](31,h,2,2,"option",12),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](32,"div",4),s["\u0275\u0275elementStart"](33,"p",5),s["\u0275\u0275text"](34," Postal Code "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](35,"input",13),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementStart"](36,"div",3),s["\u0275\u0275elementStart"](37,"div",4),s["\u0275\u0275elementStart"](38,"p",5),s["\u0275\u0275text"](39," Australian Business Name (ABN) "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275element"](40,"input",14),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementContainerStart"](41,15),s["\u0275\u0275template"](42,g,24,2,"ng-container",16),s["\u0275\u0275elementContainerEnd"](),s["\u0275\u0275elementStart"](43,"div"),s["\u0275\u0275elementStart"](44,"button",17),s["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),s["\u0275\u0275text"](45," Submit "),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"](),s["\u0275\u0275elementEnd"]()),2&e&&(s["\u0275\u0275property"]("ngIf",!t.dialogRef),s["\u0275\u0275advance"](3),s["\u0275\u0275property"]("formGroup",t.addCustomerForm),s["\u0275\u0275advance"](28),s["\u0275\u0275property"]("ngForOf",t.StatesData),s["\u0275\u0275advance"](11),s["\u0275\u0275property"]("ngForOf",t.customerArr().controls),s["\u0275\u0275advance"](2),s["\u0275\u0275property"]("disabled",t.addCustomerForm.invalid))},directives:[u.n,m.d,i.s,i.k,i.d,i.r,i.i,f.a,i.A,i.v,i.D,u.m,p.a,i.e,d.g,i.l],styles:[""]}),t=Object(r.b)([Object(o.a)({checkProperties:!0})],t)}()},X72n:function(t,a,l){"use strict";l.d(a,"a",function(){return C});var r=l("mrSG"),i=l("3Pt+"),o=l("PSD3"),s=l.n(o),c=l("VfN6"),d=l("fXoL"),m=l("tyNb"),u=l("wbBK"),f=l("0IaG"),p=l("ofXK"),v=l("5eqV"),b=function(){return["/admin/setting/jobTask"]};function h(e,t){1&e&&(d["\u0275\u0275elementStart"](0,"div",8),d["\u0275\u0275element"](1,"i",9),d["\u0275\u0275elementEnd"]()),2&e&&d["\u0275\u0275property"]("routerLink",d["\u0275\u0275pureFunction0"](1,b))}function g(e,t){if(1&e&&(d["\u0275\u0275elementStart"](0,"option",20),d["\u0275\u0275text"](1),d["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;d["\u0275\u0275property"]("value",n._id),d["\u0275\u0275advance"](1),d["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function k(e,t){if(1&e){var n=d["\u0275\u0275getCurrentView"]();d["\u0275\u0275elementContainerStart"](0,10),d["\u0275\u0275elementStart"](1,"div",11),d["\u0275\u0275elementStart"](2,"div",12),d["\u0275\u0275elementStart"](3,"span"),d["\u0275\u0275text"](4),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](5,"div",13),d["\u0275\u0275element"](6,"textarea",14),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](7,"div",13),d["\u0275\u0275elementStart"](8,"select",15),d["\u0275\u0275elementStart"](9,"option",16),d["\u0275\u0275text"](10," Select category "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275template"](11,g,2,2,"option",17),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](12,"div",18),d["\u0275\u0275elementStart"](13,"span",19),d["\u0275\u0275listener"]("click",function(){return d["\u0275\u0275restoreView"](n),d["\u0275\u0275nextContext"]().addAction()}),d["\u0275\u0275text"](14,"add_circle_outline "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementStart"](15,"div",18),d["\u0275\u0275elementStart"](16,"span",19),d["\u0275\u0275listener"]("click",function(){d["\u0275\u0275restoreView"](n);var e=t.index;return d["\u0275\u0275nextContext"]().removeSafetyModule(e)}),d["\u0275\u0275text"](17," remove_circle_outline "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](18,"hr"),d["\u0275\u0275elementContainerEnd"]()}if(2&e){var a=t.index,l=d["\u0275\u0275nextContext"]();d["\u0275\u0275property"]("formGroupName",a),d["\u0275\u0275advance"](4),d["\u0275\u0275textInterpolate1"]("",a+1,". "),d["\u0275\u0275advance"](7),d["\u0275\u0275property"]("ngForOf",l.licenceCatAll)}}var C=function(){var t=function(){function t(n,a,l,r){e(this,t),this.fb=n,this.router=a,this.logicalFormInfo=l,this.dialogRef=r,this.licenceCatAll=[],this.jobTaskDetails=this.fb.group({arrObj:this.fb.array([])})}return n(t,[{key:"ngOnInit",value:function(){this.addAction(),this.getAllCategories()}},{key:"getAllCategories",value:function(){var e=this;this.logicalFormInfo.getAllLicenceCat().subscribe(function(t){var n;e.licenceCatAll=t.data,e.licenceCatAllIds=null===(n=t.data)||void 0===n?void 0:n.map(function(e){return e._id})})}},{key:"addAction",value:function(){this.add().push(this.newAction())}},{key:"add",value:function(){return this.jobTaskDetails.get("arrObj")}},{key:"newAction",value:function(){return this.fb.group({title:["",i.C.required],tradeCategoryId:["",i.C.required]})}},{key:"removeSafetyModule",value:function(e){var t=this.jobTaskDetails.controls.arrObj;t.length>1&&t.removeAt(e)}},{key:"onFormSubmit",value:function(){var e=this,t={arrObj:this.jobTaskDetails.get("arrObj").value};this.logicalFormInfo.addMultipleJobTask(t).subscribe(function(t){s.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200}),e.dialogRef?e.dialogRef.close("ok"):e.router.navigate(["/admin/setting/jobTask"])},function(t){e.dialogRef&&e.dialogRef.close("error"),console.error(t)})}},{key:"calcHeight",value:function(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1}}]),t}();return t.\u0275fac=function(e){return new(e||t)(d["\u0275\u0275directiveInject"](i.f),d["\u0275\u0275directiveInject"](m.f),d["\u0275\u0275directiveInject"](u.a),d["\u0275\u0275directiveInject"](f.f))},t.\u0275cmp=d["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-job-task"]],decls:13,vars:4,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"container","px-4","py-4","bg-white"],[3,"formGroup","ngSubmit"],[1,"text-center"],["formArrayName","arrObj"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"formGroupName"],[1,"row","justify-content-center"],[1,"mr-1","mt-2"],[1,"col-4"],["autosize","","type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","mt-2"],[1,"material-icons",3,"click"],[3,"value"]],template:function(e,t){1&e&&(d["\u0275\u0275template"](0,h,2,2,"div",0),d["\u0275\u0275elementStart"](1,"div",1),d["\u0275\u0275elementStart"](2,"form",2),d["\u0275\u0275listener"]("ngSubmit",function(){return t.onFormSubmit()}),d["\u0275\u0275elementStart"](3,"h2",3),d["\u0275\u0275text"](4,"Add Job Task"),d["\u0275\u0275elementEnd"](),d["\u0275\u0275element"](5,"br"),d["\u0275\u0275element"](6,"hr"),d["\u0275\u0275elementContainerStart"](7,4),d["\u0275\u0275template"](8,k,19,3,"ng-container",5),d["\u0275\u0275elementContainerEnd"](),d["\u0275\u0275element"](9,"br"),d["\u0275\u0275elementStart"](10,"div",6),d["\u0275\u0275elementStart"](11,"button",7),d["\u0275\u0275text"](12," Add "),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"](),d["\u0275\u0275elementEnd"]()),2&e&&(d["\u0275\u0275property"]("ngIf",!t.dialogRef),d["\u0275\u0275advance"](2),d["\u0275\u0275property"]("formGroup",t.jobTaskDetails),d["\u0275\u0275advance"](6),d["\u0275\u0275property"]("ngForOf",t.add().controls),d["\u0275\u0275advance"](3),d["\u0275\u0275property"]("disabled",t.jobTaskDetails.get("arrObj").invalid))},directives:[p.n,i.E,i.s,i.k,i.e,p.m,m.g,i.l,i.d,v.a,i.r,i.i,i.A,i.v,i.D],styles:[""]}),t=Object(r.b)([Object(c.a)({checkProperties:!0})],t)}()},bu9C:function(t,a,l){"use strict";l.d(a,"a",function(){return O});var r=l("mrSG"),i=l("X72n"),o=l("M9IT"),s=l("+0xr"),c=l("Dh3D"),d=l("VfN6"),m=l("fXoL"),u=l("3Pt+"),f=l("0IaG"),p=l("wbBK"),v=l("yZxC"),b=l("tyNb"),h=l("ofXK"),g=l("bTqV"),k=["risk"];function C(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function S(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](n.index)}}function y(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275elementStart"](1,"span",18),m["\u0275\u0275elementStart"](2,"pre",19),m["\u0275\u0275text"](3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;m["\u0275\u0275advance"](3),m["\u0275\u0275textInterpolate1"]("",n.title," ")}}function x(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"th",20),m["\u0275\u0275text"](1,"Set"),m["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"button",23),m["\u0275\u0275text"](1," Set "),m["\u0275\u0275elementEnd"]())}function w(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"button",23),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]())}function R(e,t){if(1&e){var n=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](n);var e=t.$implicit;return m["\u0275\u0275nextContext"]().setRelation_2(e._id)}),m["\u0275\u0275template"](1,I,2,0,"button",22),m["\u0275\u0275template"](2,w,2,0,"button",22),m["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!a.set),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",a.set)}}function A(e,t){1&e&&m["\u0275\u0275element"](0,"tr",24)}function T(e,t){1&e&&m["\u0275\u0275element"](0,"tr",25)}function P(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"tr",26),m["\u0275\u0275elementStart"](1,"td",27),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}var D=function(){return[20]},O=function(){var t=function(){function t(n,a,l,r,i){e(this,t),this.fb=n,this.dialog=a,this.logicalFormInfo=l,this.setTitle=r,this.router=i,this.allHazards=[],this.allContrlActReq=[],this.jobTaskData=[],this.highRiskData=[],this.PPESelectionData=[],this.codeOfPract=[],this.licenseAndQual=[],this.licenseAndQualificationData=[],this.licenceCatAll=[],this.highRiskConstructionData=[],this.task=[],this.riskLevel="",this.residuleRiskL="",this.PPEselection=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.licenseAndQualification=[{label:"Open Cable Licence",value:""},{label:"White Card",value:""},{label:"EWP Licence",value:""},{label:"Working At Heights",value:""},{label:"Security Licence",value:""},{label:"Asbestos Awarness",value:""},{label:"Working In Confined Space",value:""}],this.highRiskConstruction2=[{label:"Working in or near trenches or shafts deeper than 1.5metres",value:""},{label:"Work in or near a confined space",value:""},{label:"Work in an area that may have a contaminated or flammable atmosphere",value:""},{label:"Working around or near mobile plant",value:""},{label:"Work with near or near asbestos",value:""},{label:"Working with hazardous substances",value:""},{label:"Working with or near tilt-up/precast concrete",value:""},{label:"Risk of falls higher than 2 metres",value:""},{label:"Working near on or adjacent to a road or rail corridor",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Work near explosives",value:""},{label:"Work in or near water or other liquid that involves a risk of drowning",value:""},{label:"Demolition of load-bearing structure",value:""},{label:"Diving work",value:""}],this.PPEselection2=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new s.l(this.ELEMENT_DATA)}return n(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.setTitle.setTitle("WHS-Set Relation"),this.getJobTask()}},{key:"onFormSubmit",value:function(){}},{key:"getJobTask",value:function(){var e=this;this.logicalFormInfo.getAllJobtask().subscribe(function(t){e.jobTaskData=t.data,e.jobTaskData.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=e.jobTaskData,e.dataSource=new s.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"getAllHighRisk",value:function(){var e=this;this.logicalFormInfo.getAllRisk().subscribe(function(t){e.highRiskConstructionData=t.data})}},{key:"getAllPPE",value:function(){var e=this;this.logicalFormInfo.getAllPPE().subscribe(function(t){e.PPESelectionData=t.data})}},{key:"getAllLicence",value:function(){var e=this;this.logicalFormInfo.getAllLicence().subscribe(function(t){e.licenseAndQual=t.data})}},{key:"getAllHazard",value:function(){var e=this;this.logicalFormInfo.getAllHazards().subscribe(function(t){e.allHazards=t.data})}},{key:"getAllContrActReq",value:function(){var e=this;this.logicalFormInfo.getAllContrlActReq().subscribe(function(t){e.allContrlActReq=t.data})}},{key:"getAllCategories",value:function(){var e=this;this.logicalFormInfo.getAllLicenceCat().subscribe(function(t){e.licenceCatAll=t.data})}},{key:"setRelation_2",value:function(e){this.router.navigate(["/admin/confiLogi/setRelation"],{queryParams:{id:e}})}},{key:"categorySel",value:function(e){var t=this;this.licenseAndQualificationData=[],e.forEach(function(e){t.licenseAndQual.forEach(function(n){e===n.licenceCategoryId._id&&t.licenseAndQualificationData.push(n)})})}},{key:"addJobTask",value:function(){var e=this;this.dialog.open(i.a,{width:"70%"}).afterClosed().subscribe(function(t){"ok"===t&&e.getJobTask()})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.f),m["\u0275\u0275directiveInject"](f.b),m["\u0275\u0275directiveInject"](p.a),m["\u0275\u0275directiveInject"](v.a),m["\u0275\u0275directiveInject"](b.f))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-set-logic"]],viewQuery:function(e,t){var n;(1&e&&(m["\u0275\u0275viewQuery"](c.a,!0),m["\u0275\u0275viewQuery"](o.a,!0),m["\u0275\u0275viewQuery"](k,!0)),2&e)&&(m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.sort=n.first),m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),m["\u0275\u0275queryRefresh"](n=m["\u0275\u0275loadQuery"]())&&(t.Risk=n))},decls:20,vars:5,consts:[[1,"ml-2"],["type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],[2,"font-family","Roboto, Helvetica Neue, sans-serif","font-size","14px"],["mat-header-cell",""],["mat-cell","",3,"click"],["class","myBtn","mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(m["\u0275\u0275elementStart"](0,"h2",0),m["\u0275\u0275text"](1," Set Relation "),m["\u0275\u0275elementStart"](2,"button",1),m["\u0275\u0275listener"]("click",function(){return t.addJobTask()}),m["\u0275\u0275element"](3,"i",2),m["\u0275\u0275text"](4," Add JobTask "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",3),m["\u0275\u0275elementStart"](6,"table",4),m["\u0275\u0275elementContainerStart"](7,5),m["\u0275\u0275template"](8,C,2,0,"th",6),m["\u0275\u0275template"](9,S,2,1,"td",7),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](10,8),m["\u0275\u0275template"](11,y,2,0,"th",6),m["\u0275\u0275template"](12,E,4,1,"td",7),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](13,9),m["\u0275\u0275template"](14,x,2,0,"th",10),m["\u0275\u0275template"](15,R,3,2,"td",11),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](16,A,1,0,"tr",12),m["\u0275\u0275template"](17,T,1,0,"tr",13),m["\u0275\u0275template"](18,P,3,0,"tr",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](19,"mat-paginator",15),m["\u0275\u0275elementEnd"]()),2&e&&(m["\u0275\u0275advance"](6),m["\u0275\u0275property"]("dataSource",t.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,D)))},directives:[s.k,c.a,s.c,s.e,s.b,s.g,s.j,s.h,o.a,s.d,c.b,s.a,h.n,g.a,s.f,s.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),t=Object(r.b)([Object(d.a)({checkProperties:!0})],t)}()},zQXG:function(t,a,l){"use strict";l.d(a,"a",function(){return le});var r=l("mrSG"),i=l("PSD3"),o=l.n(i),s=l("Sgjq"),c=l("2xAX"),d=l("3Pt+"),m=l("0IaG"),u=l("tk/3"),f=l("VfN6"),p=l("fXoL"),v=l("wbBK"),b=l("5eHb"),h=l("ofXK"),g=l("bSwM");function k(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"option",31),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("ngValue",n),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.siteName," ")}}var C=function(e){return{"is-invalid":e}};function S(e,t){if(1&e&&p["\u0275\u0275element"](0,"input",32),2&e){var n=p["\u0275\u0275nextContext"]();p["\u0275\u0275property"]("ngClass",p["\u0275\u0275pureFunction1"](1,C,n.jobHasError))}}function y(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"option",33),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("value",n._id),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function E(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"option",31),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275property"]("ngValue",n),p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",n.customerName," ")}}var x,I=((x=function(){function t(n,a,l,r,i,o){e(this,t),this.dialog=n,this.dialogRef=a,this.data=l,this.logicalFormInfoService=r,this.fb=i,this.toastrService=o,this.jobHasError=!1,this.allSites=[],this.allCustomers=[],this.allState=[]}return n(t,[{key:"ngAfterViewInit",value:function(){}},{key:"ngOnInit",value:function(){var e=this;this.addJobNumberForm=this.fb.group({siteName:["",d.C.required],streetAddress:[{value:"",disabled:!0},d.C.required],suburb:[{value:"",disabled:!0},d.C.required],state:[{value:"",disabled:!0},d.C.required],postcode:[{value:"",disabled:!0},d.C.required],customerName:["",d.C.required],customerContact:[{value:"",disabled:!0},d.C.required],customerContactPhone:[{value:"",disabled:!0},d.C.required],customerEmail:[{value:"",disabled:!0},d.C.required]}),this.addJobNumberForm.get("siteName").valueChanges.subscribe(function(t){e.siteId=t._id,e.addJobNumberForm.get("streetAddress").setValue(t.streetAddress),e.addJobNumberForm.get("suburb").setValue(t.suburb),e.addJobNumberForm.get("state").setValue(t.stateId._id),e.addJobNumberForm.get("postcode").setValue(t.postcode)}),this.addJobNumberForm.get("customerName").valueChanges.subscribe(function(t){var n,a;e.customerId=t._id,e.addJobNumberForm.get("customerContact").setValue(t.customerContact),e.addJobNumberForm.get("customerContactPhone").setValue(null===(n=t.contacts[0])||void 0===n?void 0:n.phone),e.addJobNumberForm.get("customerEmail").setValue(null===(a=t.contacts[0])||void 0===a?void 0:a.email)}),this.getAllSites(),this.getAllCustomer(),this.getAllStates()}},{key:"getAllCustomer",value:function(){var e=this;this.logicalFormInfoService.getAllCustomer().subscribe(function(t){e.allCustomers=t.data})}},{key:"getAllSites",value:function(){var e=this;this.logicalFormInfoService.getAllSite().subscribe(function(t){e.jobHasError=!1,e.allSites=t.data},function(t){t instanceof u.d&&422===t.status&&(e.jobHasError=!0),console.error(t)})}},{key:"f",get:function(){return this.addJobNumberForm.controls}},{key:"onSubmit",value:function(){var e,t,n,a=this,l=(null===(t=null===(e=this.f)||void 0===e?void 0:e.jobNumber)||void 0===t?void 0:t.value)?{jobNumber:this.f.jobNumber.value}:"";n=Object.assign({stateId:this.f.state.value,customerId:this.customerId,siteId:this.siteId},l),this.logicalFormInfoService.addJobNumber(n).subscribe(function(e){a.dialogRef.close("success")},function(e){e instanceof u.d&&(422===e.status&&a.toastrService.error("Job Number Already exists!"),console.error(e))})}},{key:"setSite",value:function(e){this.addJobNumberForm.get("streetAddress").setValue(e.streetAddress),this.addJobNumberForm.get("suburb").setValue(e.suburb),this.addJobNumberForm.get("state").setValue(e.stateId._id),this.addJobNumberForm.get("postcode").setValue(e.postcode)}},{key:"setCustomer",value:function(e){var t,n;this.addJobNumberForm.get("customerContact").setValue(e.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(t=e.contacts[0])||void 0===t?void 0:t.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(n=e.contacts[0])||void 0===n?void 0:n.email)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"getAllStates",value:function(){var e=this;this.logicalFormInfoService.getAllStates().subscribe(function(t){e.allState=t.data})}},{key:"jobNumberChecked",value:function(e){e.checked?this.addJobNumberForm.addControl("jobNumber",new d.g("",d.C.required)):this.addJobNumberForm.removeControl("jobNumber")}},{key:"addSite",value:function(){var e=this;this.dialog.open(c.a,{}).afterClosed().subscribe(function(t){"true"===t&&e.getAllSites()})}},{key:"addCustomer",value:function(){var e=this;this.dialog.open(s.a,{}).afterClosed().subscribe(function(t){"ok"===t&&e.getAllCustomer()})}}]),t}()).\u0275fac=function(e){return new(e||x)(p["\u0275\u0275directiveInject"](m.b),p["\u0275\u0275directiveInject"](m.f),p["\u0275\u0275directiveInject"](m.a),p["\u0275\u0275directiveInject"](v.a),p["\u0275\u0275directiveInject"](d.f),p["\u0275\u0275directiveInject"](b.b))},x.\u0275cmp=p["\u0275\u0275defineComponent"]({type:x,selectors:[["app-create-job-no"]],decls:70,vars:6,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],[1,"btn","btn-outline-primary","mt-1","mr-2",3,"click"],["type","button","aria-label","Close",1,"close",2,"font-size","25px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin","3%",3,"change"],["check",""],["type","text","class","form-control","formControlName","jobNumber","val","",3,"ngClass",4,"ngIf"],[1,"invalid-feedback"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","siteName",1,"form-control"],[1,"my-3","col-3"],["type","text","formControlName","suburb","id","siteName",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col-2"],["type","text","numbersOnly","","formControlName","postcode","id","siteName",1,"form-control"],[1,"my-3","col"],["type","text","formControlName","customerName","id","siteName",1,"form-control"],["type","text","id","siteName","formControlName","customerContact",1,"form-control"],["type","text","id","siteName","formControlName","customerContactPhone",1,"form-control"],["type","text","id","siteName","formControlName","customerEmail",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"ngValue"],["type","text","formControlName","jobNumber","val","",1,"form-control",3,"ngClass"],[3,"value"]],template:function(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"section",0),p["\u0275\u0275elementStart"](1,"div"),p["\u0275\u0275elementStart"](2,"div",1),p["\u0275\u0275elementStart"](3,"h1"),p["\u0275\u0275text"](4,"Create Job Number"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"button",2),p["\u0275\u0275listener"]("click",function(){return t.addSite()}),p["\u0275\u0275text"](6," Add Site"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](7,"button",2),p["\u0275\u0275listener"]("click",function(){return t.addCustomer()}),p["\u0275\u0275text"](8," Add Customer "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](9,"button",3),p["\u0275\u0275listener"]("click",function(){return t.close()}),p["\u0275\u0275elementStart"](10,"span",4),p["\u0275\u0275text"](11,"\xd7"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](12,"div",5),p["\u0275\u0275elementStart"](13,"div",6),p["\u0275\u0275elementStart"](14,"p",7),p["\u0275\u0275text"](15," Site Name "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](16,"select",8),p["\u0275\u0275template"](17,k,2,2,"option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](18,"div",6),p["\u0275\u0275elementStart"](19,"p",7),p["\u0275\u0275text"](20," Enter Custom Job No: "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](21,"div",10),p["\u0275\u0275elementStart"](22,"mat-checkbox",11,12),p["\u0275\u0275listener"]("change",function(e){return t.jobNumberChecked(e)}),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](24,S,1,3,"input",13),p["\u0275\u0275elementStart"](25,"div",14),p["\u0275\u0275elementStart"](26,"div"),p["\u0275\u0275text"](27,"Job Number Is Required!"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](28,"div",5),p["\u0275\u0275elementStart"](29,"div",15),p["\u0275\u0275elementStart"](30,"p",7),p["\u0275\u0275text"](31," Street Address "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](32,"textarea",16),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](33,"div",17),p["\u0275\u0275elementStart"](34,"p",7),p["\u0275\u0275text"](35,"Suburb"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](36,"textarea",18),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](37,"div",17),p["\u0275\u0275elementStart"](38,"p",19),p["\u0275\u0275text"](39,"State"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](40,"select",20),p["\u0275\u0275elementStart"](41,"option",21),p["\u0275\u0275text"](42,"Select"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275template"](43,y,2,2,"option",22),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](44,"div",23),p["\u0275\u0275elementStart"](45,"p",7),p["\u0275\u0275text"](46," Postal Code "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](47,"input",24),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](48,"div",5),p["\u0275\u0275elementStart"](49,"div",25),p["\u0275\u0275elementStart"](50,"p",7),p["\u0275\u0275text"](51," Customer Name "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](52,"select",26),p["\u0275\u0275template"](53,E,2,2,"option",9),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](54,"div",25),p["\u0275\u0275elementStart"](55,"p",7),p["\u0275\u0275text"](56," Customer Contact "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](57,"input",27),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](58,"div",5),p["\u0275\u0275elementStart"](59,"div",25),p["\u0275\u0275elementStart"](60,"p",7),p["\u0275\u0275text"](61," Customer Contact Phone "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](62,"input",28),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](63,"div",25),p["\u0275\u0275elementStart"](64,"p",7),p["\u0275\u0275text"](65," Customer Email "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](66,"input",29),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](67,"div"),p["\u0275\u0275elementStart"](68,"button",30),p["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),p["\u0275\u0275text"](69," Create "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=p["\u0275\u0275reference"](23);p["\u0275\u0275property"]("formGroup",t.addJobNumberForm),p["\u0275\u0275advance"](17),p["\u0275\u0275property"]("ngForOf",t.allSites),p["\u0275\u0275advance"](7),p["\u0275\u0275property"]("ngIf",n.checked),p["\u0275\u0275advance"](19),p["\u0275\u0275property"]("ngForOf",t.allState),p["\u0275\u0275advance"](10),p["\u0275\u0275property"]("ngForOf",t.allCustomers),p["\u0275\u0275advance"](15),p["\u0275\u0275property"]("disabled",t.addJobNumberForm.invalid)}},directives:[d.s,d.k,m.g,d.A,d.r,d.i,h.m,g.a,h.n,d.d,d.v,d.D,h.l],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),x=Object(r.b)([Object(f.a)({checkProperties:!0})],x)),w=l("M9IT"),R=l("+0xr"),A=l("2X0P"),T=l("Dh3D"),P=l("yZxC"),D=l("bTqV"),O=l("NFeN"),N=l("Qu3c");function j(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",21),p["\u0275\u0275text"](1,"No."),p["\u0275\u0275elementEnd"]())}function F(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.index;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n+1)}}function L(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",21),p["\u0275\u0275text"](1," Job Number "),p["\u0275\u0275elementEnd"]())}function J(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.jobNumber)}}function _(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",21),p["\u0275\u0275text"](1,"Site Name"),p["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275elementStart"](1,"span",23),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"]("",n.siteName," ")}}function q(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"Street Address"),p["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275elementStart"](1,"span",23),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.streetAddress)}}function M(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"Suburb"),p["\u0275\u0275elementEnd"]())}function V(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate"](n.suburb)}}function B(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"State"),p["\u0275\u0275elementEnd"]())}function G(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275text"](1),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](1),p["\u0275\u0275textInterpolate1"](" ",null==n.stateId?null:n.stateId.title," ")}}function $(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",21),p["\u0275\u0275text"](1," Customer Name "),p["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275elementStart"](1,"span",23),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate1"](" ",n.customerName,"")}}function W(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"Customer Contact"),p["\u0275\u0275elementEnd"]())}function X(e,t){if(1&e&&(p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275elementStart"](1,"span",23),p["\u0275\u0275text"](2),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;p["\u0275\u0275advance"](2),p["\u0275\u0275textInterpolate"](n.customerContact)}}function U(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"Edit"),p["\u0275\u0275elementEnd"]())}function K(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"th",24),p["\u0275\u0275text"](1,"Action"),p["\u0275\u0275elementEnd"]())}function Y(e,t){if(1&e){var n=p["\u0275\u0275getCurrentView"]();p["\u0275\u0275elementStart"](0,"td",22),p["\u0275\u0275elementStart"](1,"button",25),p["\u0275\u0275listener"]("click",function(){p["\u0275\u0275restoreView"](n);var e=t.$implicit;return p["\u0275\u0275nextContext"]().delete(e)}),p["\u0275\u0275elementStart"](2,"mat-icon",26),p["\u0275\u0275text"](3,"delete"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]()}}function Z(e,t){1&e&&p["\u0275\u0275element"](0,"tr",27)}function ee(e,t){1&e&&p["\u0275\u0275element"](0,"tr",28)}function te(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"tr",29),p["\u0275\u0275elementStart"](1,"td",30),p["\u0275\u0275text"](2,"Data Not Found"),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"]())}var ne,ae=function(){return[20]},le=((ne=function(){function t(n,a,l){e(this,t),this.dialog=n,this.setTitle=a,this.logicalFormInfoService=l,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["jobNumber","siteName","streetAddress","suburb","state","customerName","customerContact","action"],this.dataSource=new R.l(this.ELEMENT_DATA)}return n(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.setTitle.setTitle("WHS-Job Number List"),this.getAllJobNumber()}},{key:"getAllJobNumber",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfoService.getAllJobNumber(t,n).subscribe(function(t){e.dataSource=t.data,e.dataSource.paginator=e.paginator})}},{key:"getAllJobTask",value:function(){}},{key:"openDialog",value:function(e){var t=this;this.dialog.open(I,{height:"80%",data:{action:"new",userId:e}}).afterClosed().subscribe(function(e){"success"===e&&(t.getAllJobNumber(),o.a.fire({title:"Job Number created successfully",showConfirmButton:!1,timer:1200}))})}},{key:"edit",value:function(e){var t=this;this.dialog.open(A.a,{width:"550px",data:e}).afterClosed().subscribe(function(e){"true"==e&&t.getAllJobTask()})}},{key:"delete",value:function(e){var t=this;o.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.jobNumber,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&t.logicalFormInfoService.deleteJobNumber(e._id).subscribe(function(e){o.a.fire({title:"Job Number Deleted successfully",showConfirmButton:!1,timer:1200}),t.getAllJobNumber()})})}},{key:"sortData",value:function(e){this.getAllJobNumber(e.active,e.direction)}}]),t}()).\u0275fac=function(e){return new(e||ne)(p["\u0275\u0275directiveInject"](m.b),p["\u0275\u0275directiveInject"](P.a),p["\u0275\u0275directiveInject"](v.a))},ne.\u0275cmp=p["\u0275\u0275defineComponent"]({type:ne,selectors:[["app-job-number"]],viewQuery:function(e,t){var n;1&e&&(p["\u0275\u0275viewQuery"](T.a,!0),p["\u0275\u0275viewQuery"](w.a,!0)),2&e&&(p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.sort=n.first),p["\u0275\u0275queryRefresh"](n=p["\u0275\u0275loadQuery"]())&&(t.paginator=n.first))},decls:40,vars:5,consts:[["_ngcontent-hqi-c400","","type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],["_ngcontent-hqi-c400","",1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobNumber"],["matColumnDef","siteName"],["matColumnDef","streetAddress"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","suburb"],["matColumnDef","state"],["matColumnDef","customerName"],["matColumnDef","customerContact"],["matColumnDef","edit"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(p["\u0275\u0275elementStart"](0,"h2"),p["\u0275\u0275text"](1," Job Number List "),p["\u0275\u0275elementStart"](2,"button",0),p["\u0275\u0275listener"]("click",function(){return t.openDialog("abcd")}),p["\u0275\u0275element"](3,"i",1),p["\u0275\u0275text"](4," Create "),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementEnd"](),p["\u0275\u0275elementStart"](5,"div",2),p["\u0275\u0275elementStart"](6,"table",3),p["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),p["\u0275\u0275elementContainerStart"](7,4),p["\u0275\u0275template"](8,j,2,0,"th",5),p["\u0275\u0275template"](9,F,2,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](10,7),p["\u0275\u0275template"](11,L,2,0,"th",5),p["\u0275\u0275template"](12,J,2,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](13,8),p["\u0275\u0275template"](14,_,2,0,"th",5),p["\u0275\u0275template"](15,z,3,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](16,9),p["\u0275\u0275template"](17,q,2,0,"th",10),p["\u0275\u0275template"](18,H,3,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](19,11),p["\u0275\u0275template"](20,M,2,0,"th",10),p["\u0275\u0275template"](21,V,2,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](22,12),p["\u0275\u0275template"](23,B,2,0,"th",10),p["\u0275\u0275template"](24,G,2,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](25,13),p["\u0275\u0275template"](26,$,2,0,"th",5),p["\u0275\u0275template"](27,Q,3,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](28,14),p["\u0275\u0275template"](29,W,2,0,"th",10),p["\u0275\u0275template"](30,X,3,1,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](31,15),p["\u0275\u0275template"](32,U,2,0,"th",10),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275elementContainerStart"](33,16),p["\u0275\u0275template"](34,K,2,0,"th",10),p["\u0275\u0275template"](35,Y,4,0,"td",6),p["\u0275\u0275elementContainerEnd"](),p["\u0275\u0275template"](36,Z,1,0,"tr",17),p["\u0275\u0275template"](37,ee,1,0,"tr",18),p["\u0275\u0275template"](38,te,3,0,"tr",19),p["\u0275\u0275elementEnd"](),p["\u0275\u0275element"](39,"mat-paginator",20),p["\u0275\u0275elementEnd"]()),2&e&&(p["\u0275\u0275advance"](6),p["\u0275\u0275property"]("dataSource",t.dataSource),p["\u0275\u0275advance"](30),p["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),p["\u0275\u0275advance"](1),p["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),p["\u0275\u0275advance"](2),p["\u0275\u0275property"]("pageSizeOptions",p["\u0275\u0275pureFunction0"](4,ae)))},directives:[R.k,T.a,R.c,R.e,R.b,R.g,R.j,R.h,w.a,R.d,T.b,R.a,D.a,O.a,N.a,R.f,R.i],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}"]}),ne=Object(r.b)([Object(f.a)({checkProperties:!0})],ne))}}])}();