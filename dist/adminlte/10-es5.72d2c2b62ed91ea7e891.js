!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{DNuw:function(t,o,n){"use strict";n.r(o),n.d(o,"RegistrationModule",function(){return Yt});var i=n("ofXK"),a=n("tyNb"),l=n("3Pt+"),c=n("fXoL");function s(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Company Name is required "),c.Tb())}function b(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Phone Number is required "),c.Tb())}function u(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Email is required "),c.Tb())}function m(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Street Address is required "),c.Tb())}function d(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Suburb Address is required "),c.Tb())}function p(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Postcode is required "),c.Tb())}function f(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Mailing Address is required "),c.Tb())}function g(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Company ABN is required "),c.Tb())}function h(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Company Address is required "),c.Tb())}function v(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Licence Number is required "),c.Tb())}function C(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Website is required "),c.Tb())}function T(e,t){1&e&&(c.Ub(0,"span",28),c.Oc(1," Company Logo is required "),c.Tb())}function y(e,t){if(1&e){var r=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",29),c.Ub(2,"div",3),c.Ub(3,"div",4),c.Ub(4,"label",5),c.Oc(5,"Name "),c.Tb(),c.Pb(6,"input",30),c.Tb(),c.Ub(7,"div",4),c.Ub(8,"label",5),c.Oc(9,"Checked Out To"),c.Tb(),c.Pb(10,"input",31),c.Tb(),c.Ub(11,"div",4),c.Ub(12,"label",5),c.Oc(13,"Make"),c.Tb(),c.Pb(14,"input",32),c.Tb(),c.Ub(15,"div",4),c.Ub(16,"label",5),c.Oc(17,"Model Number"),c.Tb(),c.Pb(18,"input",33),c.Tb(),c.Ub(19,"div",34),c.Ub(20,"div",35),c.Ub(21,"h4",36),c.Oc(22,"Next Service"),c.Tb(),c.Tb(),c.Ub(23,"div",37),c.Pb(24,"input",38),c.Ub(25,"label",39),c.Oc(26,"Hours "),c.Tb(),c.Tb(),c.Ub(27,"div",40),c.Pb(28,"input",41),c.Ub(29,"label",39),c.Oc(30,"Kilometres"),c.Tb(),c.Tb(),c.Ub(31,"div",40),c.Pb(32,"input",42),c.Ub(33,"label",39),c.Oc(34,"Date"),c.Tb(),c.Tb(),c.Tb(),c.Ub(35,"div",4),c.Ub(36,"label",5),c.Oc(37,"Registration Number"),c.Tb(),c.Pb(38,"input",43),c.Tb(),c.Ub(39,"div",4),c.Ub(40,"label",5),c.Oc(41,"Registration Renewal Date "),c.Tb(),c.Pb(42,"input",44),c.Tb(),c.Ub(43,"div",4),c.Ub(44,"label",5),c.Oc(45,"Purchase Date "),c.Tb(),c.Pb(46,"input",45),c.Tb(),c.Ub(47,"div",4),c.Ub(48,"label",5),c.Oc(49,"Insurance Policy Number "),c.Tb(),c.Pb(50,"input",46),c.Tb(),c.Ub(51,"div",4),c.Ub(52,"label",5),c.Oc(53,"Insurance Expiry "),c.Tb(),c.Pb(54,"input",47),c.Tb(),c.Ub(55,"div",4),c.Ub(56,"label",5),c.Oc(57,"Fuel Card Number "),c.Tb(),c.Pb(58,"input",48),c.Tb(),c.Ub(59,"div",4),c.Ub(60,"label",5),c.Oc(61,"E Tag Number "),c.Tb(),c.Pb(62,"input",49),c.Tb(),c.Ub(63,"div",50),c.Ub(64,"div",51),c.Ub(65,"span",52),c.ec("click",function(){return c.Cc(r),c.ic().addEquipFiled2()}),c.Oc(66,"add_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Ub(67,"div",50),c.Ub(68,"div",51),c.Ub(69,"span",52),c.ec("click",function(){c.Cc(r);var e=t.index;return c.ic().removeEquipFiled1(e)}),c.Oc(70," remove_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){var o=t.index;c.Bb(1),c.qc("formGroupName",o)}}var U,P,O,N,D=((U=function(){function t(r,o){e(this,t),this.fb=r,this.activatedRoute=o,this.submitted=!1}return r(t,[{key:"ngOnInit",value:function(){this.formData=this.fb.group({companyName:["",l.C.required],phoneNumber:["",l.C.required],fax:[],emailAddress:["",l.C.required],streetAddress:["",l.C.required],subUrb:["",l.C.required],postCode:["",l.C.required],mailingAddress:["",l.C.required],companyABN:["",l.C.required],companyAddr:["",l.C.required],licenceNumber:["",l.C.required],companyWeb:["",l.C.required],companyLogo:["",l.C.required],plantArr:this.fb.array([]),plantName:[""],checkedOut:[""],hours:[""],kilometres:[""],date:[""],make:[""],modelNumber:[""],registrationNumber:[""],registrationRenewalDate:[""],plantType:[""],purchaseDate:[""],insurancePolicyNumber:[""],insuranceExpiry:[""],fuelCardNumber:[""],ETagNumber:[""],plantSignature:[""]}),this.id=this.activatedRoute.snapshot.params.id,this.addEquipFiled2()}},{key:"addEquip",value:function(){return this.formData.get("plantArr")}},{key:"newEquipFiled2",value:function(){return this.fb.group({plantName:[""],checkedOut:[""],hours:[""],kilometres:[""],date:[""],make:[""],modelNumber:[""],registrationNumber:[""],registrationRenewalDate:[""],plantType:[""],purchaseDate:[""],insurancePolicyNumber:[""],insuranceExpiry:[""],fuelCardNumber:[""],ETagNumber:[""]})}},{key:"addEquipFiled2",value:function(){this.addEquip().push(this.newEquipFiled2()),console.log(this.formData.value)}},{key:"removeEquipFiled1",value:function(e){var t=this.formData.controls.plantArr;t.length>1&&t.removeAt(e)}},{key:"registerFormControl",get:function(){return this.formData.controls}},{key:"browser2",value:function(e){var t=e.target.files[0];(new FormData).append("",t),console.log(t)}},{key:"submeet",value:function(){console.log("clicked"),this.submitted=!this.submitted,console.log("FormValues = > ",this.formData.value)}}]),t}()).\u0275fac=function(e){return new(e||U)(c.Ob(l.f),c.Ob(a.a))},U.\u0275cmp=c.Ib({type:U,selectors:[["app-company-details"]],decls:82,vars:38,consts:[[1,"container","card","px-4","py-4","bg-white"],[1,"text-center"],[3,"formGroup"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","phoneNumber",1,"form-control","inputData"],["type","text","formControlName","porfListName",1,"form-control"],["type","text","formControlName","emailAddress",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","subUrb",1,"form-control","inputData"],["type","text","formControlName","postCode",1,"form-control"],["type","text","formControlName","mailingAddress",1,"form-control"],["type","text","formControlName","companyABN",1,"form-control"],["type","text","formControlName","companyAddr",1,"form-control","inputData"],["type","text","formControlName","licenceNumber",1,"form-control","inputData"],["type","text","formControlName","companyWeb",1,"form-control"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],["formArrayName","plantArr",1,"mt-4"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary","border","border-primary","btn_1",3,"click"],[1,"text-danger"],[3,"formGroupName"],["type","text","formControlName","plantName",1,"form-control"],["type","text","formControlName","checkedOut",1,"form-control"],["type","text","formControlName","make",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],[1,"row","container","col-12"],[1,"col-12"],[1,"text_2"],[1,"col-2","mt-2","ml-5"],["type","checkbox","formControlName","hours","name","hours","value","Hours",1,"form-check-input","mr-1"],["for","exampleFormControlInput1",1,"form-label","label_2"],[1,"mt-2","col-2"],["type","checkbox","formControlName","kilometres","name","kilometres","value","Kilometres",1,"form-check-input","mr-1"],["type","checkbox","formControlName","date","name","date","value","Date",1,"form-check-input","mr-1"],["type","text","formControlName","registrationNumber",1,"form-control"],["type","date","formControlName","registrationRenewalDate",1,"form-control"],["type","date","formControlName","purchaseDate",1,"form-control"],["type","text","formControlName","insurancePolicyNumber",1,"form-control"],["type","date","formControlName","insuranceExpiry",1,"form-control"],["type","text","formControlName","fuelCardNumber",1,"form-control"],["type","text","formControlName","ETagNumber",1,"form-control"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"h1",1),c.Oc(2,"Company Details"),c.Tb(),c.Ub(3,"form",2),c.Ub(4,"div",3),c.Ub(5,"div",4),c.Ub(6,"label",5),c.Oc(7," Company Name "),c.Tb(),c.Pb(8,"input",6),c.Mc(9,s,2,0,"span",7),c.Tb(),c.Ub(10,"div",4),c.Ub(11,"label",5),c.Oc(12,"Phone"),c.Tb(),c.Pb(13,"input",8),c.Mc(14,b,2,0,"span",7),c.Tb(),c.Ub(15,"div",4),c.Ub(16,"label",5),c.Oc(17,"Fax"),c.Tb(),c.Pb(18,"input",9),c.Tb(),c.Ub(19,"div",4),c.Ub(20,"label",5),c.Oc(21,"Email"),c.Tb(),c.Pb(22,"input",10),c.Mc(23,u,2,0,"span",7),c.Tb(),c.Tb(),c.Ub(24,"div",3),c.Ub(25,"div",4),c.Ub(26,"label",5),c.Oc(27," Street Address "),c.Tb(),c.Ub(28,"textarea",11),c.Oc(29," "),c.Tb(),c.Mc(30,m,2,0,"span",7),c.Tb(),c.Ub(31,"div",4),c.Ub(32,"label",5),c.Oc(33,"Suburb"),c.Tb(),c.Ub(34,"textarea",12),c.Oc(35," "),c.Tb(),c.Mc(36,d,2,0,"span",7),c.Tb(),c.Ub(37,"div",4),c.Ub(38,"label",5),c.Oc(39," Postcode "),c.Tb(),c.Pb(40,"input",13),c.Mc(41,p,2,0,"span",7),c.Tb(),c.Ub(42,"div",4),c.Ub(43,"label",5),c.Oc(44," Mailing Address "),c.Tb(),c.Pb(45,"textarea",14),c.Mc(46,f,2,0,"span",7),c.Tb(),c.Tb(),c.Ub(47,"div",3),c.Ub(48,"div",4),c.Ub(49,"label",5),c.Oc(50," Company ABN "),c.Tb(),c.Pb(51,"input",15),c.Mc(52,g,2,0,"span",7),c.Tb(),c.Ub(53,"div",4),c.Ub(54,"label",5),c.Oc(55," Company Address "),c.Tb(),c.Pb(56,"textarea",16),c.Mc(57,h,2,0,"span",7),c.Tb(),c.Ub(58,"div",4),c.Ub(59,"label",5),c.Oc(60," Licence Number "),c.Tb(),c.Pb(61,"input",17),c.Mc(62,v,2,0,"span",7),c.Tb(),c.Ub(63,"div",4),c.Ub(64,"label",5),c.Oc(65,"Website"),c.Tb(),c.Pb(66,"input",18),c.Mc(67,C,2,0,"span",7),c.Tb(),c.Tb(),c.Ub(68,"div",19),c.Pb(69,"div",20),c.Ub(70,"div",21),c.Ub(71,"div",22),c.Ub(72,"label",23),c.Oc(73," Add Company Logo "),c.Tb(),c.Ub(74,"input",24),c.ec("change",function(e){return t.browser2(e)}),c.Tb(),c.Tb(),c.Mc(75,T,2,0,"span",7),c.Tb(),c.Tb(),c.Ub(76,"div",25),c.Mc(77,y,71,1,"div",26),c.Tb(),c.Pb(78,"div",3),c.Ub(79,"div",3),c.Ub(80,"button",27),c.ec("click",function(){return t.submeet()}),c.Oc(81," Submit "),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(3),c.qc("formGroup",t.formData),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.phoneNumber.touched||t.submitted)&&(null==t.registerFormControl.phoneNumber.errors?null:t.registerFormControl.phoneNumber.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.phoneNumber.touched||t.submitted)&&(null==t.registerFormControl.phoneNumber.errors?null:t.registerFormControl.phoneNumber.errors.required)),c.Bb(8),c.Gb("is-invalid",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),c.Bb(2),c.qc("ngIf",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),c.Bb(2),c.qc("ngIf",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.postCode.touched||t.submitted)&&(null==t.registerFormControl.postCode.errors?null:t.registerFormControl.postCode.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.postCode.touched||t.submitted)&&(null==t.registerFormControl.postCode.errors?null:t.registerFormControl.postCode.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.mailingAddress.touched||t.submitted)&&(null==t.registerFormControl.mailingAddress.errors?null:t.registerFormControl.mailingAddress.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.mailingAddress.touched||t.submitted)&&(null==t.registerFormControl.mailingAddress.errors?null:t.registerFormControl.mailingAddress.errors.required)),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),c.Bb(7),c.Gb("is-invalid",(t.registerFormControl.companyLogo.touched||t.submitted)&&(null==t.registerFormControl.companyLogo.errors?null:t.registerFormControl.companyLogo.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.companyLogo.touched||t.submitted)&&(null==t.registerFormControl.companyLogo.errors?null:t.registerFormControl.companyLogo.errors.required)),c.Bb(2),c.qc("ngForOf",t.addEquip().controls))},directives:[l.E,l.s,l.k,l.d,l.r,l.i,i.n,l.e,i.m,l.l,l.a],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),U),F=n("AytR"),x=n("lJxs"),E=n("tk/3"),q=((O=function(){function t(r){e(this,t),this.https=r,this.apiUrl=F.a.apiUrl}return r(t,[{key:"upload",value:function(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(x.a)(function(e){return console.log("res.data=>",e.data),e}))}},{key:"addCompanyInfo",value:function(e){return this.https.post(this.apiUrl+"company/add",e).pipe(Object(x.a)(function(e){return console.log("res.data=>",e.data),e}))}}]),t}()).\u0275fac=function(e){return new(e||O)(c.bc(E.b))},O.\u0275prov=c.Kb({token:O,factory:O.\u0275fac,providedIn:"root"}),O),w=((P=function(){function t(r,o){e(this,t),this.fb=r,this.company=o,this.companyInfo=r.group({companyName:[null,l.C.required],ABN:[null,l.C.required],ACN:[null,l.C.required],website:[null,l.C.required],email:[null,l.C.required],phone:[null,l.C.required],customerType:[null,l.C.required],businessLicense:[null,l.C.required],streetAddress:[null,l.C.required],suburb:[null,l.C.required],state:[null,l.C.required],postcode:[null,l.C.required],sameAsStreet:[null,l.C.required],PObox:[null,l.C.required],postalSuburb:[null,l.C.required],postalState:[null,l.C.required],postalPostcode:[null,l.C.required],file:[null,l.C.required]})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"browser",value:function(e){var t=this;console.log("event=>",e);var r=e.target.files[0];console.log("event.target=>",e.target.files[0]);var o=new FormData;o.append("",r),console.log(r),this.company.upload(o).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),t.selectedImage=e.files,console.log("AddProductComponent -> browse -> this.selectedImage",t.selectedImage)})}},{key:"onFormSubmit",value:function(){var e=this;console.log("this.companyInfo.value",this.companyInfo.value),this.company.addCompanyInfo(this.companyInfo.value).subscribe(function(t){console.log("data=>",t),e.browser(event)})}}]),t}()).\u0275fac=function(e){return new(e||P)(c.Ob(l.f),c.Ob(q))},P.\u0275cmp=c.Ib({type:P,selectors:[["app-company-registration"]],decls:123,vars:1,consts:[[1,"container","card","p-5"],[1,"px-4","py-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"title"],[1,"col-md-4"],[1,"mb-3"],["for","exampleInputFullname",1,"form-Label"],["type","text","formControlName","companyName","id","exampleInputFullname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputSurname",1,"form-Label"],["type","text","formControlName","ABN","id","exampleInputSurname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputEmail1",1,"form-Label"],["type","text","formControlName","ACN","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPhone",1,"form-Label"],["type","email","formControlName","website","id","exampleInputPhone","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputDepartment",1,"form-Label"],["type","department","formControlName","email","id","exampleInputDepartment","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPosition",1,"form-Label"],["type","text","formControlName","phone","id","exampleInputPosition","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputProjectNumber",1,"form-Label"],["type","text","formControlName","customerType","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","businessLicense","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"subtitel"],["type","text","formControlName","streetAddress","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","suburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-md-2"],["type","text","formControlName","state","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"mt-2","col-4"],["type","checkbox","value","no","formControlName","sameAsStreet",1,"mr-1"],["type","email","formControlName","PObox","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalSuburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalState","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalPostcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-10","offset-1","col-3","mt-1"],["src","../../../assets/img/whsLogo.png","alt","","width","100%"],[1,"my-3"],["for","formFile",1,"form-Label"],["formControlName","file","type","file","id","formFile",1,"form-control",3,"change"],[1,"offset-10","col-2"],["type","submit",1,"btn","btn-primary","mb-3"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"form",1),c.ec("ngSubmit",function(){return t.onFormSubmit()}),c.Ub(2,"div",2),c.Ub(3,"div",3),c.Ub(4,"h2",4),c.Ub(5,"p",5),c.Oc(6,"Company Information"),c.Tb(),c.Tb(),c.Tb(),c.Ub(7,"div",6),c.Ub(8,"div",7),c.Ub(9,"p",8),c.Oc(10,"Company Name"),c.Tb(),c.Pb(11,"input",9),c.Tb(),c.Tb(),c.Ub(12,"div",6),c.Ub(13,"div",7),c.Ub(14,"p",10),c.Oc(15,"ABN"),c.Tb(),c.Pb(16,"input",11),c.Tb(),c.Tb(),c.Ub(17,"div",6),c.Ub(18,"div",7),c.Ub(19,"p",12),c.Oc(20,"ACN"),c.Tb(),c.Pb(21,"input",13),c.Tb(),c.Tb(),c.Ub(22,"div",6),c.Ub(23,"div",7),c.Ub(24,"p",14),c.Oc(25,"Website"),c.Tb(),c.Pb(26,"input",15),c.Tb(),c.Tb(),c.Ub(27,"div",6),c.Ub(28,"div",7),c.Ub(29,"p",16),c.Oc(30,"Email"),c.Tb(),c.Pb(31,"input",17),c.Tb(),c.Tb(),c.Ub(32,"div",6),c.Ub(33,"div",7),c.Ub(34,"p",18),c.Oc(35,"Phone"),c.Tb(),c.Pb(36,"input",19),c.Tb(),c.Tb(),c.Ub(37,"div",6),c.Ub(38,"div",7),c.Ub(39,"p",20),c.Oc(40," Customer Type "),c.Tb(),c.Pb(41,"input",21),c.Tb(),c.Tb(),c.Ub(42,"div",6),c.Ub(43,"div",7),c.Ub(44,"p",20),c.Oc(45," Business license "),c.Tb(),c.Pb(46,"input",22),c.Tb(),c.Tb(),c.Tb(),c.Pb(47,"hr"),c.Ub(48,"div",2),c.Ub(49,"div",3),c.Ub(50,"h3"),c.Ub(51,"p",23),c.Oc(52,"Company Address"),c.Tb(),c.Tb(),c.Tb(),c.Ub(53,"div",6),c.Ub(54,"div",7),c.Ub(55,"p",20),c.Oc(56," Street Address "),c.Tb(),c.Pb(57,"input",24),c.Tb(),c.Tb(),c.Ub(58,"div",6),c.Ub(59,"div",7),c.Ub(60,"p",20),c.Oc(61,"Suburb"),c.Tb(),c.Pb(62,"input",25),c.Tb(),c.Tb(),c.Ub(63,"div",26),c.Ub(64,"div",7),c.Ub(65,"p",20),c.Oc(66,"State"),c.Tb(),c.Pb(67,"input",27),c.Tb(),c.Tb(),c.Ub(68,"div",26),c.Ub(69,"div",7),c.Ub(70,"p",20),c.Oc(71,"Postcode"),c.Tb(),c.Pb(72,"input",28),c.Tb(),c.Tb(),c.Tb(),c.Pb(73,"hr"),c.Ub(74,"div",2),c.Ub(75,"div",3),c.Ub(76,"h3"),c.Ub(77,"p",23),c.Oc(78,"Street Address"),c.Tb(),c.Tb(),c.Tb(),c.Ub(79,"div",29),c.Ub(80,"p"),c.Pb(81,"input",30),c.Oc(82,"Same as Street "),c.Tb(),c.Tb(),c.Ub(83,"div",2),c.Ub(84,"div",6),c.Ub(85,"div",7),c.Ub(86,"p",20),c.Oc(87,"PO Box"),c.Tb(),c.Pb(88,"input",31),c.Tb(),c.Tb(),c.Ub(89,"div",6),c.Ub(90,"div",7),c.Ub(91,"p",20),c.Oc(92," Postal Suburb "),c.Tb(),c.Pb(93,"input",32),c.Tb(),c.Tb(),c.Ub(94,"div",26),c.Ub(95,"div",7),c.Ub(96,"p",20),c.Oc(97," Postal State "),c.Tb(),c.Pb(98,"input",33),c.Tb(),c.Tb(),c.Ub(99,"div",26),c.Ub(100,"div",7),c.Ub(101,"p",20),c.Oc(102," Postal Postcode "),c.Tb(),c.Pb(103,"input",34),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Pb(104,"hr"),c.Ub(105,"div",2),c.Ub(106,"div",6),c.Ub(107,"div",2),c.Ub(108,"div",3),c.Ub(109,"h3"),c.Ub(110,"p",23),c.Oc(111,"Logo and Print Information"),c.Tb(),c.Tb(),c.Tb(),c.Ub(112,"div",35),c.Pb(113,"img",36),c.Tb(),c.Tb(),c.Tb(),c.Ub(114,"div",6),c.Ub(115,"div",37),c.Ub(116,"p",38),c.Oc(117,"Upload Logo"),c.Tb(),c.Ub(118,"input",39),c.ec("change",function(e){return t.browser(e)}),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(119,"div",2),c.Ub(120,"div",40),c.Ub(121,"button",41),c.Oc(122,"Submit"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.Bb(1),c.qc("formGroup",t.companyInfo))},directives:[l.E,l.s,l.k,l.d,l.r,l.i,l.a],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.subtitel[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{display:inline-block;word-break:break-word;font-family:Inter,sans-serif}.subtitel[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}input[type=checkbox][_ngcontent-%COMP%]{height:15px;width:15px}input[type=checkbox][_ngcontent-%COMP%]:focus, input[type=checkbox][_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25);height:15px;width:15px}"]}),P),k=n("mrSG"),A=n("JX91"),M=n("Kj3r"),I=n("/uUt"),S=n("eIep"),B=n("vkgz"),L=n("PSD3"),_=n.n(L),R=n("LefN"),j=n("k2mP"),G=n("wbBK"),V=((N=function(){function t(r){e(this,t),this.https=r,this.apiUrl=F.a.apiUrl}return r(t,[{key:"upload",value:function(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(x.a)(function(e){return console.log("res.data=>",e.files),e}))}}]),t}()).\u0275fac=function(e){return new(e||N)(c.bc(E.b))},N.\u0275prov=c.Kb({token:N,factory:N.\u0275fac,providedIn:"root"}),N),Q=n("wZkO"),z=n("HnZm"),H=n("/1cH"),W=n("FKr1"),$=["signature1"],K=["signature2"];function J(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Title is required "),c.Tb())}function X(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," First Name is required "),c.Tb())}function Z(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Last Name is required "),c.Tb())}function Y(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Email is required "),c.Tb())}function ee(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Position is required "),c.Tb())}function te(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Department is required "),c.Tb())}function re(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Phone Number is required "),c.Tb())}function oe(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Mobile Number is required "),c.Tb())}function ne(e,t){if(1&e&&(c.Ub(0,"option",12),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r._id),c.Bb(1),c.Pc(r.role)}}function ie(e,t){1&e&&(c.Ub(0,"span",63),c.Oc(1," Administration Right is Required"),c.Tb())}function ae(e,t){1&e&&(c.Ub(0,"span",63),c.Oc(1," Reporting To is Required"),c.Tb())}function le(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Street Address is required "),c.Tb())}function ce(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," City/town is required "),c.Tb())}function se(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," State is required "),c.Tb())}function be(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Postal Code is required "),c.Tb())}function ue(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," First Name is required "),c.Tb())}function me(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Last Name is required "),c.Tb())}function de(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Relationship is required "),c.Tb())}function pe(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Email is required "),c.Tb())}function fe(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Phone Number is required "),c.Tb())}function ge(e,t){1&e&&(c.Ub(0,"span",62),c.Oc(1," Mobile Number is required "),c.Tb())}function he(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function ve(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function Ce(e,t){if(1&e&&(c.Ub(0,"mat-option",12),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r.title),c.Bb(1),c.Qc(" ",r.title," ")}}function Te(e,t){if(1&e){var r=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",65),c.Ub(2,"div",7),c.Ub(3,"div",8),c.Ub(4,"label",9),c.Oc(5,"Licence Name"),c.Tb(),c.Pb(6,"input",66),c.Ub(7,"mat-autocomplete",null,67),c.Mc(9,Ce,2,2,"mat-option",23),c.jc(10,"async"),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Ub(12,"label",9),c.Oc(13,"Licence Number"),c.Tb(),c.Pb(14,"input",68),c.Tb(),c.Ub(15,"div",8),c.Ub(16,"label",9),c.Oc(17,"Training Organisation"),c.Tb(),c.Pb(18,"input",69),c.Tb(),c.Ub(19,"div",8),c.Ub(20,"label",9),c.Oc(21,"Expiry Date "),c.Tb(),c.Pb(22,"input",70),c.Tb(),c.Tb(),c.Ub(23,"div",7),c.Ub(24,"div",71),c.Ub(25,"div",36),c.Ub(26,"label",72),c.Oc(27,"Upload Licence"),c.Tb(),c.Ub(28,"input",38),c.ec("change",function(e){c.Cc(r);var o=t.index;return c.ic().browser(e,o)}),c.Tb(),c.Tb(),c.Tb(),c.Ub(29,"div",73),c.Ub(30,"div",74),c.Ub(31,"span",75),c.ec("click",function(){return c.Cc(r),c.ic().addFiled()}),c.Oc(32,"add_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Ub(33,"div",73),c.Ub(34,"div",74),c.Ub(35,"span",75),c.ec("click",function(){c.Cc(r);var e=t.index;return c.ic().removeFiled(e)}),c.Oc(36," remove_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){var o=t.index,n=c.yc(8),i=c.ic();c.Bb(1),c.qc("formGroupName",o),c.Bb(5),c.qc("matAutocomplete",n),c.Bb(3),c.qc("ngForOf",c.kc(10,3,i.licenceValueChanges[o]))}}function ye(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function Ue(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function Pe(e,t){if(1&e&&(c.Ub(0,"mat-option",12),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r.title),c.Bb(1),c.Qc(" ",r.title," ")}}function Oe(e,t){if(1&e){var r=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",65),c.Ub(2,"div",7),c.Ub(3,"div",8),c.Ub(4,"label",9),c.Oc(5,"PPE Supplied"),c.Tb(),c.Pb(6,"input",76),c.Ub(7,"mat-autocomplete",null,77),c.Mc(9,Pe,2,2,"mat-option",23),c.jc(10,"async"),c.Tb(),c.Tb(),c.Ub(11,"div",8),c.Ub(12,"label",9),c.Oc(13,"Brand or Type"),c.Tb(),c.Pb(14,"input",78),c.Tb(),c.Ub(15,"div",29),c.Ub(16,"label",9),c.Oc(17,"Issue Date"),c.Tb(),c.Pb(18,"input",79),c.Tb(),c.Ub(19,"div",29),c.Ub(20,"label",9),c.Oc(21,"Replacement Date "),c.Tb(),c.Pb(22,"input",80),c.Tb(),c.Ub(23,"div",73),c.Ub(24,"div",74),c.Ub(25,"span",75),c.ec("click",function(){return c.Cc(r),c.ic().addFiled2()}),c.Oc(26,"add_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Ub(27,"div",73),c.Ub(28,"div",74),c.Ub(29,"span",75),c.ec("click",function(){c.Cc(r);var e=t.index;return c.ic().removeFiled1(e)}),c.Oc(30," remove_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){var o=t.index,n=c.yc(8),i=c.ic();c.Bb(1),c.qc("formGroupName",o),c.Bb(5),c.qc("matAutocomplete",n),c.Bb(3),c.qc("ngForOf",c.kc(10,3,i.PPEValueChanges[o]))}}function Ne(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function De(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function Fe(e,t){if(1&e){var r=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",65),c.Ub(2,"div",7),c.Ub(3,"div",8),c.Ub(4,"label",9),c.Oc(5,"Plant Type "),c.Tb(),c.Pb(6,"input",81),c.Tb(),c.Ub(7,"div",8),c.Ub(8,"label",9),c.Oc(9,"Model Number"),c.Tb(),c.Pb(10,"input",82),c.Tb(),c.Ub(11,"div",29),c.Ub(12,"label",9),c.Oc(13,"Serial Number"),c.Tb(),c.Pb(14,"input",83),c.Tb(),c.Ub(15,"div",29),c.Ub(16,"label",9),c.Oc(17,"Service/Replacement Date"),c.Tb(),c.Pb(18,"input",84),c.Tb(),c.Ub(19,"div",73),c.Ub(20,"div",74),c.Ub(21,"span",75),c.ec("click",function(){return c.Cc(r),c.ic().addEquipFiled2()}),c.Oc(22,"add_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Ub(23,"div",73),c.Ub(24,"div",74),c.Ub(25,"span",75),c.ec("click",function(){c.Cc(r);var e=t.index;return c.ic().removeEquipFiled1(e)}),c.Oc(26," remove_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){var o=t.index;c.Bb(1),c.qc("formGroupName",o)}}function xe(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}function Ee(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",64),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.empDetails.valid)}}var qe,we=function(){return["/admin/registration/employeeRegistration"]},ke=((qe=function(){function t(r,o,n,i,a,c,s){e(this,t),this.fb=r,this.role=o,this.employee=n,this.licenceInfo=i,this.upload=a,this.activatedRoute=c,this.router=s,this.PPERegister=!1,this.LicenceInfo=!1,this.EquipmentInfo=!1,this.submitted=!1,this.profile=!0,this.roleData=[""],this.empData=[],this.PPEData=[],this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.empDetails=this.fb.group({profTitie:["",l.C.required],profFirst:["",l.C.required],porfListName:["",l.C.required],porfEmail:["",l.C.required],porfPosition:["",l.C.required],porfDepartment:["",l.C.required],porfPhone:["",l.C.required],porfMobile:["",l.C.required],file:[""],reportingTo:[""],roleId:["",l.C.required],porfStreetAddress:["",l.C.required],porfCityTown:["",l.C.required],porfState:["",l.C.required],porfPostalCode:["",l.C.required],porfUploadImage:[""],EmpFirst:["",l.C.required],empLastName:["",l.C.required],empRelationship:["",l.C.required],empEmail:["",l.C.required],empPhone:["",l.C.required],empMobile:["",l.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],UploadLicenceArr:this.fb.array([]),PPESupplied:[""],BrandOrType:[""],IssueDate:[""],PPEArr:this.fb.array([]),ReplacementDate:[""],Sign:[""],plantArr:this.fb.array([]),plantSignature:[""],modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.licenceInfo.getAllLicence().pipe(Object(x.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.empData=t,console.log("this.empData",e.empData)}),this.licenceInfo.getAllPPE().pipe(Object(x.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.PPEData=t,console.log("this.empData2",e.PPEData)}),this.getAllRoles(),this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.addFiled(),this.addFiled2(),this.addEquipFiled2()),this.filteredOptions2=this.empDetails.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(800),Object(I.a)(),Object(S.a)(function(t){return console.log("myControl22..",t,e.filteredOptions2),e.filter2(t||"")})),this.filteredOptions1=this.empDetails.controls.PPESupplied.valueChanges.pipe(Object(A.a)(""),Object(M.a)(800),Object(I.a)(),Object(S.a)(function(t){return console.log("myControl..",t,e.filteredOptions1),e.filter1(t||"")}))}},{key:"getAllRoles",value:function(){var e=this;this.role.getAllRole().subscribe(function(t){console.log("role..",t),e.roleData=t.data})}},{key:"patchData",value:function(){var e=this;this.employee.getEmployeeInfoById(this.id).subscribe(function(t){console.log("data=>",t),t.data.licence.forEach(function(t){t.uploadLicence.forEach(function(t){e.addFiled1(t)})}),t.data.ppe.PPEArr.forEach(function(t){e.addFiled3(t)}),t.data.plant.plantArr.forEach(function(t){e.addEquipFiled3(t)}),e.empDetails.patchValue({profTitie:t.data.title,profFirst:t.data.firstName,porfListName:t.data.lastName,porfEmail:t.data.email,porfPosition:t.data.position,porfDepartment:t.data.department,porfPhone:t.data.phone,porfMobile:t.data.mobile,roleId:t.data.roleId,porfStreetAddress:t.data.location.address,porfCityTown:t.data.location.city,porfState:t.data.location.state,porfPostalCode:t.data.location.pincode,porfUploadImage:t.data.uploadImage,EmpFirst:t.data.emergencyContact.firstName,empLastName:t.data.emergencyContact.lastName,empRelationship:t.data.emergencyContact.relationship,empEmail:t.data.emergencyContact.email,empPhone:t.data.emergencyContact.phone,empMobile:t.data.emergencyContact.mobile,PPESupplied:t.data.ppe.ppeSupplied,BrandOrType:t.data.ppe.brand,IssueDate:t.data.ppe.issueDate,ReplacementDate:t.data.ppe.replacementDate,Sign:t.data.ppe.signature,plantType:t.data.plant.plantType,modelNumber:t.data.plant.modelNumber,serialNumber:t.data.plant.serialNumber,serviceRenewDate:t.data.plant.serviceRenewDate}),e.dataUrl=t.data.ppe.signature,e.dataUrl2=t.data.plant.plantSignature,console.log("data.data.ppe.signature;",t.data.ppe.signature),Object(k.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(r){console.log("this.signaturePad",e.signaturePad,r),e.signaturePad.fromDataURL(t.data.ppe.signature)}),Object(k.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(r){console.log("this.signaturePad",e.signaturePad2,r),e.signaturePad2.fromDataURL(t.data.plant.plantSignature)})})}},{key:"drawComplete2",value:function(){this.empDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}},{key:"clear2",value:function(){this.signaturePad2.clear()}},{key:"drawStart2",value:function(){console.log("begin drawing")}},{key:"drawComplete",value:function(){this.empDetails.controls.Sign.setValue(this.signaturePad.toDataURL()),console.log(this.signaturePad.toDataURL())}},{key:"clear",value:function(){this.signaturePad.clear()}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"browser",value:function(e,t){var r=this,o=e.target.files[0],n=new FormData;n.append("",o),console.log(o),this.upload.upload(n).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),r.selectedImage=e.files,r.addLicence().at(t).get("file").patchValue(r.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",r.selectedImage)})}},{key:"browser1",value:function(e){var t=this,r=e.target.files[0],o=new FormData;o.append("",r),console.log(r),this.upload.upload(o).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),t.file1=e.files[0],console.log("file",t.file1),t.empDetails.get("porfUploadImage").patchValue(t.file1)})}},{key:"selectedImage",value:function(e,t){throw new Error("Method not implemented.")}},{key:"onFormUpdate",value:function(e){var t=this,r=this.signaturePad.toDataURL(),o=this.signaturePad2.toDataURL(),n={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:function(){t.addPPE();var e=[];return t.addPPE().controls.forEach(function(t){console.log("item",t),e.push({ppeSupplied:t.controls.PPESupplied.value,brand:t.controls.BrandOrType.value,issueDate:t.controls.IssueDate.value,replacementDate:t.controls.ReplacementDate.value})}),e}(),signature:r},plant:{plantArr:function(){t.addPPE();var e=[];return t.addEquip().controls.forEach(function(t){console.log("item",t),e.push({plantType:t.controls.plantType.value,modelNumber:t.controls.modelNumber.value,serialNumber:t.controls.serialNumber.value,serviceRenewDate:t.controls.serviceRenewDate.value})}),e}(),plantSignature:o},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,city:this.empDetails.get("porfCityTown").value,pincode:this.empDetails.get("porfPostalCode").value,country:"India"}};this.employee.updateEmployeeInfo(this.id,n).subscribe(function(e){console.log("updateData",e),_.a.fire({title:"Employee Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/registration/employeeRegistration"])},function(e){console.error(e)})}},{key:"onFormSubmit",value:function(){var e=this;this.submitted=!0;var t=this.signaturePad.toDataURL();console.log("sign=>",this.signaturePad.toDataURL());var r=this.signaturePad2.toDataURL();console.log("this.EmployeeInfo.value",this.empDetails.value);var o={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:function(){e.addPPE();var t=[];return e.addPPE().controls.forEach(function(e){console.log("item",e),t.push({ppeSupplied:e.controls.PPESupplied.value,brand:e.controls.BrandOrType.value,issueDate:e.controls.IssueDate.value,replacementDate:e.controls.ReplacementDate.value})}),t}(),signature:t},plant:{plantArr:function(){e.addEquip();var t=[];return e.addEquip().controls.forEach(function(e){console.log("item",e),t.push({plantType:e.controls.plantType.value,modelNumber:e.controls.modelNumber.value,serialNumber:e.controls.serialNumber.value,serviceRenewDate:e.controls.serviceRenewDate.value})}),t}(),plantSignature:r},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,city:this.empDetails.get("porfCityTown").value,pincode:this.empDetails.get("porfPostalCode").value,country:"India"}};console.log("body=>",o),this.employee.addEmployeeInfo(o).subscribe(function(t){console.log("data=>",t),e.signaturePad.toDataURL(),_.a.fire({title:"Employee Added successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/registration/employeeRegistration"])},function(e){console.error(e)})}},{key:"sign",value:function(e){throw new Error("Method not implemented.")}},{key:"addAcionTab",value:function(e){Object.keys(this.sidePreview.value)}},{key:"profileshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!0,this.EquipmentInfo=!1}},{key:"LicenceInfoshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!0,this.profile=!1,this.EquipmentInfo=!1}},{key:"PPERegisteshow",value:function(){this.PPERegister=!0,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!1}},{key:"addPlantshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!0}},{key:"addLicence",value:function(){return this.empDetails.get("UploadLicenceArr")}},{key:"addEquip",value:function(){return this.empDetails.get("plantArr")}},{key:"newEquipFiled2",value:function(){return this.fb.group({modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}},{key:"addEquipFiled2",value:function(){this.addEquip().push(this.newEquipFiled2()),console.log(this.empDetails.value)}},{key:"newEquipFiled3",value:function(e){return console.log("newData",e),this.fb.group({plantType:[e.plantType],modelNumber:[e.modelNumber],serialNumber:[e.serialNumber],serviceRenewDate:[e.serviceRenewDate]})}},{key:"addEquipFiled3",value:function(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.empDetails.value)}},{key:"removeEquipFiled1",value:function(e){var t=this.empDetails.controls.plantArr;t.length>1&&t.removeAt(e)}},{key:"addPPE",value:function(){return this.empDetails.get("PPEArr")}},{key:"newFiled2",value:function(){return this.fb.group({PPESupplied:[""],BrandOrType:[""],IssueDate:[""],ReplacementDate:[""]})}},{key:"addFiled2",value:function(){var e=this;this.addPPE().push(this.newFiled2()),console.log(this.empDetails.value),this.PPEValueChanges=new Array;for(var t=0;t<this.addPPE().length;t++){var r=this.addPPE().at(t);this.PPEValueChanges.push(r.controls.PPESupplied.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(t){return t?e._filterPPE(t):e.PPEData.slice()}))),console.log(r.valueChanges)}}},{key:"removeFiled1",value:function(e){var t=this.empDetails.controls.PPEArr;t.length>1&&t.removeAt(e)}},{key:"newFiled3",value:function(e){return console.log("newData",e),this.fb.group({PPESupplied:[e.ppeSupplied],BrandOrType:[e.brand],IssueDate:[e.issueDate],ReplacementDate:[e.replacementDate]})}},{key:"addFiled3",value:function(e){var t=this;console.log("data",e),this.addPPE().push(this.newFiled3(e)),console.log("addPPEFiled1",this.empDetails.value),this.PPEValueChanges=new Array;for(var r=0;r<this.addPPE().length;r++){var o=this.addPPE().at(r);this.PPEValueChanges.push(o.controls.PPESupplied.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(e){return e?t._filterPPE(e):t.PPEData.slice()}))),console.log(o.valueChanges)}}},{key:"newFiled",value:function(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}},{key:"newFiled1",value:function(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}},{key:"addFiled1",value:function(e){var t=this;this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(var r=0;r<this.addLicence().length;r++){var o=this.addLicence().at(r);this.licenceValueChanges.push(o.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(e){return e?t._filter(e):t.empData.slice()}))),console.log(o.valueChanges)}}},{key:"addFiled",value:function(){var e=this;this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(var t=0;t<this.addLicence().length;t++){var r=this.addLicence().at(t);this.licenceValueChanges.push(r.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(t){return t?e._filter(t):e.empData.slice()}))),console.log(r.valueChanges)}}},{key:"removeFiled",value:function(e){var t=this.empDetails.controls.UploadLicenceArr;t.length>1&&t.removeAt(e)}},{key:"registerFormControl",get:function(){return this.empDetails.controls}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.empData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"_filterPPE",value:function(e){var t=e.toLowerCase();return this.PPEData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"filter2",value:function(e){return this.licenceInfo.getAllLicence().pipe(Object(x.a)(function(e){return e.data=e.data.map(function(e){return e.LicenceName=""+e.title,e}),e}),Object(x.a)(function(t){return t.data=t.data.filter(function(t){return 0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())}),t.data}))}},{key:"filter1",value:function(e){return this.licenceInfo.getAllPPE().pipe(Object(x.a)(function(e){return e.data=e.data.map(function(e){return e.PPESupplied=""+e.title,e}),e}),Object(x.a)(function(t){return t.data=t.data.filter(function(t){return console.log("11option>>",e),0===t.PPESupplied.toLowerCase().indexOf(e.toLowerCase())}),console.log("response.data>>",t.data),t.data}))}}]),t}()).\u0275fac=function(e){return new(e||qe)(c.Ob(l.f),c.Ob(R.a),c.Ob(j.a),c.Ob(G.a),c.Ob(V),c.Ob(a.a),c.Ob(a.f))},qe.\u0275cmp=c.Ib({type:qe,selectors:[["app-add-employee"]],viewQuery:function(e,t){var r;1&e&&(c.Sc($,!0),c.Sc(K,!0)),2&e&&(c.xc(r=c.fc())&&(t.signaturePad=r.first),c.xc(r=c.fc())&&(t.signaturePad2=r.first))},decls:182,vars:79,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"container","card","px-4","py-4"],[3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","profTitie",1,"form-select","form-control"],["selected","","hidden",""],[3,"value"],["class","text-danger",4,"ngIf"],["type","text","formControlName","profFirst",1,"form-control","inputData",3,"ngClass"],["type","text","formControlName","porfListName",1,"form-control","inputData"],["type","text","formControlName","porfEmail",1,"form-control"],["type","text","formControlName","porfPosition","id","siteName",1,"form-control"],["type","text","formControlName","porfDepartment",1,"form-control"],["type","text","formControlName","porfPhone",1,"form-control"],["type","text","formControlName","porfMobile",1,"form-control"],[1,"form-label","mb-3"],["aria-label","Default select example","formControlName","roleId",1,"form-select","form-control"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["aria-label","Default select example","formControlName","reportingTo",1,"form-select","form-control"],[1,"mb-3","mt-3","col-5"],["type","text","formControlName","porfStreetAddress","id","siteName",1,"form-control"],["type","text","formControlName","porfCityTown",1,"form-control"],[1,"mb-3","mt-3","col-2"],["type","text","formControlName","porfState",1,"form-control"],["type","text","formControlName","porfPostalCode",1,"form-control"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],["onerror"," this.src='../../../assets/img/uploadImg.png' ","alt","","width","130","height","130",3,"src"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"row","mt-3"],[1,"col-12"],[1,"emergrncy_1"],["type","text","formControlName","EmpFirst","id","siteName",1,"form-control","inputData"],["type","text","formControlName","empLastName",1,"form-control","inputData"],["type","text","formControlName","empRelationship",1,"form-control"],["type","text","formControlName","empEmail",1,"form-control"],["type","text","formControlName","empPhone","id","siteName",1,"form-control"],["type","text","formControlName","empMobile",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","UploadLicenceArr"],[4,"ngFor","ngForOf"],["label","PPE Register",3,"click"],["formArrayName","PPEArr"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature1",""],[1,"btn","btn-outline-primary","btn_1",3,"click"],["label","Plant/Equipment Register",3,"click"],["formArrayName","plantArr"],["signature2",""],[1,"text-danger"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],["employee1","matAutocomplete"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],["for","formFile1",1,"form-label"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],["type","text","formControlName","PPESupplied","id","siteName",1,"form-control",3,"matAutocomplete"],["employee2","matAutocomplete"],["type","text","formControlName","BrandOrType",1,"form-control"],["type","date","formControlName","IssueDate",1,"form-control"],["type","date","formControlName","ReplacementDate",1,"form-control"],["type","text","formControlName","plantType",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],["type","text","formControlName","serialNumber",1,"form-control"],["type","date","formControlName","serviceRenewDate",1,"form-control"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Pb(1,"i",1),c.Tb(),c.Ub(2,"div",2),c.Ub(3,"form",3),c.Ub(4,"h1",4),c.Ub(5,"p",5),c.Oc(6,"Employee Information Preview"),c.Tb(),c.Tb(),c.Ub(7,"mat-tab-group"),c.Ub(8,"mat-tab",6),c.ec("click",function(){return t.profileshow()}),c.Ub(9,"div",7),c.Ub(10,"div",8),c.Ub(11,"label",9),c.Oc(12,"Title"),c.Tb(),c.Ub(13,"select",10),c.Ub(14,"option",11),c.Oc(15,"Select"),c.Tb(),c.Ub(16,"option",12),c.Oc(17,"Mr."),c.Tb(),c.Ub(18,"option",12),c.Oc(19,"Mrs."),c.Tb(),c.Ub(20,"option",12),c.Oc(21,"Miss"),c.Tb(),c.Ub(22,"option",12),c.Oc(23,"Ms."),c.Tb(),c.Tb(),c.Mc(24,J,2,0,"span",13),c.Tb(),c.Ub(25,"div",8),c.Ub(26,"label",9),c.Oc(27,"First Name"),c.Tb(),c.Pb(28,"input",14),c.Mc(29,X,2,0,"span",13),c.Tb(),c.Ub(30,"div",8),c.Ub(31,"label",9),c.Oc(32,"Last Name"),c.Tb(),c.Pb(33,"input",15),c.Mc(34,Z,2,0,"span",13),c.Tb(),c.Ub(35,"div",8),c.Ub(36,"label",9),c.Oc(37,"Email"),c.Tb(),c.Pb(38,"input",16),c.Mc(39,Y,2,0,"span",13),c.Tb(),c.Tb(),c.Ub(40,"div",7),c.Ub(41,"div",8),c.Ub(42,"label",9),c.Oc(43,"Position"),c.Tb(),c.Pb(44,"input",17),c.Mc(45,ee,2,0,"span",13),c.Tb(),c.Ub(46,"div",8),c.Ub(47,"label",9),c.Oc(48,"Department"),c.Tb(),c.Pb(49,"input",18),c.Mc(50,te,2,0,"span",13),c.Tb(),c.Ub(51,"div",8),c.Ub(52,"label",9),c.Oc(53,"Phone"),c.Tb(),c.Pb(54,"input",19),c.Mc(55,re,2,0,"span",13),c.Tb(),c.Ub(56,"div",8),c.Ub(57,"label",9),c.Oc(58,"Mobile"),c.Tb(),c.Pb(59,"input",20),c.Mc(60,oe,2,0,"span",13),c.Tb(),c.Ub(61,"div",8),c.Ub(62,"label",21),c.Oc(63,"Administration Right"),c.Tb(),c.Ub(64,"select",22),c.Ub(65,"option",11),c.Oc(66,"Select"),c.Tb(),c.Mc(67,ne,2,2,"option",23),c.Tb(),c.Mc(68,ie,2,0,"span",24),c.Tb(),c.Ub(69,"div",8),c.Ub(70,"label",21),c.Oc(71,"Reporting To"),c.Tb(),c.Ub(72,"select",25),c.Ub(73,"option",11),c.Oc(74,"Select"),c.Tb(),c.Ub(75,"option",12),c.Oc(76,"Manager"),c.Tb(),c.Ub(77,"option",12),c.Oc(78,"Supervisor"),c.Tb(),c.Ub(79,"option",12),c.Oc(80,"Worker"),c.Tb(),c.Tb(),c.Mc(81,ae,2,0,"span",24),c.Tb(),c.Tb(),c.Ub(82,"div",7),c.Ub(83,"div",26),c.Ub(84,"label",9),c.Oc(85,"Street Address"),c.Tb(),c.Pb(86,"input",27),c.Mc(87,le,2,0,"span",13),c.Tb(),c.Ub(88,"div",8),c.Ub(89,"label",9),c.Oc(90,"City/town"),c.Tb(),c.Pb(91,"input",28),c.Mc(92,ce,2,0,"span",13),c.Tb(),c.Ub(93,"div",29),c.Ub(94,"label",9),c.Oc(95,"State"),c.Tb(),c.Pb(96,"input",30),c.Mc(97,se,2,0,"span",13),c.Tb(),c.Ub(98,"div",29),c.Ub(99,"label",9),c.Oc(100,"Postal Code"),c.Tb(),c.Pb(101,"input",31),c.Mc(102,be,2,0,"span",13),c.Tb(),c.Tb(),c.Ub(103,"div",32),c.Ub(104,"div",33),c.Pb(105,"img",34),c.Tb(),c.Ub(106,"div",35),c.Ub(107,"div",36),c.Ub(108,"label",37),c.Oc(109,"Upload Image"),c.Tb(),c.Ub(110,"input",38),c.ec("change",function(e){return t.browser1(e)}),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(111,"div",39),c.Ub(112,"div",40),c.Ub(113,"p",41),c.Oc(114,"Emergency Contact Information"),c.Tb(),c.Tb(),c.Tb(),c.Ub(115,"div",7),c.Ub(116,"div",8),c.Ub(117,"label",9),c.Oc(118,"First Name"),c.Tb(),c.Pb(119,"input",42),c.Mc(120,ue,2,0,"span",13),c.Tb(),c.Ub(121,"div",8),c.Ub(122,"label",9),c.Oc(123,"Last Name"),c.Tb(),c.Pb(124,"input",43),c.Mc(125,me,2,0,"span",13),c.Tb(),c.Ub(126,"div",8),c.Ub(127,"label",9),c.Oc(128,"Relationship"),c.Tb(),c.Pb(129,"input",44),c.Mc(130,de,2,0,"span",13),c.Tb(),c.Ub(131,"div",8),c.Ub(132,"label",9),c.Oc(133,"Email "),c.Tb(),c.Pb(134,"input",45),c.Mc(135,pe,2,0,"span",13),c.Tb(),c.Tb(),c.Ub(136,"div",7),c.Ub(137,"div",8),c.Ub(138,"label",9),c.Oc(139,"Phone"),c.Tb(),c.Pb(140,"input",46),c.Mc(141,fe,2,0,"span",13),c.Tb(),c.Ub(142,"div",8),c.Ub(143,"label",9),c.Oc(144,"Mobile"),c.Tb(),c.Pb(145,"input",47),c.Mc(146,ge,2,0,"span",13),c.Tb(),c.Tb(),c.Mc(147,he,2,1,"button",48),c.Mc(148,ve,2,1,"button",48),c.Tb(),c.Ub(149,"mat-tab",49),c.ec("click",function(){return t.LicenceInfoshow()}),c.Ub(150,"div",50),c.Mc(151,Te,37,5,"div",51),c.Tb(),c.Mc(152,ye,2,1,"button",48),c.Mc(153,Ue,2,1,"button",48),c.Tb(),c.Ub(154,"mat-tab",52),c.ec("click",function(){return t.PPERegisteshow()}),c.Ub(155,"div",53),c.Mc(156,Oe,31,5,"div",51),c.Tb(),c.Ub(157,"div",7),c.Ub(158,"div",54),c.Ub(159,"label"),c.Oc(160,"Signature"),c.Tb(),c.Ub(161,"div",55),c.Ub(162,"signature-pad",56,57),c.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),c.Tb(),c.Tb(),c.Tb(),c.Ub(164,"button",58),c.ec("click",function(){return t.clear()}),c.Oc(165," Clear "),c.Tb(),c.Mc(166,Ne,2,1,"button",48),c.Mc(167,De,2,1,"button",48),c.Tb(),c.Tb(),c.Ub(168,"mat-tab",59),c.ec("click",function(){return t.addPlantshow()}),c.Ub(169,"div",60),c.Mc(170,Fe,27,1,"div",51),c.Tb(),c.Ub(171,"div",7),c.Ub(172,"div",54),c.Ub(173,"label"),c.Oc(174,"Signature"),c.Tb(),c.Ub(175,"div",55),c.Ub(176,"signature-pad",56,61),c.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),c.Tb(),c.Tb(),c.Tb(),c.Ub(178,"button",58),c.ec("click",function(){return t.clear2()}),c.Oc(179," Clear "),c.Tb(),c.Mc(180,xe,2,1,"button",48),c.Mc(181,Ee,2,1,"button",48),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.qc("routerLink",c.tc(78,we)),c.Bb(3),c.qc("formGroup",t.empDetails),c.Bb(10),c.Gb("is-invalid",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),c.Bb(11),c.qc("ngIf",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),c.qc("ngClass",t.formData),c.Bb(1),c.qc("ngIf",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),c.Bb(3),c.qc("ngForOf",t.roleData),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),c.Bb(9),c.qc("ngIf",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfCityTown.touched||t.submitted)&&(null==t.registerFormControl.porfCityTown.errors?null:t.registerFormControl.porfCityTown.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfCityTown.touched||t.submitted)&&(null==t.registerFormControl.porfCityTown.errors?null:t.registerFormControl.porfCityTown.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.porfPostalCode.touched||t.submitted)&&(null==t.registerFormControl.porfPostalCode.errors?null:t.registerFormControl.porfPostalCode.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.porfPostalCode.touched||t.submitted)&&(null==t.registerFormControl.porfPostalCode.errors?null:t.registerFormControl.porfPostalCode.errors.required)),c.Bb(3),c.qc("src",t.file1,c.Ec),c.Bb(14),c.Gb("is-invalid",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),c.Bb(5),c.Gb("is-invalid",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),c.Bb(4),c.Gb("is-invalid",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),c.Bb(1),c.qc("ngIf",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),c.Bb(1),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp),c.Bb(3),c.qc("ngForOf",t.addLicence().controls),c.Bb(1),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp),c.Bb(3),c.qc("ngForOf",t.addPPE().controls),c.Bb(6),c.qc("options",t.signaturePadOptions),c.Bb(4),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp),c.Bb(3),c.qc("ngForOf",t.addEquip().controls),c.Bb(6),c.qc("options",t.signaturePadOptions),c.Bb(4),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp))},directives:[a.g,l.E,l.s,l.k,Q.b,Q.a,l.A,l.r,l.i,l.v,l.D,i.n,l.d,i.l,i.m,l.e,z.a,l.l,H.c,H.a,W.n],pipes:[i.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),qe),Ae=n("+0xr"),Me=n("Dh3D"),Ie=n("M9IT"),Se=n("yZxC"),Be=n("0IaG"),Le=n("JqCM"),_e=n("bTqV"),Re=n("NFeN"),je=n("Qu3c"),Ge=n("OFbc");function Ve(e,t){1&e&&(c.Ub(0,"th",17),c.Oc(1," No. "),c.Tb())}function Qe(e,t){if(1&e&&(c.Ub(0,"td",18),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.Bb(1),c.Pc(r.index)}}function ze(e,t){1&e&&(c.Ub(0,"th",17),c.Oc(1," Title "),c.Tb())}function He(e,t){if(1&e&&(c.Ub(0,"td",18),c.Ub(1,"span",19),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.title)}}function We(e,t){1&e&&(c.Ub(0,"th",17),c.Oc(1," First Name "),c.Tb())}function $e(e,t){if(1&e&&(c.Ub(0,"td",18),c.Ub(1,"span",20),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.firstName)}}function Ke(e,t){1&e&&(c.Ub(0,"th",17),c.Oc(1," Last Name "),c.Tb())}function Je(e,t){if(1&e&&(c.Ub(0,"td",18),c.Ub(1,"span",20),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.lastName)}}function Xe(e,t){1&e&&(c.Ub(0,"th",17),c.Oc(1," Email "),c.Tb())}function Ze(e,t){if(1&e&&(c.Ub(0,"td",18),c.Ub(1,"span",20),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.email)}}function Ye(e,t){1&e&&(c.Ub(0,"th",21),c.Oc(1," Action "),c.Tb())}function et(e,t){if(1&e){var r=c.Vb();c.Ub(0,"td",18),c.Ub(1,"button",22),c.ec("click",function(){c.Cc(r);var e=t.$implicit;return c.ic().edit(e._id)}),c.Ub(2,"mat-icon",23),c.Oc(3,"edit"),c.Tb(),c.Tb(),c.Ub(4,"button",24),c.ec("click",function(){c.Cc(r);var e=t.$implicit;return c.ic().delete(e)}),c.Ub(5,"mat-icon",25),c.Oc(6,"delete"),c.Tb(),c.Tb(),c.Ub(7,"button",22),c.ec("click",function(){c.Cc(r);var e=t.$implicit;return c.ic().returnById(e._id)}),c.Pb(8,"svg-icon",26),c.Tb(),c.Tb()}}function tt(e,t){1&e&&c.Pb(0,"tr",27)}function rt(e,t){1&e&&c.Pb(0,"tr",28)}function ot(e,t){1&e&&(c.Ub(0,"tr",29),c.Ub(1,"td",30),c.Oc(2,"Data Not Found "),c.Tb(),c.Tb())}var nt,it=function(e){return[e]},at=function(){return[20]},lt=((nt=function(){function t(r,o,n,i,a,l){e(this,t),this.employee=r,this.fb=o,this.setTitle=n,this.dialog=i,this.spinner=a,this.router=l,this.ELEMENT_DATA=[],this.displayedColumns=["index","title","firstName","lastName","email","action"],this.dataSource=new Ae.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllEmployee(),this.setTitle.setTitle("WHS-Employee Details")}},{key:"getAllEmployee",value:function(){var e=this;this.employee.getAllEmployeeInfo().subscribe(function(t){console.log(t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,e.dataSource=new Ae.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"delete",value:function(e){var t=this;_.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.firstName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(r){r.value&&(console.log(r),t.spinner.show(),t.employee.deleteEmployeeInfo(e._id).subscribe(function(e){t.getAllEmployee(),t.spinner.hide()}))})}},{key:"edit",value:function(e){this.router.navigate(["/admin/registration/addEmployee/"+e])}},{key:"returnById",value:function(e){this.router.navigate(["/admin/registration/plantRegistration"])}}]),t}()).\u0275fac=function(e){return new(e||nt)(c.Ob(j.a),c.Ob(l.f),c.Ob(Se.a),c.Ob(Be.b),c.Ob(Le.c),c.Ob(a.f))},nt.\u0275cmp=c.Ib({type:nt,selectors:[["app-employee-registration"]],viewQuery:function(e,t){var r;1&e&&(c.Sc(Ie.a,!0),c.Sc(Me.a,!0)),2&e&&(c.xc(r=c.fc())&&(t.paginator=r.first),c.xc(r=c.fc())&&(t.sort=r.first))},decls:31,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["matTooltip","Return PPE OR Plant/Equipment","name","Return"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"h1"),c.Oc(2," Employee Details "),c.Tb(),c.Tb(),c.Ub(3,"div"),c.Ub(4,"button",1),c.Pb(5,"i",2),c.Oc(6," Add Employee "),c.Tb(),c.Tb(),c.Ub(7,"div"),c.Ub(8,"table",3),c.Sb(9,4),c.Mc(10,Ve,2,0,"th",5),c.Mc(11,Qe,2,1,"td",6),c.Rb(),c.Sb(12,7),c.Mc(13,ze,2,0,"th",5),c.Mc(14,He,3,1,"td",6),c.Rb(),c.Sb(15,8),c.Mc(16,We,2,0,"th",5),c.Mc(17,$e,3,1,"td",6),c.Rb(),c.Sb(18,9),c.Mc(19,Ke,2,0,"th",5),c.Mc(20,Je,3,1,"td",6),c.Rb(),c.Sb(21,10),c.Mc(22,Xe,2,0,"th",5),c.Mc(23,Ze,3,1,"td",6),c.Rb(),c.Sb(24,11),c.Mc(25,Ye,2,0,"th",12),c.Mc(26,et,9,0,"td",6),c.Rb(),c.Mc(27,tt,1,0,"tr",13),c.Mc(28,rt,1,0,"tr",14),c.Mc(29,ot,3,0,"tr",15),c.Tb(),c.Pb(30,"mat-paginator",16),c.Tb()),2&e&&(c.Bb(4),c.qc("routerLink",c.uc(5,it,"/admin/registration/addEmployee/form")),c.Bb(4),c.qc("dataSource",t.dataSource),c.Bb(19),c.qc("matHeaderRowDef",t.displayedColumns),c.Bb(1),c.qc("matRowDefColumns",t.displayedColumns),c.Bb(2),c.qc("pageSizeOptions",c.tc(7,at)))},directives:[a.g,Ae.k,Me.a,Ae.c,Ae.e,Ae.b,Ae.g,Ae.j,Ae.h,Ie.a,Ae.d,Me.b,Ae.a,_e.a,Re.a,je.a,Ge.b,Ae.f,Ae.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),nt),ct=["signature2"],st=["signature1"];function bt(e,t){1&e&&(c.Ub(0,"label",6),c.Oc(1,"Select PPE to Remove "),c.Tb())}function ut(e,t){if(1&e&&(c.Ub(0,"div"),c.Ub(1,"div",25),c.Ub(2,"div",4),c.Ub(3,"div",26),c.Ub(4,"label",6),c.Oc(5,"PPE Supplied"),c.Tb(),c.Pb(6,"input",27),c.Tb(),c.Ub(7,"div",26),c.Ub(8,"label",6),c.Oc(9,"Brand or Type"),c.Tb(),c.Pb(10,"input",28),c.Tb(),c.Ub(11,"div",29),c.Ub(12,"label",6),c.Oc(13,"Issue Date"),c.Tb(),c.Pb(14,"input",30),c.Tb(),c.Ub(15,"div",29),c.Ub(16,"label",6),c.Oc(17,"Replacement Date "),c.Tb(),c.Pb(18,"input",31),c.Tb(),c.Ub(19,"div",29),c.Mc(20,bt,2,0,"label",32),c.Pb(21,"br"),c.Pb(22,"input",33),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e){var r=t.index;c.Bb(1),c.qc("formGroupName",r),c.Bb(19),c.qc("ngIf",0===r)}}function mt(e,t){if(1&e&&(c.Ub(0,"mat-option",34),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r),c.Bb(1),c.Qc(" ",r.fullName," ")}}function dt(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",35),c.ec("click",function(){return c.Cc(r),c.ic().peeSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.plantDetails.valid)}}function pt(e,t){if(1&e&&(c.Ub(0,"button",36),c.Oc(1," Update "),c.Tb()),2&e){var r=c.ic();c.qc("disabled",!r.plantDetails.valid)}}function ft(e,t){if(1&e&&(c.Ub(0,"div"),c.Ub(1,"div",25),c.Ub(2,"div",4),c.Ub(3,"div",26),c.Ub(4,"label",6),c.Oc(5,"Plant Type "),c.Tb(),c.Pb(6,"input",37),c.Tb(),c.Ub(7,"div",26),c.Ub(8,"label",6),c.Oc(9,"Model Number"),c.Tb(),c.Pb(10,"input",38),c.Tb(),c.Ub(11,"div",29),c.Ub(12,"label",6),c.Oc(13,"Serial Number"),c.Tb(),c.Pb(14,"input",39),c.Tb(),c.Ub(15,"div",29),c.Ub(16,"label",6),c.Oc(17,"Service/Replacement Date"),c.Tb(),c.Pb(18,"input",40),c.Tb(),c.Ub(19,"div",29),c.Ub(20,"label",6),c.Oc(21,"Select Plant to Remove "),c.Tb(),c.Pb(22,"br"),c.Pb(23,"input",41),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e){var r=t.index;c.Bb(1),c.qc("formGroupName",r)}}function gt(e,t){if(1&e&&(c.Ub(0,"mat-option",34),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r),c.Bb(1),c.Qc(" ",r.fullName," ")}}function ht(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",35),c.ec("click",function(){return c.Cc(r),c.ic().plantSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.plantDetails.valid)}}function vt(e,t){if(1&e&&(c.Ub(0,"button",36),c.Oc(1," Update "),c.Tb()),2&e){var r=c.ic();c.qc("disabled",!r.plantDetails.valid)}}var Ct,Tt=((Ct=function(){function t(r,o,n){e(this,t),this.fb=r,this.activatedRoute=o,this.employee=n,this.PPERegister=!1,this.EquipmentInfo=!1,this.PPEData=[],this.empData=[],this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.plantDetails=this.fb.group({PPESupplied:[""],BrandOrType:[""],IssueDate:[""],PPEArr:this.fb.array([]),ReplacementDate:[""],Sign:[""],managerName:[""],date:[""],plantArr:this.fb.array([]),plantSignature:[""],modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""],plantManagerName:[""],plantDate:[""]})}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.id=this.activatedRoute.snapshot.params.id,this.patchData(),this.employee.getAllEmployeeInfo().pipe(Object(x.a)(function(e){return e.data.map(function(e){return e.fullName="".concat(e.firstName," ").concat(e.lastName),e})})).subscribe(function(t){e.empData=t,e.filteredOptions1=e.plantDetails.controls.managerName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(t){return"object"==typeof t?"":"string"==typeof t?e.plantDetails.controls.managerName.setErrors({incorrect:!0}):""}),Object(x.a)(function(e){return"string"==typeof e?e:null==e?void 0:e.fullName}),Object(x.a)(function(t){return t?e._filter(t):e.empData.slice()})),e.filteredOptions2=e.plantDetails.controls.managerName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(t){return"object"==typeof t?"":"string"==typeof t?e.plantDetails.controls.managerName.setErrors({incorrect:!0}):""}),Object(x.a)(function(e){return"string"==typeof e?e:null==e?void 0:e.fullName}),Object(x.a)(function(t){return t?e._filter(t):e.empData.slice()}))})}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.empData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"displayFn",value:function(e){return e&&e.fullName?e.fullName:""}},{key:"addEquip",value:function(){return this.plantDetails.get("plantArr")}},{key:"newEquipFiled3",value:function(e){return console.log("newData",e),this.fb.group({plantType:[e.plantType],modelNumber:[e.modelNumber],serialNumber:[e.serialNumber],serviceRenewDate:[e.serviceRenewDate]})}},{key:"addEquipFiled3",value:function(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.plantDetails.value)}},{key:"drawComplete2",value:function(){this.plantDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}},{key:"clear2",value:function(){this.signaturePad2.clear()}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"addPPE",value:function(){return this.plantDetails.get("PPEArr")}},{key:"newFiled3",value:function(e){return console.log("newData",e),this.fb.group({PPESupplied:[e.ppeSupplied],BrandOrType:[e.brand],IssueDate:[e.issueDate],ReplacementDate:[e.replacementDate],ppeCheck:[""]})}},{key:"addFiled3",value:function(e){console.log("data",e),this.addPPE().push(this.newFiled3(e)),console.log("addPPEFiled1",this.plantDetails.value)}},{key:"PPERegisteshow",value:function(){this.PPERegister=!0,this.EquipmentInfo=!1}},{key:"addPlantshow",value:function(){this.PPERegister=!1,this.EquipmentInfo=!0}},{key:"clear",value:function(){this.signaturePad.clear()}},{key:"drawComplete",value:function(){this.plantDetails.controls.Sign.setValue(this.signaturePad.toDataURL()),console.log(this.signaturePad.toDataURL())}},{key:"patchData",value:function(){var e=this;this.employee.getEmployeeInfoById("61dfd0151e1fff342f211925").subscribe(function(t){console.log("data=>",t),e.employeeData=t.data,t.data.ppe.PPEArr.forEach(function(t){e.addFiled3(t)}),t.data.plant.plantArr.forEach(function(t){e.addEquipFiled3(t)}),e.plantDetails.patchValue({PPESupplied:t.data.ppe.ppeSupplied,BrandOrType:t.data.ppe.brand,IssueDate:t.data.ppe.issueDate,ReplacementDate:t.data.ppe.replacementDate,plantType:t.data.plant.plantType,modelNumber:t.data.plant.modelNumber,serialNumber:t.data.plant.serialNumber,serviceRenewDate:t.data.plant.serviceRenewDate}),e.dataUrl=t.data.ppe.signature,e.dataUrl=t.data.plant.plantSignature,console.log("data.data.ppe.signature;",t.data.ppe.signature)})}},{key:"peeSubmit",value:function(){for(var e=[],t=[],r=this.employeeData,o=r.ppe,n=Object(k.b)(r,["ppe"]),i=0;i<this.addPPE().length;i++)if(this.addPPE().at(i).get("ppeCheck").value){var a={ppeSupplied:this.addPPE().at(i).get("PPESupplied").value,brand:this.addPPE().at(i).get("BrandOrType").value,issueDate:this.addPPE().at(i).get("IssueDate").value,replacementDate:this.addPPE().at(i).get("ReplacementDate").value};e.push(a),console.log("submitPPEArr",e)}else{var l={ppeSupplied:this.addPPE().at(i).get("PPESupplied").value,brand:this.addPPE().at(i).get("BrandOrType").value,issueDate:this.addPPE().at(i).get("IssueDate").value,replacementDate:this.addPPE().at(i).get("ReplacementDate").value};t.push(l),console.log("PPEArr",t)}console.log("ppe submit",{signature:this.plantDetails.controls.Sign.value,date:this.plantDetails.controls.date.value,managerName:this.plantDetails.controls.managerName.value._id,submitPPEArr:e,employeeId:this.employeeData._id});var c=Object.assign(Object.assign({},n),{ppe:{PPEArr:t,signature:o.signature}});console.log("this.",this.employeeData,c)}},{key:"plantSubmit",value:function(){for(var e=[],t=[],r=this.employeeData,o=r.plant,n=Object(k.b)(r,["plant"]),i=0;i<this.addEquip().length;i++)if(this.addEquip().at(i).get("ppeCheck").value){var a={ppeSupplied:this.addEquip().at(i).get("PPESupplied").value,brand:this.addEquip().at(i).get("BrandOrType").value,issueDate:this.addEquip().at(i).get("IssueDate").value,replacementDate:this.addEquip().at(i).get("ReplacementDate").value};e.push(a),console.log("submitPlant",e)}else{var l={ppeSupplied:this.addEquip().at(i).get("PPESupplied").value,brand:this.addEquip().at(i).get("BrandOrType").value,issueDate:this.addEquip().at(i).get("IssueDate").value,replacementDate:this.addEquip().at(i).get("ReplacementDate").value};t.push(l),console.log("PPEArr",t)}console.log("plant submit",{signature:this.plantDetails.controls.Sign.value,date:this.plantDetails.controls.date.value,managerName:this.plantDetails.controls.managerName.value._id,submitPlant:e,employeeId:this.employeeData._id});var c=Object.assign(Object.assign({},n),{plant:{plantArr:t,signature:o.plantSignature}});console.log("this.",this.employeeData,c)}}]),t}()).\u0275fac=function(e){return new(e||Ct)(c.Ob(l.f),c.Ob(a.a),c.Ob(j.a))},Ct.\u0275cmp=c.Ib({type:Ct,selectors:[["app-plant-registration"]],viewQuery:function(e,t){var r;1&e&&(c.Sc(ct,!0),c.Sc(st,!0)),2&e&&(c.xc(r=c.fc())&&(t.signaturePad2=r.first),c.xc(r=c.fc())&&(t.signaturePad=r.first))},decls:56,vars:19,consts:[[1,"container","bg-white",3,"formGroup"],["label","PPE Register",3,"click"],["formArrayName","PPEArr"],[4,"ngFor","ngForOf"],[1,"row"],[1,"mb-3","mt-3","col-5"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","managerName",1,"form-control",3,"matAutocomplete"],[3,"displayWith"],["employee2","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","date",1,"form-control"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature1",""],[1,"btn","btn-outline-primary","btn_1",3,"click"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled",4,"ngIf"],["label","Plant/Equipment Register",3,"click"],["formArrayName","plantArr"],["type","text","formControlName","plantManagerName",1,"form-control",3,"matAutocomplete"],["employee1","matAutocomplete"],["type","date","formControlName","plantDate",1,"form-control"],["signature2",""],[3,"formGroupName"],[1,"mb-3","mt-3","col-3"],["type","text","formControlName","PPESupplied","id","siteName",1,"form-control","disableDiv"],["type","text","formControlName","BrandOrType",1,"form-control","disableDiv"],[1,"mb-3","mt-3","col-2"],["type","date","formControlName","IssueDate",1,"form-control","disableDiv"],["type","date","formControlName","ReplacementDate",1,"form-control","disableDiv"],["for","exampleFormControlInput1","class","form-label",4,"ngIf"],["type","checkbox","formControlName","ppeCheck","value","",1,"form-check-input","mt-2"],[3,"value"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled"],["type","text","formControlName","plantType",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],["type","text","formControlName","serialNumber",1,"form-control"],["type","date","formControlName","serviceRenewDate",1,"form-control"],["type","checkbox","value","no",1,"form-check-input","mt-2"]],template:function(e,t){if(1&e&&(c.Ub(0,"div",0),c.Ub(1,"mat-tab-group"),c.Ub(2,"mat-tab",1),c.ec("click",function(){return t.PPERegisteshow()}),c.Ub(3,"div",2),c.Mc(4,ut,23,2,"div",3),c.Tb(),c.Pb(5,"hr"),c.Ub(6,"div",4),c.Ub(7,"div",5),c.Ub(8,"label",6),c.Oc(9,"Manager Name"),c.Tb(),c.Pb(10,"input",7),c.Ub(11,"mat-autocomplete",8,9),c.Mc(13,mt,2,2,"mat-option",10),c.jc(14,"async"),c.Tb(),c.Tb(),c.Ub(15,"div",5),c.Ub(16,"label",6),c.Oc(17," Date"),c.Tb(),c.Pb(18,"input",11),c.Tb(),c.Ub(19,"div",12),c.Ub(20,"label"),c.Oc(21,"Signature"),c.Tb(),c.Ub(22,"div",13),c.Ub(23,"signature-pad",14,15),c.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),c.Tb(),c.Tb(),c.Tb(),c.Ub(25,"button",16),c.ec("click",function(){return t.clear()}),c.Oc(26," Clear "),c.Tb(),c.Mc(27,dt,2,1,"button",17),c.Mc(28,pt,2,1,"button",18),c.Tb(),c.Tb(),c.Ub(29,"mat-tab",19),c.ec("click",function(){return t.addPlantshow()}),c.Ub(30,"div",20),c.Mc(31,ft,24,1,"div",3),c.Tb(),c.Pb(32,"hr"),c.Ub(33,"div",4),c.Ub(34,"div",5),c.Ub(35,"label",6),c.Oc(36,"Manager Name"),c.Tb(),c.Pb(37,"input",21),c.Ub(38,"mat-autocomplete",8,22),c.Mc(40,gt,2,2,"mat-option",10),c.jc(41,"async"),c.Tb(),c.Tb(),c.Ub(42,"div",5),c.Ub(43,"label",6),c.Oc(44," Date"),c.Tb(),c.Pb(45,"input",23),c.Tb(),c.Ub(46,"div",12),c.Ub(47,"label"),c.Oc(48,"Signature"),c.Tb(),c.Ub(49,"div",13),c.Ub(50,"signature-pad",14,24),c.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),c.Tb(),c.Tb(),c.Tb(),c.Ub(52,"button",16),c.ec("click",function(){return t.clear2()}),c.Oc(53," Clear "),c.Tb(),c.Mc(54,ht,2,1,"button",17),c.Mc(55,vt,2,1,"button",18),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&e){var r=c.yc(12),o=c.yc(39);c.qc("formGroup",t.plantDetails),c.Bb(4),c.qc("ngForOf",t.addPPE().controls),c.Bb(6),c.qc("matAutocomplete",r),c.Bb(1),c.qc("displayWith",t.displayFn),c.Bb(2),c.qc("ngForOf",c.kc(14,15,t.filteredOptions1)),c.Bb(10),c.qc("options",t.signaturePadOptions),c.Bb(4),c.qc("ngIf",!t.dataPlant),c.Bb(1),c.qc("ngIf",t.dataPlant),c.Bb(3),c.qc("ngForOf",t.addEquip().controls),c.Bb(6),c.qc("matAutocomplete",o),c.Bb(1),c.qc("displayWith",t.displayFn),c.Bb(2),c.qc("ngForOf",c.kc(41,17,t.filteredOptions2)),c.Bb(10),c.qc("options",t.signaturePadOptions),c.Bb(4),c.qc("ngIf",!t.dataPlant),c.Bb(1),c.qc("ngIf",t.dataPlant)}},directives:[l.s,l.k,Q.b,Q.a,l.e,i.m,l.d,H.c,l.r,l.i,H.a,z.a,i.n,l.l,l.a,W.n],pipes:[i.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}.form-check-input[_ngcontent-%COMP%]{width:17px;height:17px;margin-left:60px}"]}),Ct);function yt(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",24),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.subcontractDetails.valid)}}function Ut(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",24),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.subcontractDetails.valid)}}function Pt(e,t){if(1&e&&(c.Ub(0,"mat-option",40),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.qc("value",r),c.Bb(1),c.Qc(" ",r.title," ")}}function Ot(e,t){if(1&e){var r=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",25),c.Ub(2,"div",6),c.Ub(3,"div",7),c.Ub(4,"label",8),c.Oc(5,"Licence Name"),c.Tb(),c.Pb(6,"input",26),c.Ub(7,"mat-autocomplete",27,28),c.Mc(9,Pt,2,2,"mat-option",29),c.jc(10,"async"),c.Tb(),c.Tb(),c.Ub(11,"div",7),c.Ub(12,"label",8),c.Oc(13,"Licence Number"),c.Tb(),c.Pb(14,"input",30),c.Tb(),c.Ub(15,"div",7),c.Ub(16,"label",8),c.Oc(17,"Training Organisation"),c.Tb(),c.Pb(18,"input",31),c.Tb(),c.Ub(19,"div",7),c.Ub(20,"label",8),c.Oc(21,"Expiry Date "),c.Tb(),c.Pb(22,"input",32),c.Tb(),c.Tb(),c.Ub(23,"div",6),c.Ub(24,"div",33),c.Ub(25,"div",34),c.Ub(26,"label",35),c.Oc(27,"Upload Licence"),c.Tb(),c.Ub(28,"input",36),c.ec("change",function(e){c.Cc(r);var o=t.index;return c.ic().browser(e,o)}),c.Tb(),c.Tb(),c.Tb(),c.Ub(29,"div",37),c.Ub(30,"div",38),c.Ub(31,"span",39),c.ec("click",function(){return c.Cc(r),c.ic().addFiled()}),c.Oc(32,"add_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Ub(33,"div",37),c.Ub(34,"div",38),c.Ub(35,"span",39),c.ec("click",function(){c.Cc(r);var e=t.index;return c.ic().removeFiled(e)}),c.Oc(36," remove_circle_outline "),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&e){var o=t.index,n=c.yc(8),i=c.ic();c.Bb(1),c.qc("formGroupName",o),c.Bb(5),c.qc("matAutocomplete",n),c.Bb(1),c.qc("displayWith",i.displayFn),c.Bb(2),c.qc("ngForOf",c.kc(10,4,i.licenceValueChanges[o]))}}function Nt(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",24),c.ec("click",function(){return c.Cc(r),c.ic().onFormSubmit()}),c.Oc(1," Submit "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.subcontractDetails.valid)}}function Dt(e,t){if(1&e){var r=c.Vb();c.Ub(0,"button",24),c.ec("click",function(e){return c.Cc(r),c.ic().onFormUpdate(e)}),c.Oc(1," Update "),c.Tb()}if(2&e){var o=c.ic();c.qc("disabled",!o.subcontractDetails.valid)}}var Ft,xt=function(){return["/admin/registration/subcontract"]},Et=((Ft=function(){function t(r,o,n,i,a){e(this,t),this.fb=r,this.upload=o,this.activatedRoute=n,this.router=i,this.licenceInfo=a,this.LicenceInfo=!1,this.profile=!1,this.licenceData=[],this.subcontractDetails=this.fb.group({companyName:["",l.C.required],phone:["",l.C.required],fax:[""],email:["",l.C.required],suburb:["",l.C.required],postCode:["",l.C.required],mailingAddress:["",l.C.required],streetAddress:["",l.C.required],ABN:["",l.C.required],file:[""],licenceNumber:["",l.C.required],website:["",l.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],licenceAndQualifications:this.fb.array([])})}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.licenceInfo.getAllLicence().pipe(Object(x.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.licenceData=t,console.log("this.empData",e.licenceData)}),this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.licenceInfo.getAllLicence().pipe(Object(x.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.licenceData=t,console.log("this.empData",e.licenceData),e.addFiled()})),this.filteredOptions2=this.subcontractDetails.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(800),Object(I.a)(),Object(S.a)(function(t){return console.log("myControl22..",t,e.filteredOptions2),e.filter2(t||"")}))}},{key:"addLicence",value:function(){return this.subcontractDetails.get("licenceAndQualifications")}},{key:"newFiled",value:function(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}},{key:"newFiled1",value:function(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}},{key:"addFiled1",value:function(e){var t=this;this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(var r=0;r<this.addLicence().length;r++){var o=this.addLicence().at(r);this.licenceValueChanges.push(o.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(e){return e?t._filter(e):t.licenceData.slice()}))),console.log(o.valueChanges)}}},{key:"addFiled",value:function(){var e=this;this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(var t=0;t<this.addLicence().length;t++){var r=this.addLicence().at(t);this.licenceValueChanges.push(r.controls.LicenceName.valueChanges.pipe(Object(A.a)(""),Object(M.a)(400),Object(B.a)(function(e){return console.log("value",e)}),Object(x.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(x.a)(function(t){return t?e._filter(t):e.licenceData.slice()}))),console.log(r.valueChanges)}}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.licenceData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"removeFiled",value:function(e){var t=this.subcontractDetails.controls.licenceAndQualifications;t.length>1&&t.removeAt(e)}},{key:"browser",value:function(e,t){var r=this,o=e.target.files[0],n=new FormData;n.append("",o),console.log(o),this.upload.upload(n).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),r.selectedImage=e.files,r.addLicence().at(t).get("file").patchValue(r.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",r.selectedImage)})}},{key:"profileshow",value:function(){this.LicenceInfo=!1,this.profile=!0}},{key:"LicenceInfoshow",value:function(){this.LicenceInfo=!0,this.profile=!1}},{key:"filter2",value:function(e){return this.licenceInfo.getAllLicence().pipe(Object(x.a)(function(e){return e.data=e.data.map(function(e){return e.LicenceName=""+e.title,e}),e}),Object(x.a)(function(t){return t.data=t.data.filter(function(t){return 0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())}),t.data}))}},{key:"displayFn",value:function(e){return e&&e.title?e.title:""}},{key:"patchData",value:function(){var e=this;this.licenceInfo.getSubcontract(this.id).subscribe(function(t){console.log("dataId=>",t.data),t.data.licenceAndQualifications.forEach(function(t){e.addFiled1(t)}),e.subcontractDetails.patchValue({companyName:t.data.companyName,phone:t.data.companyName,fax:t.data.companyName,email:t.data.companyName,streetAddress:t.data.companyName,suburb:t.data.companyName,postCode:t.data.companyName,mailingAddress:t.data.companyName,ABN:t.data.companyName,licenceNumber:t.data.companyName,website:t.data.companyName})})}},{key:"onFormSubmit",value:function(){var e=this;this.submitted=!0;var t={licenceAndQualifications:function(){e.addLicence();var t=[];return e.addLicence().controls.forEach(function(e){console.log("item",e),t.push({LicenceName:e.controls.LicenceName.value,LicenceNumber:e.controls.LicenceNumber.value,TrainingQrginisation:e.controls.TrainingQrginisation.value,ExpiryDate:e.controls.ExpiryDate.value,file:e.controls.file.value})}),t}(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,postCode:this.subcontractDetails.get("postCode").value,mailingAddress:this.subcontractDetails.get("mailingAddress").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",t),this.licenceInfo.addSubcontract(t).subscribe(function(t){console.log("data=>",t),_.a.fire({title:"Subcontractor Added successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/registration/subcontract"])},function(e){console.error(e)})}},{key:"onFormUpdate",value:function(e){var t=this,r={licenceAndQualifications:function(){t.addLicence();var e=[];return t.addLicence().controls.forEach(function(t){console.log("item",t),e.push({LicenceName:t.controls.LicenceName.value,LicenceNumber:t.controls.LicenceNumber.value,TrainingQrginisation:t.controls.TrainingQrginisation.value,ExpiryDate:t.controls.ExpiryDate.value,file:t.controls.file.value})}),e}(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,postCode:this.subcontractDetails.get("postCode").value,mailingAddress:this.subcontractDetails.get("mailingAddress").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",r),this.licenceInfo.updateSubcontract(this.id,r).subscribe(function(e){console.log("updateData",e),_.a.fire({title:"Subcontractor Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/registration/subcontract"])},function(e){console.error(e)})}}]),t}()).\u0275fac=function(e){return new(e||Ft)(c.Ob(l.f),c.Ob(V),c.Ob(a.a),c.Ob(a.f),c.Ob(G.a))},Ft.\u0275cmp=c.Ib({type:Ft,selectors:[["app-add-and-edit-subcontract"]],decls:60,vars:8,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"container","bg-white",3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","fax",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","suburb",1,"form-control"],["type","text","formControlName","postCode",1,"form-control"],["type","text","formControlName","mailingAddress",1,"form-control"],["type","text","formControlName","ABN",1,"form-control"],["type","text","formControlName","licenceNumber",1,"form-control"],["type","text","formControlName","website",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","licenceAndQualifications"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],[3,"displayWith"],["employee1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],[1,"my-3"],["for","formFile1",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],[3,"value"]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Pb(1,"i",1),c.Tb(),c.Ub(2,"div",2),c.Ub(3,"h1",3),c.Ub(4,"p",4),c.Oc(5,"Subcontractor Information Preview"),c.Tb(),c.Tb(),c.Ub(6,"mat-tab-group"),c.Ub(7,"mat-tab",5),c.ec("click",function(){return t.profileshow()}),c.Ub(8,"div",6),c.Ub(9,"div",7),c.Ub(10,"label",8),c.Oc(11,"Company Name "),c.Tb(),c.Pb(12,"input",9),c.Tb(),c.Ub(13,"div",7),c.Ub(14,"label",8),c.Oc(15,"Phone"),c.Tb(),c.Pb(16,"input",10),c.Tb(),c.Ub(17,"div",7),c.Ub(18,"label",8),c.Oc(19,"Fax "),c.Tb(),c.Pb(20,"input",11),c.Tb(),c.Ub(21,"div",7),c.Ub(22,"label",8),c.Oc(23,"Email"),c.Tb(),c.Pb(24,"input",12),c.Tb(),c.Ub(25,"div",7),c.Ub(26,"label",8),c.Oc(27,"Street Address "),c.Tb(),c.Pb(28,"input",13),c.Tb(),c.Ub(29,"div",7),c.Ub(30,"label",8),c.Oc(31,"Suburb"),c.Tb(),c.Pb(32,"input",14),c.Tb(),c.Ub(33,"div",7),c.Ub(34,"label",8),c.Oc(35,"Post Code"),c.Tb(),c.Pb(36,"input",15),c.Tb(),c.Ub(37,"div",7),c.Ub(38,"label",8),c.Oc(39,"Mailing Address"),c.Tb(),c.Pb(40,"input",16),c.Tb(),c.Ub(41,"div",7),c.Ub(42,"label",8),c.Oc(43,"ABN"),c.Tb(),c.Pb(44,"input",17),c.Tb(),c.Ub(45,"div",7),c.Ub(46,"label",8),c.Oc(47,"Licence Number "),c.Tb(),c.Pb(48,"input",18),c.Tb(),c.Ub(49,"div",7),c.Ub(50,"label",8),c.Oc(51,"Website "),c.Tb(),c.Pb(52,"input",19),c.Tb(),c.Tb(),c.Mc(53,yt,2,1,"button",20),c.Mc(54,Ut,2,1,"button",20),c.Tb(),c.Ub(55,"mat-tab",21),c.ec("click",function(){return t.LicenceInfoshow()}),c.Ub(56,"div",22),c.Mc(57,Ot,37,6,"div",23),c.Tb(),c.Mc(58,Nt,2,1,"button",20),c.Mc(59,Dt,2,1,"button",20),c.Tb(),c.Tb(),c.Tb()),2&e&&(c.qc("routerLink",c.tc(7,xt)),c.Bb(2),c.qc("formGroup",t.subcontractDetails),c.Bb(51),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp),c.Bb(3),c.qc("ngForOf",t.addLicence().controls),c.Bb(1),c.qc("ngIf",!t.dataEmp),c.Bb(1),c.qc("ngIf",t.dataEmp))},directives:[a.g,l.s,l.k,Q.b,Q.a,l.d,l.r,l.i,i.n,l.e,i.m,l.l,H.c,H.a,W.n],pipes:[i.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),Ft);function qt(e,t){1&e&&(c.Ub(0,"th",16),c.Oc(1," No. "),c.Tb())}function wt(e,t){if(1&e&&(c.Ub(0,"td",17),c.Oc(1),c.Tb()),2&e){var r=t.$implicit;c.Bb(1),c.Pc(r.index)}}function kt(e,t){1&e&&(c.Ub(0,"th",16),c.Oc(1," Company Name "),c.Tb())}function At(e,t){if(1&e&&(c.Ub(0,"td",17),c.Ub(1,"span",18),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.companyName)}}function Mt(e,t){1&e&&(c.Ub(0,"th",16),c.Oc(1," Email "),c.Tb())}function It(e,t){if(1&e&&(c.Ub(0,"td",17),c.Ub(1,"span",19),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.email)}}function St(e,t){1&e&&(c.Ub(0,"th",16),c.Oc(1," Street Address "),c.Tb())}function Bt(e,t){if(1&e&&(c.Ub(0,"td",17),c.Ub(1,"span",19),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.streetAddress)}}function Lt(e,t){1&e&&(c.Ub(0,"th",16),c.Oc(1," Phone "),c.Tb())}function _t(e,t){if(1&e&&(c.Ub(0,"td",17),c.Ub(1,"span",19),c.Oc(2),c.Tb(),c.Tb()),2&e){var r=t.$implicit;c.Bb(2),c.Pc(r.phone)}}function Rt(e,t){1&e&&(c.Ub(0,"th",20),c.Oc(1," Action "),c.Tb())}function jt(e,t){if(1&e){var r=c.Vb();c.Ub(0,"td",17),c.Ub(1,"button",21),c.ec("click",function(){c.Cc(r);var e=t.$implicit;return c.ic().edit(e._id)}),c.Ub(2,"mat-icon"),c.Oc(3,"edit"),c.Tb(),c.Tb(),c.Ub(4,"button",22),c.ec("click",function(){c.Cc(r);var e=t.$implicit;return c.ic().delete(e)}),c.Ub(5,"mat-icon"),c.Oc(6,"delete"),c.Tb(),c.Tb(),c.Tb()}}function Gt(e,t){1&e&&c.Pb(0,"tr",23)}function Vt(e,t){1&e&&c.Pb(0,"tr",24)}var Qt,zt,Ht,Wt=function(e){return[e]},$t=function(){return[20]},Kt=[{path:"",component:w},{path:"employeeRegistration",component:lt},{path:"addEmployee/:id",component:ke},{path:"plantRegistration",component:Tt},{path:"subcontract",component:(Qt=function(){function t(r,o,n,i,a,l){e(this,t),this.subContract=r,this.fb=o,this.setTitle=n,this.dialog=i,this.spinner=a,this.router=l,this.ELEMENT_DATA=[],this.displayedColumns=["index","companyName","email","streetAddress","phone","action"],this.dataSource=new Ae.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllSubcontractor(),this.setTitle.setTitle("WHS-Subcontractor Details")}},{key:"getAllSubcontractor",value:function(){var e=this;this.subContract.getAllSubcontract().subscribe(function(t){console.log(t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,e.dataSource=new Ae.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"delete",value:function(e){var t=this;_.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.companyName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(r){r.value&&(console.log(r),t.spinner.show(),t.subContract.deleteSubcontract(e._id).subscribe(function(e){t.getAllSubcontractor(),t.spinner.hide()}))})}},{key:"edit",value:function(e){this.router.navigate(["/admin/registration/addSubcontract/"+e])}}]),t}(),Qt.\u0275fac=function(e){return new(e||Qt)(c.Ob(G.a),c.Ob(l.f),c.Ob(Se.a),c.Ob(Be.b),c.Ob(Le.c),c.Ob(a.f))},Qt.\u0275cmp=c.Ib({type:Qt,selectors:[["app-subcontract"]],viewQuery:function(e,t){var r;1&e&&(c.Sc(Ie.a,!0),c.Sc(Me.a,!0)),2&e&&(c.xc(r=c.fc())&&(t.paginator=r.first),c.xc(r=c.fc())&&(t.sort=r.first))},decls:30,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","companyName"],["matColumnDef","email"],["matColumnDef","streetAddress"],["matColumnDef","phone"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.Ub(0,"div",0),c.Ub(1,"h1"),c.Oc(2," Subcontractor Details "),c.Tb(),c.Tb(),c.Ub(3,"div"),c.Ub(4,"button",1),c.Pb(5,"i",2),c.Oc(6," Add Subcontractor "),c.Tb(),c.Tb(),c.Ub(7,"div"),c.Ub(8,"table",3),c.Sb(9,4),c.Mc(10,qt,2,0,"th",5),c.Mc(11,wt,2,1,"td",6),c.Rb(),c.Sb(12,7),c.Mc(13,kt,2,0,"th",5),c.Mc(14,At,3,1,"td",6),c.Rb(),c.Sb(15,8),c.Mc(16,Mt,2,0,"th",5),c.Mc(17,It,3,1,"td",6),c.Rb(),c.Sb(18,9),c.Mc(19,St,2,0,"th",5),c.Mc(20,Bt,3,1,"td",6),c.Rb(),c.Sb(21,10),c.Mc(22,Lt,2,0,"th",5),c.Mc(23,_t,3,1,"td",6),c.Rb(),c.Sb(24,11),c.Mc(25,Rt,2,0,"th",12),c.Mc(26,jt,7,0,"td",6),c.Rb(),c.Mc(27,Gt,1,0,"tr",13),c.Mc(28,Vt,1,0,"tr",14),c.Tb(),c.Pb(29,"mat-paginator",15),c.Tb()),2&e&&(c.Bb(4),c.qc("routerLink",c.uc(5,Wt,"/admin/registration/addSubcontract/form")),c.Bb(4),c.qc("dataSource",t.dataSource),c.Bb(19),c.qc("matHeaderRowDef",t.displayedColumns),c.Bb(1),c.qc("matRowDefColumns",t.displayedColumns),c.Bb(1),c.qc("pageSizeOptions",c.tc(7,$t)))},directives:[a.g,Ae.k,Me.a,Ae.c,Ae.e,Ae.b,Ae.g,Ae.j,Ie.a,Ae.d,Me.b,Ae.a,_e.a,Re.a,Ae.f,Ae.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),Qt)},{path:"addSubcontract/:id",component:Et},{path:"compdetails",component:D}],Jt=((zt=function t(){e(this,t)}).\u0275mod=c.Mb({type:zt}),zt.\u0275inj=c.Lb({factory:function(e){return new(e||zt)},imports:[[a.j.forChild(Kt)],a.j]}),zt),Xt=n("PCNd"),Zt=n("x+4y"),Yt=((Ht=function t(){e(this,t)}).\u0275mod=c.Mb({type:Ht}),Ht.\u0275inj=c.Lb({factory:function(e){return new(e||Ht)},imports:[[i.c,Jt,l.m,l.y,z.b,Ae.m,Xt.a,Zt.a,Ge.a]]}),Ht)}}])}();