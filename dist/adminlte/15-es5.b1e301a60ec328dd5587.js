!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var a=0;a<e.length;a++){var i=e[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{QX5w:function(a,i,n){"use strict";n.r(i),n.d(i,"SavedFormsModule",function(){return E});var r=n("s7LF"),o=n("SVse"),c=n("5QHs"),s=n("LUZP"),l=n("OaSA"),u=n("VRyK"),f=n("8Y7J"),d=n("KFfU"),m=n("7g+E"),b=n("zXlT"),p=n("iInd"),h=n("Q2Ze"),v=n("e6WT"),g=n("ZTz/"),T=n("UhP/"),S=n("Dxy4"),y=n("ZFy/");function w(t,e){if(1&t&&(f.Ub(0,"mat-option",24),f.Oc(1),f.Tb()),2&t){var a=e.$implicit;f.qc("value",a.value),f.Bb(1),f.Pc(a.title)}}function U(t,e){1&t&&(f.Ub(0,"mat-error"),f.Oc(1,"You must make a selection"),f.Tb())}function C(t,e){1&t&&(f.Ub(0,"th",25),f.Oc(1," Form Id "),f.Tb())}function O(t,e){if(1&t&&(f.Ub(0,"td",26),f.Oc(1),f.Tb()),2&t){var a=e.$implicit;f.Bb(1),f.Pc(a.formId)}}function k(t,e){1&t&&(f.Ub(0,"th",25),f.Oc(1,"Form Name "),f.Tb())}function I(t,e){1&t&&(f.Ub(0,"td",26),f.Oc(1,"Form Name"),f.Tb())}function D(t,e){1&t&&(f.Ub(0,"th",27),f.Oc(1,"Form Type"),f.Tb())}function M(t,e){if(1&t&&(f.Ub(0,"td",26),f.Oc(1),f.Tb()),2&t){var a=e.$implicit;f.Bb(1),f.Pc(a.fileType)}}function A(t,e){1&t&&(f.Ub(0,"th",25),f.Oc(1,"Created Date"),f.Tb())}function F(t,e){if(1&t&&(f.Ub(0,"td",26),f.Oc(1),f.jc(2,"date"),f.Tb()),2&t){var a=e.$implicit;f.Bb(1),f.Qc(" ",f.lc(2,1,a.createdAt,"mediumDate")," ")}}function R(t,e){1&t&&(f.Ub(0,"th",25),f.Oc(1,"Updated Date"),f.Tb())}function P(t,e){if(1&t&&(f.Ub(0,"td",26),f.Oc(1),f.jc(2,"date"),f.Tb()),2&t){var a=e.$implicit;f.Bb(1),f.Qc(" ",f.lc(2,1,a.updatedAt,"mediumDate")," ")}}function B(t,e){1&t&&(f.Ub(0,"th",27),f.Oc(1," Action "),f.Tb())}function x(t,e){if(1&t){var a=f.Vb();f.Ub(0,"td",26),f.Ub(1,"div",28),f.Ub(2,"span",29),f.ec("click",function(){f.Cc(a);var t=e.$implicit;return f.ic().edit(t._id,t.fileType)}),f.Oc(3," edit "),f.Tb(),f.Ub(4,"span",30),f.ec("click",function(){f.Cc(a);var t=e.$implicit;return f.ic().printPage(t._id,t.fileType)}),f.Oc(5," print "),f.Tb(),f.Tb(),f.Tb()}}function q(t,e){1&t&&f.Pb(0,"tr",31)}function z(t,e){1&t&&f.Pb(0,"tr",32)}function j(t,e){1&t&&(f.Ub(0,"tr",33),f.Ub(1,"td",34),f.Oc(2,"Data Not Found "),f.Tb(),f.Tb())}var N,H,$,_=function(){return[5,10,20,30]},L=[{path:"",component:(N=function(){function a(e,i,n,r,o){t(this,a),this.forms=e,this.spinner=i,this.shared=n,this.router=r,this.fb=o,this.displayedColumns=["formId","formType","createdAt","updatedAt","Action"],this.selectArr=[{title:"Form Id",value:"formId"},{title:"Form Type",value:"fileType"},{title:"Created Date",value:"createdAt"},{title:"Updated Date",value:"updatedAt"}],this.page=1,this.limit=5,this.searchString=""}var i,n,o;return i=a,(n=[{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator1.pageIndex=0}),Object(u.a)(this.sort.sortChange,this.paginator1.page).subscribe(function(){t.changeState={field:t.sort.active||"",value:t.sort.direction||"",page:t.paginator1.pageIndex,limit:t.paginator1.pageSize},t.getSavedforms(),console.log(t.changeState)})}},{key:"ngOnInit",value:function(){this.searchControl=this.fb.group({searchSelect:["",r.C.required],searchInput:[""]}),this.getSavedforms()}},{key:"getSavedforms",value:function(t,e,a,i,n,r){var o,c,s,u,f=this;void 0===t&&(t=null===(o=this.changeState)||void 0===o?void 0:o.field),void 0===e&&(e=null===(c=this.changeState)||void 0===c?void 0:c.value),void 0===a&&(a=null===(s=this.changeState)||void 0===s?void 0:s.page),void 0===i&&(i=null===(u=this.changeState)||void 0===u?void 0:u.limit),void 0===n&&(n=this.f.searchSelect.value),void 0===r&&(r=this.f.searchInput.value),this.forms.getAllSavedForms(a,i,t,e,n,r).subscribe(function(t){f.showDatas=t.data,f.totalCount=t.totalCount,f.showDatas.forEach(function(t,e){return f.showDatas[e].index=e}),f.tempArray=new l.l(f.showDatas),f.tempArray.sort=f.sort,console.log("get res",f.showDatas)})}},{key:"edit",value:function(t,e){var a={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/admin/forms/hazardRep/"+t],a):"Incident"==e?this.router.navigate(["/admin/forms/incidentRep/"+t],a):"Site Inspection"==e?this.router.navigate(["/admin/forms/siteInspect/"+t],a):"Tool Box"==e?this.router.navigate(["/admin/forms/toolboxTalk/"+t],a):"Risk Assessment"==e&&this.router.navigate(["/admin/forms/riskAssessSWMS/"+t],a)}},{key:"printPage",value:function(t,e){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader");var a={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}],a):"Incident"==e?this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}],a):"Site Inspection"==e?this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}],a):"Tool Box"==e?this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}],a):"Risk Assessment"==e&&this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}],a)}},{key:"paginator",value:function(t){this.page=t.pageIndex,this.limit=t.pageSize,this.getSavedforms()}},{key:"applyFilter",value:function(t){this.searchString=t.target.value}},{key:"f",get:function(){return this.searchControl.controls}},{key:"reset",value:function(){this.f.searchSelect.setValue(""),this.f.searchInput.setValue(""),this.getSavedforms()}},{key:"search",value:function(){this.searchString=this.f.searchInput.value,this.searchString=this.f.searchInput.value,this.getSavedforms()}}])&&e(i.prototype,n),o&&e(i,o),a}(),N.\u0275fac=function(t){return new(t||N)(f.Ob(d.a),f.Ob(m.c),f.Ob(b.a),f.Ob(p.f),f.Ob(r.f))},N.\u0275cmp=f.Ib({type:N,selectors:[["app-saved-forms"]],viewQuery:function(t,e){var a;1&t&&(f.Sc(c.a,!0),f.Sc(s.a,!0)),2&t&&(f.xc(a=f.fc())&&(e.paginator1=a.first),f.xc(a=f.fc())&&(e.sort=a.first))},decls:45,vars:10,consts:[[1,"col","ml-2","pt-3"],[1,"row",3,"formGroup"],[1,"col-3"],["matInput","","placeholder","Search","formControlName","searchInput",3,"type","keyup"],["input",""],["formControlName","searchSelect"],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-raised-button","",3,"click"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","formId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","formType"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","page"],[3,"value"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(f.Ub(0,"div",0),f.Ub(1,"h1"),f.Oc(2," All Saved Forms Table"),f.Tb(),f.Tb(),f.Ub(3,"div",1),f.Ub(4,"div",2),f.Ub(5,"mat-form-field"),f.Ub(6,"input",3,4),f.ec("keyup",function(t){return e.applyFilter(t)}),f.Tb(),f.Tb(),f.Tb(),f.Ub(8,"div",2),f.Ub(9,"mat-form-field"),f.Ub(10,"mat-select",5),f.Ub(11,"mat-option"),f.Oc(12,"Clear"),f.Tb(),f.Mc(13,w,2,2,"mat-option",6),f.Tb(),f.Mc(14,U,2,0,"mat-error",7),f.Tb(),f.Tb(),f.Ub(15,"div",2),f.Ub(16,"button",8),f.ec("click",function(){return e.search()}),f.Oc(17," Search "),f.Tb(),f.Tb(),f.Ub(18,"div",2),f.Ub(19,"button",8),f.ec("click",function(){return e.reset()}),f.Oc(20," Reset Filter "),f.Tb(),f.Tb(),f.Tb(),f.Ub(21,"div",9),f.Ub(22,"table",10),f.Sb(23,11),f.Mc(24,C,2,0,"th",12),f.Mc(25,O,2,1,"td",13),f.Rb(),f.Sb(26,14),f.Mc(27,k,2,0,"th",12),f.Mc(28,I,2,0,"td",13),f.Rb(),f.Sb(29,15),f.Mc(30,D,2,0,"th",16),f.Mc(31,M,2,1,"td",13),f.Rb(),f.Sb(32,17),f.Mc(33,A,2,0,"th",12),f.Mc(34,F,3,4,"td",13),f.Rb(),f.Sb(35,18),f.Mc(36,R,2,0,"th",12),f.Mc(37,P,3,4,"td",13),f.Rb(),f.Sb(38,19),f.Mc(39,B,2,0,"th",16),f.Mc(40,x,6,0,"td",13),f.Rb(),f.Mc(41,q,1,0,"tr",20),f.Mc(42,z,1,0,"tr",21),f.Mc(43,j,3,0,"tr",22),f.Tb(),f.Ub(44,"mat-paginator",23),f.ec("page",function(t){return e.paginator(t)}),f.Tb(),f.Tb()),2&t&&(f.Bb(3),f.qc("formGroup",e.searchControl),f.Bb(3),f.qc("type",e.f.searchSelect.value===e.selectArr[2].value||e.f.searchSelect.value===e.selectArr[3].value?"date":"text"),f.Bb(7),f.qc("ngForOf",e.selectArr),f.Bb(1),f.qc("ngIf",e.f.searchSelect.hasError("required")),f.Bb(8),f.qc("dataSource",e.tempArray),f.Bb(19),f.qc("matHeaderRowDef",e.displayedColumns),f.Bb(1),f.qc("matRowDefColumns",e.displayedColumns),f.Bb(2),f.qc("pageSizeOptions",f.tc(9,_))("length",e.totalCount))},directives:[r.s,r.k,h.c,v.b,r.d,r.r,r.i,g.a,T.n,o.m,o.n,S.a,l.k,s.a,l.c,l.e,l.b,l.g,l.j,l.h,c.a,h.b,l.d,s.b,l.a,y.a,l.f,l.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),N)}],Q=((H=function e(){t(this,e)}).\u0275mod=f.Mb({type:H}),H.\u0275inj=f.Lb({factory:function(t){return new(t||H)},imports:[[p.j.forChild(L)],p.j]}),H),V=n("PCNd"),E=(($=function e(){t(this,e)}).\u0275mod=f.Mb({type:$}),$.\u0275inj=f.Lb({factory:function(t){return new(t||$)},imports:[[o.c,r.y,V.a,Q]]}),$)}}])}();