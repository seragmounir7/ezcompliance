(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2X0P":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var a=n("0IaG"),l=n("PSD3"),o=n.n(l),r=n("fXoL"),i=n("3Pt+"),s=n("wbBK"),d=n("ofXK"),c=n("kG/k");function m(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",18),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e._id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.title," ")}}let u=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this.fb=n,this.logicalFormInfoService=a,this.allState=[]}ngOnInit(){this.editSitesForm=this.fb.group({siteName:[this.data.siteName],streetNumber:[this.data.streetNumber],streetAddress:[this.data.streetAddress],suburb:[this.data.suburb],postcode:[this.data.postcode],stateId:[this.data.stateId._id]}),this.getAllStates()}onSubmit(){console.log(this.editSitesForm.value),this.logicalFormInfoService.updateSite(this.data._id,this.editSitesForm.value).subscribe(e=>{console.log(e),this.dialogRef.close("true"),o.a.fire({title:"Site Edited successfully",showConfirmButton:!1,timer:1200}),this.ngOnInit()})}close(){this.dialogRef.close()}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(e=>{console.log("getAllStates=>",e),this.allState=e.data})}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.f),r["\u0275\u0275directiveInject"](a.a),r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-edit-site"]],decls:38,vars:2,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],["type","text","formControlName","suburb","id","suburb",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col-3"],["numbersOnly","","type","text","id","postcode","formControlName","postcode",1,"form-control"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"section",0),r["\u0275\u0275elementStart"](1,"div"),r["\u0275\u0275elementStart"](2,"div",1),r["\u0275\u0275elementStart"](3,"h2"),r["\u0275\u0275text"](4,"Update Site Information"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"button",2),r["\u0275\u0275listener"]("click",function(){return t.close()}),r["\u0275\u0275elementStart"](6,"span",3),r["\u0275\u0275text"](7,"\xd7"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](8,"hr"),r["\u0275\u0275elementStart"](9,"div",4),r["\u0275\u0275elementStart"](10,"div",5),r["\u0275\u0275elementStart"](11,"p",6),r["\u0275\u0275text"](12," Site Name "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](13,"input",7),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](14,"div",4),r["\u0275\u0275elementStart"](15,"div",8),r["\u0275\u0275elementStart"](16,"p",6),r["\u0275\u0275text"](17," Street Address "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](18,"textarea",9),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](19,"div",8),r["\u0275\u0275elementStart"](20,"p",6),r["\u0275\u0275text"](21,"Suburb"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](22,"textarea",10),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](23,"div",8),r["\u0275\u0275elementStart"](24,"p",11),r["\u0275\u0275text"](25,"State"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](26,"select",12),r["\u0275\u0275elementStart"](27,"option",13),r["\u0275\u0275text"](28,"Select"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](29,m,2,2,"option",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](30,"div",15),r["\u0275\u0275elementStart"](31,"p",6),r["\u0275\u0275text"](32," Postal Code "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](33,"input",16),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](34,"hr"),r["\u0275\u0275elementStart"](35,"div"),r["\u0275\u0275elementStart"](36,"button",17),r["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),r["\u0275\u0275text"](37,"Update"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("formGroup",t.editSitesForm),r["\u0275\u0275advance"](29),r["\u0275\u0275property"]("ngForOf",t.allState))},directives:[i.s,i.k,a.g,i.d,i.r,i.i,i.A,i.v,i.D,d.m,c.a],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})()},"2xAX":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var a=n("3Pt+"),l=n("0IaG"),o=n("PSD3"),r=n.n(o),i=n("fXoL"),s=n("wbBK"),d=n("5eqV"),c=n("ofXK"),m=n("kG/k");function u(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"option",18),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275property"]("value",e._id),i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate1"](" ",e.title," ")}}let p=(()=>{class e{constructor(e,t,n,a){this.dialogRef=e,this.data=t,this.fb=n,this.logicalFormInfoService=a,this.allState=[]}ngOnInit(){this.getAllStates(),this.addSitesForm=this.fb.group({siteName:["",a.C.required],streetAddress:["",a.C.required],suburb:["",a.C.required],postcode:["",a.C.required],stateId:["",a.C.required]})}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(e=>{console.log("getAllStates=>",e),this.allState=e.data})}onSubmit(){console.log(this.addSitesForm.value),this.logicalFormInfoService.addSite(this.addSitesForm.value).subscribe(e=>{console.log(e),this.dialogRef.close("true"),r.a.fire({title:"Site Added successfully",showConfirmButton:!1,timer:1200})})}close(){this.dialogRef.close()}calcHeight(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](l.f),i["\u0275\u0275directiveInject"](l.a),i["\u0275\u0275directiveInject"](a.f),i["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-site"]],decls:38,vars:4,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row",3,"formGroup"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"row"],[1,"my-3","col-3"],["autosize","","type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],["autosize","","type","text","formControlName","suburb","id","suburb",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["numbersOnly","","type","text","id","postcode","formControlName","postcode",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"section",0),i["\u0275\u0275elementStart"](1,"div"),i["\u0275\u0275elementStart"](2,"div",1),i["\u0275\u0275elementStart"](3,"h2"),i["\u0275\u0275text"](4,"Add Site Information"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"button",2),i["\u0275\u0275listener"]("click",function(){return t.close()}),i["\u0275\u0275elementStart"](6,"span",3),i["\u0275\u0275text"](7,"\xd7"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](8,"hr"),i["\u0275\u0275elementStart"](9,"div",4),i["\u0275\u0275elementStart"](10,"div",5),i["\u0275\u0275elementStart"](11,"p",6),i["\u0275\u0275text"](12," Site Name "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](13,"input",7),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"div",8),i["\u0275\u0275elementStart"](15,"div",9),i["\u0275\u0275elementStart"](16,"p",6),i["\u0275\u0275text"](17," Street Address "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](18,"textarea",10),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](19,"div",9),i["\u0275\u0275elementStart"](20,"p",6),i["\u0275\u0275text"](21,"Suburb"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](22,"textarea",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](23,"div",9),i["\u0275\u0275elementStart"](24,"p",12),i["\u0275\u0275text"](25,"State"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](26,"select",13),i["\u0275\u0275elementStart"](27,"option",14),i["\u0275\u0275text"](28,"Select"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](29,u,2,2,"option",15),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](30,"div",9),i["\u0275\u0275elementStart"](31,"p",6),i["\u0275\u0275text"](32," PostCode "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](33,"input",16),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](34,"hr"),i["\u0275\u0275elementStart"](35,"div"),i["\u0275\u0275elementStart"](36,"button",17),i["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),i["\u0275\u0275text"](37," Add "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275property"]("formGroup",t.addSitesForm),i["\u0275\u0275advance"](9),i["\u0275\u0275property"]("formGroup",t.addSitesForm),i["\u0275\u0275advance"](20),i["\u0275\u0275property"]("ngForOf",t.allState),i["\u0275\u0275advance"](7),i["\u0275\u0275property"]("disabled",t.addSitesForm.invalid))},directives:[a.s,a.k,l.g,a.d,a.r,a.i,d.a,a.A,a.v,a.D,c.m,m.a],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})()},"3qhI":function(e,t,n){"use strict";n.r(t),n.d(t,"ConfiLogiModule",function(){return ut});var a=n("bTqV"),l=n("NFeN"),o=n("ofXK"),r=n("PCNd"),i=n("3Pt+"),s=n("PSD3"),d=n.n(s),c=n("0IaG"),m=n("+z1p"),u=n("fXoL"),p=n("wbBK"),f=n("5eqV"),h=n("zioG");function g(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1," Add High Risk Construction parameter "),u["\u0275\u0275elementEnd"]())}function b(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add PPE"),u["\u0275\u0275elementEnd"]())}function v(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Licence"),u["\u0275\u0275elementEnd"]())}function C(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Identify Hazards"),u["\u0275\u0275elementEnd"]())}function S(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Risk Level"),u["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Control Action Required"),u["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Residual Risk"),u["\u0275\u0275elementEnd"]())}function x(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Person Responsible"),u["\u0275\u0275elementEnd"]())}function y(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Code of Practice"),u["\u0275\u0275elementEnd"]())}function I(e,t){1&e&&u["\u0275\u0275element"](0,"textarea",8)}function A(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275element"](1,"ckeditor",9),u["\u0275\u0275text"](2,"` "),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("editor",e.Editor)}}let R=(()=>{class e{constructor(e,t,n,a){this.fb=e,this.logicalFormInfo=t,this.dialogRef=n,this.data=a,this.Editor=m,this.dataRec=a}ngOnInit(){console.log(this.dataRec),this.addItem=this.fb.group({title:["",i.C.required]})}onFormSubmit(){const e={title:this.addItem.get("title").value};switch(this.dataRec.type){case"highRisk":this.addHighRisk(e);break;case"ppe":this.addPPE(e);break;case"licence":this.addLicence(e);break;case"identifyHazards":this.addHazard(e);break;case"codeOfPract":this.addCOP(e);break;case"riskLevel":this.addRiskLevel(e);break;case"ctrlActreq":this.addControlActReq(e);break;case"resRiskLevel":this.addResidRiskLevel(e);break;case"perResbl":this.addStaff(e)}}closeDialog(){this.dialogRef.close("false")}addHighRisk(e){this.logicalFormInfo.addRisk(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("highRisk"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addPPE(e){this.logicalFormInfo.addPPE(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("ppe"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addRiskLevel(e){this.logicalFormInfo.addRiskLevel(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("riskLevel"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addResidRiskLevel(e){this.logicalFormInfo.addResidual(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("resRiskLevel"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addHazard(e){this.logicalFormInfo.addHazards(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("identifyHazards"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addLicence(e){this.logicalFormInfo.addLicence({title:e.title,tradeCategoryId:this.dataRec.tradeCategoryId}).subscribe(e=>{console.log("resData",e),this.dialogRef.close("licence"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addControlActReq(e){this.logicalFormInfo.addContrlActReq(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("ctrlActreq"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addStaff(e){this.logicalFormInfo.addStaff(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("perResbl"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addCOP(e){this.logicalFormInfo.addCode(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("codeOfPract"),d.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.f),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](c.f),u["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-item"]],decls:20,vars:13,consts:[[3,"formGroup"],[4,"ngIf"],["autosize","","class","form-control sign","placeholder","Enter your text......","formControlName","title",4,"ngIf"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"],["autosize","","placeholder","Enter your text......","formControlName","title",1,"form-control","sign"],["formControlName","title",3,"editor"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"form",0),u["\u0275\u0275template"](1,g,2,0,"h2",1),u["\u0275\u0275template"](2,b,2,0,"h2",1),u["\u0275\u0275template"](3,v,2,0,"h2",1),u["\u0275\u0275template"](4,C,2,0,"h2",1),u["\u0275\u0275template"](5,S,2,0,"h2",1),u["\u0275\u0275template"](6,k,2,0,"h2",1),u["\u0275\u0275template"](7,E,2,0,"h2",1),u["\u0275\u0275template"](8,x,2,0,"h2",1),u["\u0275\u0275template"](9,y,2,0,"h2",1),u["\u0275\u0275template"](10,I,1,0,"textarea",2),u["\u0275\u0275template"](11,A,3,1,"ng-container",1),u["\u0275\u0275element"](12,"br"),u["\u0275\u0275elementStart"](13,"div",3),u["\u0275\u0275elementStart"](14,"div",4),u["\u0275\u0275elementStart"](15,"button",5),u["\u0275\u0275listener"]("click",function(){return t.closeDialog()}),u["\u0275\u0275text"](16,"Close"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](17,"div",6),u["\u0275\u0275elementStart"](18,"button",7),u["\u0275\u0275listener"]("click",function(){return t.onFormSubmit()}),u["\u0275\u0275text"](19," Add "),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("formGroup",t.addItem),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","highRisk"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ppe"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","licence"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","identifyHazards"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","riskLevel"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ctrlActreq"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","resRiskLevel"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","perResbl"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","codeOfPract"===t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","identifyHazards"!==t.dataRec.type&&"ctrlActreq"!==t.dataRec.type),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf","ctrlActreq"===t.dataRec.type||"identifyHazards"===t.dataRec.type),u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("disabled",!t.addItem.valid))},directives:[i.E,i.s,i.k,o.n,a.a,i.d,f.a,i.r,i.i,h.a],styles:[""]}),e})();var w=n("tyNb"),T=n("kmnG"),D=n("d3UM"),P=n("FKr1"),O=n("Qu3c");function F(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"p",13),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](e);const n=t.index;return u["\u0275\u0275nextContext"]().handleClick(n)}),u["\u0275\u0275element"](1,"i",14),u["\u0275\u0275elementStart"](2,"span",15),u["\u0275\u0275text"](3),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=t.index,a=u["\u0275\u0275nextContext"]();u["\u0275\u0275classProp"]("active",a.stepperList[n].i),u["\u0275\u0275advance"](3),u["\u0275\u0275textInterpolate"](e.name)}}function N(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"span",21),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](e);const t=u["\u0275\u0275nextContext"]().$implicit;return u["\u0275\u0275nextContext"]().addItem(t.code)}),u["\u0275\u0275text"](1,"add_circle_outline"),u["\u0275\u0275elementEnd"]()}}function L(e,t){1&e&&u["\u0275\u0275elementContainer"](0)}const j=function(e){return{name:e}};function J(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",16),u["\u0275\u0275elementStart"](1,"h2",17),u["\u0275\u0275text"](2),u["\u0275\u0275template"](3,N,2,0,"span",18),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](4,"p",19),u["\u0275\u0275template"](5,L,1,0,"ng-container",20),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](6,"div"),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit,n=t.index,a=u["\u0275\u0275nextContext"](),l=u["\u0275\u0275reference"](15);u["\u0275\u0275classProp"]("active",a.stepperList[n].i)("show",a.stepperList[n].i),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",e.name,""),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.code),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngTemplateOutlet",l)("ngTemplateOutletContext",u["\u0275\u0275pureFunction1"](8,j,e.name))}}function z(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function _(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function q(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function H(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.title,"")}}function M(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",27),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label",30),u["\u0275\u0275text"](5,"HighRiskConstruction"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",31),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,z,1,0,"span",32),u["\u0275\u0275template"](9,_,2,0,"span",32),u["\u0275\u0275template"](10,q,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,H,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("highRiskConstr").value&&e.JobTaskDetail.get("highRiskConstr").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("highRiskConstr").value?null:e.JobTaskDetail.get("highRiskConstr").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("highRiskConstr").value?null:e.JobTaskDetail.get("highRiskConstr").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.highRiskConstructionData)}}function V(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function B(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function G(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function $(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("",e.title," ")}}function Q(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"PPE selection"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",37),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,V,1,0,"span",32),u["\u0275\u0275template"](9,B,2,0,"span",32),u["\u0275\u0275template"](10,G,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,$,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("PPE").value&&e.JobTaskDetail.get("PPE").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("PPE").value?null:e.JobTaskDetail.get("PPE").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("PPE").value?null:e.JobTaskDetail.get("PPE").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.PPESelectionData)}}function W(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function X(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function U(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function K(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("",e.title," ")}}function Y(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Licences"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",38),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,W,1,0,"span",32),u["\u0275\u0275template"](9,X,2,0,"span",32),u["\u0275\u0275template"](10,U,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,K,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("LicenceCat").value&&e.JobTaskDetail.get("LicenceCat").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("LicenceCat").value?null:e.JobTaskDetail.get("LicenceCat").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("LicenceCat").value?null:e.JobTaskDetail.get("LicenceCat").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.licenceByTradecat)}}function Z(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function ee(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function te(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function ne(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-option",41,42),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](e);const n=t.$implicit,a=u["\u0275\u0275reference"](1);return u["\u0275\u0275nextContext"](3).hazardsUpdateAll(a,n._id)}),u["\u0275\u0275element"](2,"span",43,44),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=u["\u0275\u0275reference"](3);u["\u0275\u0275property"]("value",e._id)("matTooltip",n.innerText),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("innerHTML",e.title,u["\u0275\u0275sanitizeHtml"]),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"](" ",n.innerText," ")}}function ae(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Identify Hazards"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",39),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,Z,1,0,"span",32),u["\u0275\u0275template"](9,ee,2,0,"span",32),u["\u0275\u0275template"](10,te,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,ne,5,4,"mat-option",40),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("identifyHazrds").value&&e.JobTaskDetail.get("identifyHazrds").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("identifyHazrds").value?null:e.JobTaskDetail.get("identifyHazrds").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("identifyHazrds").value?null:e.JobTaskDetail.get("identifyHazrds").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.allHazards)}}function le(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function oe(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Risk Level"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",45),u["\u0275\u0275template"](7,le,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngForOf",e.riskLevelData)}}function re(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function ie(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function se(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function de(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"mat-option",48,42),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](e);const n=t.$implicit,a=u["\u0275\u0275reference"](1);return u["\u0275\u0275nextContext"](3).contrActReqUpdateAll(a,n._id)}),u["\u0275\u0275text"](2),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](2),u["\u0275\u0275textInterpolate1"]("",e.title," ")}}function ce(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Control Action Required"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",46),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,re,1,0,"span",32),u["\u0275\u0275template"](9,ie,2,0,"span",32),u["\u0275\u0275template"](10,se,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,de,3,2,"mat-option",47),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("contrActReq").value&&e.JobTaskDetail.get("contrActReq").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("contrActReq").value?null:e.JobTaskDetail.get("contrActReq").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("contrActReq").value?null:e.JobTaskDetail.get("contrActReq").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.allContrlActReq)}}function me(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function ue(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function pe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function fe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("",e.title," ")}}function he(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Code of Practice"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",49),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,me,1,0,"span",32),u["\u0275\u0275template"](9,ue,2,0,"span",32),u["\u0275\u0275template"](10,pe,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,fe,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("codeOfPract").value&&e.JobTaskDetail.get("codeOfPract").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("codeOfPract").value?null:e.JobTaskDetail.get("codeOfPract").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("codeOfPract").value?null:e.JobTaskDetail.get("codeOfPract").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.allCodeOfPract)}}function ge(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function be(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",28),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Residule Risk Level"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",50),u["\u0275\u0275template"](7,ge,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngForOf",e.resiRiskLevelData)}}function ve(e,t){1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",36),u["\u0275\u0275elementStart"](2,"div",51),u["\u0275\u0275elementStart"](3,"div",52),u["\u0275\u0275element"](4,"input",53),u["\u0275\u0275elementStart"](5,"label",54),u["\u0275\u0275text"](6,"Yes"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](7,"div",52),u["\u0275\u0275element"](8,"input",55),u["\u0275\u0275elementStart"](9,"label",56),u["\u0275\u0275text"](10,"No"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]())}function Ce(e,t){1&e&&u["\u0275\u0275element"](0,"span",34)}function Se(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," One Item selected "),u["\u0275\u0275elementEnd"]())}function ke(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"span",34),u["\u0275\u0275text"](1," More than one selected "),u["\u0275\u0275elementEnd"]())}function Ee(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"mat-option",35),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"]("",e.title," ")}}function xe(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",63),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"](3).setRelation()}),u["\u0275\u0275text"](1," Set "),u["\u0275\u0275elementEnd"]()}}function ye(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",63),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"](3).setRelation()}),u["\u0275\u0275text"](1," Update "),u["\u0275\u0275elementEnd"]()}}function Ie(e,t){if(1&e&&(u["\u0275\u0275elementContainerStart"](0),u["\u0275\u0275elementStart"](1,"div",57),u["\u0275\u0275elementStart"](2,"div",58),u["\u0275\u0275elementStart"](3,"mat-form-field",29),u["\u0275\u0275elementStart"](4,"mat-label"),u["\u0275\u0275text"](5,"Person Responsible"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](6,"mat-select",59),u["\u0275\u0275elementStart"](7,"mat-select-trigger"),u["\u0275\u0275template"](8,Ce,1,0,"span",32),u["\u0275\u0275template"](9,Se,2,0,"span",32),u["\u0275\u0275template"](10,ke,2,0,"span",32),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](11,Ee,2,2,"mat-option",33),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](12,"div",60),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"div",61),u["\u0275\u0275template"](14,xe,2,0,"button",62),u["\u0275\u0275template"](15,ye,2,0,"button",62),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementContainerEnd"]()),2&e){const e=u["\u0275\u0275nextContext"](2);u["\u0275\u0275advance"](8),u["\u0275\u0275property"]("ngIf",!(null!=e.JobTaskDetail.get("personResp").value&&e.JobTaskDetail.get("personResp").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",1==(null==e.JobTaskDetail.get("personResp").value?null:e.JobTaskDetail.get("personResp").value.length)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",(null==e.JobTaskDetail.get("personResp").value?null:e.JobTaskDetail.get("personResp").value.length)>1),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngForOf",e.staff),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngIf",!(null!=e.jobTask&&e.jobTask.set)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==e.jobTask?null:e.jobTask.set)}}function Ae(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275template"](0,M,12,4,"ng-container",22),u["\u0275\u0275template"](1,Q,12,4,"ng-container",22),u["\u0275\u0275template"](2,Y,12,4,"ng-container",22),u["\u0275\u0275template"](3,ae,12,4,"ng-container",22),u["\u0275\u0275template"](4,oe,8,1,"ng-container",22),u["\u0275\u0275template"](5,ce,12,4,"ng-container",22),u["\u0275\u0275template"](6,he,12,4,"ng-container",22),u["\u0275\u0275template"](7,be,8,1,"ng-container",22),u["\u0275\u0275template"](8,ve,11,0,"ng-container",22),u["\u0275\u0275template"](9,Ie,16,6,"ng-container",22),u["\u0275\u0275elementStart"](10,"div",23),u["\u0275\u0275elementStart"](11,"button",24),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().prev()}),u["\u0275\u0275element"](12,"i",25),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](13,"button",24),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().next()}),u["\u0275\u0275element"](14,"i",26),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.name;u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="HighRisk Construction".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="PPE".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Licence".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Identify Hazards".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Risk Level".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Control Action Required".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Code of Practice".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Residule Risk Level".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Chemical related Task".toLowerCase()),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.toLowerCase()=="Person Responsible".toLowerCase())}}const Re=function(){return["/admin/confiLogi/setLogic"]};let we=(()=>{class e{constructor(e,t,n,a,l){this.route=e,this.dialog=t,this.router=n,this.fb=a,this.logicalFormInfo=l,this.jobTask=null,this.highRiskConstructionData=[],this.PPESelectionData=[],this.licenseAndQual=[],this.allHazards=[],this.sendHazards=[],this.hazardInnerText=[],this.allContrlActReq=[],this.sendContrlActReq=[],this.licenceByTradecat=[],this.resiRiskLevelData=[],this.riskLevelData=[],this.staff=[],this.allCodeOfPract=[],this.isLinear=!1,this.jobTaskId=null,this.stepperList=[{name:"HighRisk Construction",i:1,code:"highRisk"},{name:"PPE",i:0,code:"ppe"},{name:"Licence",i:0,code:"licence"},{name:"Identify Hazards",i:0,code:"identifyHazards"},{name:"Risk Level",i:0,code:"riskLevel"},{name:"Control Action Required",i:0,code:"ctrlActreq"},{name:"Code of Practice",i:0,code:"codeOfPract"},{name:"Residule Risk Level",i:0,code:"resRiskLevel"},{name:"Chemical related Task",i:0,code:""},{name:"Person Responsible",i:0,code:"perResbl"}],this.count=0}ngOnInit(){this.JobTaskDetail=this.fb.group({highRiskConstr:[],PPE:[],codeOfPract:[],LicenceCat:[],identifyHazrds:[],contrActReq:[],riskLevel:[],residualRiskL:[],personResp:[],chemical:[]}),this.route.queryParams.subscribe(e=>{console.log(e),this.jobTaskId=e.id,this.logicalFormInfo.getJobtaskById(e.id).subscribe(e=>{var t;this.jobTask=e.data,console.log("this.jobTask ",this.jobTask),this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),1==this.jobTask.set&&this.JobTaskDetail.patchValue({highRiskConstr:this.jobTask.risk,PPE:this.jobTask.PPE,codeOfPract:this.jobTask.codeOfPractice,LicenceCat:this.jobTask.licence,identifyHazrds:this.jobTask.identifyHazard,contrActReq:this.jobTask.controlActionRequired,riskLevel:this.jobTask.riskLevel,residualRiskL:this.jobTask.residualRisk,personResp:this.jobTask.staff,chemical:this.jobTask.chemical}),"YES"===(null===(t=this.jobTask)||void 0===t?void 0:t.chemical)?this.JobTaskDetail.get("chemical").setValue("YES"):this.JobTaskDetail.get("chemical").setValue("NO")})}),this.getAllHighRisk(),this.getAllPPE(),this.getAllHazard(),this.getAllContrActReq(),this.getAllStaff(),this.getAllResidualRiskLevel(),this.getAllRiskLevel(),this.getAllCodeOfPractice()}getAllResidualRiskLevel(){this.logicalFormInfo.getAllResidual().subscribe(e=>{this.resiRiskLevelData=e.data})}getAllRiskLevel(){this.logicalFormInfo.getAllRiskLevel().subscribe(e=>{this.riskLevelData=e.data})}getAllStaff(){this.logicalFormInfo.getAllStaff().subscribe(e=>{console.log(e),this.staff=e.data})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(e=>{this.highRiskConstructionData=e.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(e=>{this.PPESelectionData=e.data})}getAllCodeOfPractice(){this.logicalFormInfo.getAllCOP().subscribe(e=>{this.allCodeOfPract=e.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(e=>{this.allHazards=e.data.filter(e=>e.jobTaskId===this.jobTaskId||!e.jobTaskId),this.sendHazards=this.allHazards})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(e=>{this.allContrlActReq=e.data.filter(e=>e.jobTaskId===this.jobTaskId||!e.jobTaskId),this.sendContrlActReq=this.allContrlActReq,console.log("this.allContrlActReq =>> ",this.allContrlActReq)})}getLicenceByTradeCat(e){console.log("getLicenceByTradeCat",e),this.logicalFormInfo.getLicenceByTradeCat(e).subscribe(e=>{this.licenceByTradecat=e.data.licenceData})}setRelation(){console.log(this.JobTaskDetail.value);const e=[],t=this.JobTaskDetail.get("contrActReq").value;null!=t&&this.allContrlActReq.forEach(n=>{t.forEach(t=>{n._id===t&&e.push({title:n.title,id:n._id})})});const n=[],a=this.JobTaskDetail.get("identifyHazrds").value;null!=a&&this.allHazards.forEach(e=>{a.forEach(t=>{e._id===t&&n.push({title:e.title,id:e._id})})});const l=[],o=this.JobTaskDetail.get("codeOfPract").value;null!=o&&this.allCodeOfPract.forEach(e=>{o.forEach(t=>{e._id===t&&l.push({title:e.title,id:e._id})})});const r=[],i=this.JobTaskDetail.get("personResp").value;null!=i&&(console.log(i),this.staff.forEach(e=>{i.forEach(t=>{e._id===t&&r.push({title:e.title,id:e._id})})}));const s={title:this.jobTask.title,risk:this.JobTaskDetail.get("highRiskConstr").value||[],codeOfPractice:this.JobTaskDetail.get("codeOfPract").value||[],PPE:this.JobTaskDetail.get("PPE").value||[],tradeCategoryId:this.jobTask.tradeCategoryId,licence:this.JobTaskDetail.get("LicenceCat").value||[],identifyHazard:this.JobTaskDetail.get("identifyHazrds").value||[],controlActionRequired:this.JobTaskDetail.get("contrActReq").value||[],riskLevel:this.JobTaskDetail.get("riskLevel").value,residualRisk:this.JobTaskDetail.get("residualRiskL").value,staff:this.JobTaskDetail.get("personResp").value,chemical:this.JobTaskDetail.get("chemical").value,allHazardsTitle:n,allContrlActReqTitle:e,allCOPTitle:l,staffTitle:r,set:!0};console.log("send data",s),this.logicalFormInfo.updateJobTask(s,this.jobTaskId).subscribe(e=>{this.logicalFormInfo.updateAllContrlActReq(this.sendContrlActReq,this.jobTaskId).subscribe(e=>console.log(e)),this.logicalFormInfo.updateAllHazards(this.sendHazards,this.jobTaskId).subscribe(e=>console.log(e)),console.log("resJob Task=>",e),d.a.fire({title:"Relation set successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/confiLogi/setLogic"])})}addItem(e){let t={type:e,tradeCategoryId:this.jobTask.tradeCategoryId};t="licence"===e?{type:e,tradeCategoryId:this.jobTask.tradeCategoryId}:{type:e,tradeCategoryId:""},this.dialog.open(R,{width:"550px",data:t}).afterClosed().subscribe(e=>{switch(e){case"highRisk":{const e=this.JobTaskDetail.get("highRiskConstr").value;this.getAllHighRisk(),this.JobTaskDetail.get("highRiskConstr").patchValue(e);break}case"ppe":{const e=this.JobTaskDetail.get("PPE").value;this.getAllPPE(),this.JobTaskDetail.get("PPE").patchValue(e);break}case"codeOfPract":{const e=this.JobTaskDetail.get("codeOfPract").value;this.getAllCodeOfPractice(),this.JobTaskDetail.get("codeOfPract").patchValue(e);break}case"licence":{const e=this.JobTaskDetail.get("LicenceCat").value;this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),this.JobTaskDetail.get("LicenceCat").patchValue(e);break}case"identifyHazards":{const e=this.JobTaskDetail.get("identifyHazrds").value;this.getAllHazard(),this.JobTaskDetail.get("identifyHazrds").patchValue(e);break}case"riskLevel":{const e=this.JobTaskDetail.get("riskLevel").value;this.getAllRiskLevel(),this.JobTaskDetail.get("riskLevel").patchValue(e);break}case"ctrlActreq":{const e=this.JobTaskDetail.get("contrActReq").value;this.getAllContrActReq(),this.JobTaskDetail.get("contrActReq").patchValue(e);break}case"resRiskLevel":{const e=this.JobTaskDetail.get("residualRiskL").value;this.getAllResidualRiskLevel(),this.JobTaskDetail.get("residualRiskL").patchValue(e);break}case"perResbl":{const e=this.JobTaskDetail.get("personResp").value;this.getAllStaff(),this.JobTaskDetail.get("personResp").patchValue(e);break}}console.log("The dialog was closed")})}prev(){this.count!=this.stepperList.length+1&&0!=this.count&&(this.count--,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1)}next(){this.count!=this.stepperList.length-1&&(this.count++,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1)}handleClick(e){console.log(e),this.count=e,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1}contrActReqUpdateAll(e,t){console.log(e,t),this.sendContrlActReq=this.allContrlActReq.slice().map(t=>(e.value==t._id&&(t.jobTaskId=e.selected?this.jobTaskId:""),{_id:t._id,jobTaskId:null==t?void 0:t.jobTaskId})),console.table(this.sendContrlActReq)}hazardsUpdateAll(e,t){console.log(e,t),this.sendHazards=this.allHazards.slice().map(t=>(e.value==t._id&&(t.jobTaskId=e.selected?this.jobTaskId:""),{_id:t._id,jobTaskId:t.jobTaskId})),console.table(this.sendHazards)}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](w.a),u["\u0275\u0275directiveInject"](c.b),u["\u0275\u0275directiveInject"](w.f),u["\u0275\u0275directiveInject"](i.f),u["\u0275\u0275directiveInject"](p.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-set-relation"]],decls:16,vars:6,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,""],[1,"row"],[1,"col-md-3"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","nav-pills-custom"],["class","nav-link mb-3 p-3 shadow","id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-9"],["id","v-pills-tabContent",1,"tab-content"],["class","tab-pane fade shadow rounded bg-white p-5","id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",3,"active","show",4,"ngFor","ngForOf"],["let","","class","my-auto",3,"formGroup"],["test",""],["id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-link","mb-3","p-3","shadow",3,"click"],[1,"fa","fa-user-circle-o","mr-2"],[1,"font-weight-bold","small","text-uppercase"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","shadow","rounded","bg-white","p-5"],[1,"font-italic","mb-4"],["class","material-icons ml-3 my-auto p-0",3,"click",4,"ngIf"],[1,"font-italic","text-muted","mb-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"material-icons","ml-3","my-auto","p-0",3,"click"],[4,"ngIf"],[1,"buttons"],["mat-icon-button","",3,"click"],[1,"fas","fa-arrow-left",2,"font-size","25px"],[1,"fas","fa-arrow-right",2,"font-size","25px"],[1,"row","justify-content-center",2,"margin-top","auto"],[1,"col-7"],["appearance","fill",1,"container"],[1,"text-center"],["formControlName","highRiskConstr","multiple",""],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"example-additional-selection"],[3,"value"],[1,"row","justify-content-center"],["formControlName","PPE","multiple",""],["formControlName","LicenceCat","multiple",""],["formControlName","identifyHazrds","multiple",""],[3,"value","matTooltip","click",4,"ngFor","ngForOf"],[3,"value","matTooltip","click"],["matOption",""],[2,"display","none",3,"innerHTML"],["span",""],["formControlName","riskLevel"],["formControlName","contrActReq","multiple",""],[3,"value","click",4,"ngFor","ngForOf"],[3,"value","click"],["formControlName","codeOfPract","multiple",""],["formControlName","residualRiskL"],[1,"col-7","text-center"],[1,"form-check","form-check-inline"],["type","radio","value","YES","formControlName","chemical",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","value","NO","formControlName","chemical",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"row","justify-content-center","mt-3"],[1,"col-6"],["formControlName","personResp","multiple",""],[1,"col-1","my-auto"],[1,"text-center","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275element"](1,"i",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"section",3),u["\u0275\u0275elementStart"](6,"div",3),u["\u0275\u0275elementStart"](7,"div",4),u["\u0275\u0275elementStart"](8,"div",5),u["\u0275\u0275elementStart"](9,"div",6),u["\u0275\u0275template"](10,F,4,3,"p",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",8),u["\u0275\u0275elementStart"](12,"div",9),u["\u0275\u0275template"](13,J,7,10,"div",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](14,Ae,15,10,"ng-template",11,12,u["\u0275\u0275templateRefExtractor"])),2&e&&(u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction0"](5,Re)),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("Job Task :\xa0",null==t.jobTask?null:t.jobTask.title,""),u["\u0275\u0275advance"](6),u["\u0275\u0275property"]("ngForOf",t.stepperList),u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("ngForOf",t.stepperList),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("formGroup",t.JobTaskDetail))},directives:[w.g,o.m,i.s,i.k,o.n,o.s,a.a,T.c,T.f,D.a,i.r,i.i,D.c,P.n,O.a,i.x,i.d],styles:['@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css";@import "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#aaa;background:#fff;position:relative}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#45b649;background:#fff}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}@media (min-width:992px){.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";display:block;border-top:8px solid transparent;border-left:10px solid #fff;border-bottom:8px solid transparent;position:absolute;top:50%;right:-10px;transform:translateY(-50%);opacity:0}}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{opacity:1}body[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(270deg,#dce35b,#45b649)}']}),e})();var Te=n("zQXG"),De=n("bu9C");let Pe=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-confi-logi"]],decls:1,vars:0,template:function(e,t){1&e&&u["\u0275\u0275element"](0,"router-outlet")},directives:[w.k],styles:[""]}),e})();function Oe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Add Job Task"),u["\u0275\u0275elementEnd"]())}function Fe(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2"),u["\u0275\u0275text"](1,"Edit Job Task"),u["\u0275\u0275elementEnd"]())}function Ne(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",14),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function Le(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",8),u["\u0275\u0275elementStart"](1,"div",9),u["\u0275\u0275element"](2,"input",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"div",9),u["\u0275\u0275elementStart"](4,"select",11),u["\u0275\u0275elementStart"](5,"option",12),u["\u0275\u0275text"](6,"Select category"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,Ne,2,2,"option",13),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("formGroup",e.addjob),u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngForOf",e.licenceCatAll)}}function je(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",14),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e._id),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function Je(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"div",8),u["\u0275\u0275elementStart"](1,"div",9),u["\u0275\u0275element"](2,"input",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](3,"div",9),u["\u0275\u0275elementStart"](4,"select",11),u["\u0275\u0275elementStart"](5,"option",12),u["\u0275\u0275text"](6,"Select category"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](7,je,2,2,"option",13),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("formGroup",e.jobTaskDetails),u["\u0275\u0275advance"](7),u["\u0275\u0275property"]("ngForOf",e.licenceCatAll)}}function ze(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",15),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().onFormSubmit()}),u["\u0275\u0275text"](1," Update "),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("disabled",!e.jobTaskDetails.valid)}}function _e(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",15),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().addForm()}),u["\u0275\u0275text"](1," Add "),u["\u0275\u0275elementEnd"]()}if(2&e){const e=u["\u0275\u0275nextContext"]();u["\u0275\u0275property"]("disabled",!e.addjob.valid)}}let qe=(()=>{class e{constructor(e,t,n,a,l){this.fb=e,this.router=t,this.logicalFormInfo=n,this.dialogRef=a,this.data=l,this.Edit=!1,this.Add=!0,this.licenceCatAll=[],this.dataRec=l,console.log("datarec",this.dataRec),this.addjob=this.fb.group({title:["",i.C.required],tradeCategory:["",i.C.required]})}ngOnInit(){this.getAllCategories(),""!=this.Id?this.Eddit():this.Added()}Added(){1==this.Edit?(this.Edit=!1,this.Add=!0,this.addjob=this.fb.group({title:["",i.C.required],tradeCategory:["",i.C.required]})):this.Add=!0}Eddit(){1==this.Add?(this.Add=!1,this.Edit=!0,this.jobTaskDetails=this.fb.group({title:[this.dataRec.title,i.C.required],tradeCategoryId:[this.dataRec.tradeCategoryId._id,i.C.required]})):this.Edit=!0}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(e=>{console.log("getAllLicenceCat=>",e),this.licenceCatAll=e.data})}onFormSubmit(){console.log(this.jobTaskDetails.get("title").value);const e={title:this.jobTaskDetails.get("title").value,tradeCategoryId:this.jobTaskDetails.get("tradeCategoryId").value};console.log("edit",e),this.logicalFormInfo.updateJobTask(e,this.dataRec._id).subscribe(e=>{console.log("JOBTask=>",e),this.dialogRef.close("true"),d.a.fire({title:"JobTask Updated successfully",showConfirmButton:!1,timer:1200})},e=>{console.error(e)})}addForm(){console.log("addForm",this.addjob.value),this.logicalFormInfo.addJobTask(this.addjob.value).subscribe(e=>{console.log("JOBTask=>",e),this.dialogRef.close("true"),d.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200})},e=>{console.error(e)})}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.f),u["\u0275\u0275directiveInject"](w.f),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](c.f),u["\u0275\u0275directiveInject"](c.a))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-job-task"]],decls:15,vars:6,consts:[[1,"container","px-4","py-4","bg-white"],["mat-dialog-title","",1,"dialog-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],["class","row",3,"formGroup",4,"ngIf"],[1,"col-md-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-6"],["type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275elementStart"](1,"div",1),u["\u0275\u0275template"](2,Oe,2,0,"h2",2),u["\u0275\u0275template"](3,Fe,2,0,"h2",2),u["\u0275\u0275elementStart"](4,"button",3),u["\u0275\u0275listener"]("click",function(){return t.close()}),u["\u0275\u0275elementStart"](5,"span",4),u["\u0275\u0275text"](6,"\xd7"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](7,"br"),u["\u0275\u0275template"](8,Le,8,2,"div",5),u["\u0275\u0275template"](9,Je,8,2,"div",5),u["\u0275\u0275element"](10,"br"),u["\u0275\u0275element"](11,"hr"),u["\u0275\u0275elementStart"](12,"div",6),u["\u0275\u0275template"](13,ze,2,1,"button",7),u["\u0275\u0275template"](14,_e,2,1,"button",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",!t.dataRec),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.dataRec),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngIf",t.Add),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.Edit),u["\u0275\u0275advance"](4),u["\u0275\u0275property"]("ngIf",t.Edit),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",t.Add))},directives:[c.g,o.n,i.s,i.k,i.d,i.r,i.i,i.A,i.v,i.D,o.m,a.a],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})();var He=n("M9IT"),Me=n("+0xr"),Ve=n("Dh3D"),Be=n("yZxC");const Ge=["risk"];function $e(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",14),u["\u0275\u0275text"](1,"No."),u["\u0275\u0275elementEnd"]())}function Qe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td",15),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](e.index)}}function We(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",14),u["\u0275\u0275text"](1,"Title"),u["\u0275\u0275elementEnd"]())}function Xe(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"td",15),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate"](e.title)}}function Ue(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"th",16),u["\u0275\u0275text"](1,"Set"),u["\u0275\u0275elementEnd"]())}function Ke(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",19),u["\u0275\u0275text"](1," Set "),u["\u0275\u0275elementEnd"]())}function Ye(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"button",19),u["\u0275\u0275text"](1," Update "),u["\u0275\u0275elementEnd"]())}function Ze(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"td",17),u["\u0275\u0275listener"]("click",function(){u["\u0275\u0275restoreView"](e);const n=t.$implicit;return u["\u0275\u0275nextContext"]().setRelation_2(n._id)}),u["\u0275\u0275template"](1,Ke,2,0,"button",18),u["\u0275\u0275template"](2,Ye,2,0,"button",18),u["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",!e.set),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",e.set)}}function et(e,t){1&e&&u["\u0275\u0275element"](0,"tr",20)}function tt(e,t){1&e&&u["\u0275\u0275element"](0,"tr",21)}function nt(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"tr",22),u["\u0275\u0275elementStart"](1,"td",23),u["\u0275\u0275text"](2,"Data Not Found"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]())}const at=function(){return[20]};function lt(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",11),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e.value),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function ot(e,t){if(1&e&&(u["\u0275\u0275elementStart"](0,"option",11),u["\u0275\u0275text"](1),u["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;u["\u0275\u0275property"]("value",e.value),u["\u0275\u0275advance"](1),u["\u0275\u0275textInterpolate1"](" ",e.name," ")}}function rt(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",12),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().setRelation()}),u["\u0275\u0275text"](1," Set "),u["\u0275\u0275elementEnd"]()}}function it(e,t){if(1&e){const e=u["\u0275\u0275getCurrentView"]();u["\u0275\u0275elementStart"](0,"button",12),u["\u0275\u0275listener"]("click",function(){return u["\u0275\u0275restoreView"](e),u["\u0275\u0275nextContext"]().setRelation()}),u["\u0275\u0275text"](1," Update "),u["\u0275\u0275elementEnd"]()}}const st=function(){return["/admin/confiLogi/setHazard"]},dt=[{path:"",component:Pe},{path:"setLogic",component:De.a},{path:"setJobNumber",component:Te.a},{path:"setRelation",component:we},{path:"addTask",component:qe},{path:"setHazard",component:(()=>{class e{constructor(e,t,n,a){this.fb=e,this.logicalFormInfo=t,this.setTitle=n,this.router=a,this.hazardData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new Me.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set Hazard Relation"),this.getAllHazardTreatmentRelation()}onFormSubmit(){console.log(this.setStatesDetail)}getAllHazardTreatmentRelation(){this.logicalFormInfo.getAllHazardTreatmentRelation().subscribe(e=>{console.log("getAllHazardTreatmentRelation=>",e),this.hazardData=e.data,this.hazardData.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=this.hazardData,this.dataSource=new Me.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}setRelation_2(e){this.router.navigate(["/admin/confiLogi/setHazardRelation"],{queryParams:{id:e}})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](i.f),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](Be.a),u["\u0275\u0275directiveInject"](w.f))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-hazard-treatment"]],viewQuery:function(e,t){if(1&e&&(u["\u0275\u0275viewQuery"](He.a,!0),u["\u0275\u0275viewQuery"](Ve.a,!0),u["\u0275\u0275viewQuery"](Ge,!0)),2&e){let e;u["\u0275\u0275queryRefresh"](e=u["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),u["\u0275\u0275queryRefresh"](e=u["\u0275\u0275loadQuery"]())&&(t.sort=e.first),u["\u0275\u0275queryRefresh"](e=u["\u0275\u0275loadQuery"]())&&(t.Risk=e)}},decls:17,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-stroked-button","","color","primary","class","myBtn",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"h2",0),u["\u0275\u0275text"](1,"Set Hazard's Relation"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"div",1),u["\u0275\u0275elementStart"](3,"table",2),u["\u0275\u0275elementContainerStart"](4,3),u["\u0275\u0275template"](5,$e,2,0,"th",4),u["\u0275\u0275template"](6,Qe,2,1,"td",5),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](7,6),u["\u0275\u0275template"](8,We,2,0,"th",4),u["\u0275\u0275template"](9,Xe,2,1,"td",5),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275elementContainerStart"](10,7),u["\u0275\u0275template"](11,Ue,2,0,"th",8),u["\u0275\u0275template"](12,Ze,3,2,"td",9),u["\u0275\u0275elementContainerEnd"](),u["\u0275\u0275template"](13,et,1,0,"tr",10),u["\u0275\u0275template"](14,tt,1,0,"tr",11),u["\u0275\u0275template"](15,nt,3,0,"tr",12),u["\u0275\u0275elementEnd"](),u["\u0275\u0275element"](16,"mat-paginator",13),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275advance"](3),u["\u0275\u0275property"]("dataSource",t.dataSource),u["\u0275\u0275advance"](10),u["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("pageSizeOptions",u["\u0275\u0275pureFunction0"](4,at)))},directives:[Me.k,Ve.a,Me.c,Me.e,Me.b,Me.g,Me.j,Me.h,He.a,Me.d,Ve.b,Me.a,o.n,a.a,Me.f,Me.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),e})()},{path:"setHazardRelation",component:(()=>{class e{constructor(e,t,n,a){this.route=e,this.fb=t,this.logicalFormInfo=n,this.router=a,this.hazard=null,this.hazardId=null,this.isLinear=!1,this.Consequences=[{name:"1-Insignificant",value:1},{name:"2-Moderate",value:2},{name:"4-Minor",value:4},{name:"3-Major",value:3},{name:"5-Catastrophic",value:5}],this.Likelihood=[{name:"1-Insignificant",value:1},{name:"3-Moderate",value:3},{name:"2-Minor",value:2},{name:"4-Major",value:4},{name:"5-Catastrophic",value:5}],this.RiskRating=[{name:"Low",value:"low"},{name:"Medium",value:"medium"},{name:"High",value:"high"}],this.ActionRequired=[{name:"Immediately",value:"immediately"},{name:"Today",value:"today"},{name:"This week",value:"thisWeek"},{name:"This Month",value:"thisMonth"}]}ngOnInit(){this.setHazard=this.fb.group({riskRating:["",i.C.required],actionRequired:["",i.C.required]}),this.route.queryParams.subscribe(e=>{console.log(e),this.hazardId=e.id,this.logicalFormInfo.getHazardTreatmentById(this.hazardId).subscribe(e=>{console.log("getHazardTreatmentById=>",e),this.hazard=e.data,console.log("hazard",this.hazard),1==this.hazard.set&&this.setHazard.patchValue({riskRating:this.hazard.riskRating,actionRequired:this.hazard.actionRequired})})})}setRelation(){console.log(this.setHazard.value);const e={set:!0,title:this.hazard.title,riskRating:this.setHazard.get("riskRating").value,actionRequired:this.setHazard.get("actionRequired").value};console.log("data=>",e),console.log("hazardId=>",this.hazardId),this.logicalFormInfo.updateHazardTreatmentRelation(this.hazardId,e).subscribe(e=>{console.log("updateStates=>",e),d.a.fire({title:"Updated successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/confiLogi/setHazard"])})}}return e.\u0275fac=function(t){return new(t||e)(u["\u0275\u0275directiveInject"](w.a),u["\u0275\u0275directiveInject"](i.f),u["\u0275\u0275directiveInject"](p.a),u["\u0275\u0275directiveInject"](w.f))},e.\u0275cmp=u["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-hazard-relation"]],decls:19,vars:8,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,"row",3,"formGroup"],[1,"col-6"],["aria-label","Default select example","formControlName","riskRating",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","actionRequired",1,"form-select","form-control"],[1,"ml-3","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(u["\u0275\u0275elementStart"](0,"div",0),u["\u0275\u0275element"](1,"i",1),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](2,"div",2),u["\u0275\u0275elementStart"](3,"h2"),u["\u0275\u0275text"](4),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](5,"div",3),u["\u0275\u0275elementStart"](6,"div",4),u["\u0275\u0275elementStart"](7,"select",5),u["\u0275\u0275elementStart"](8,"option",6),u["\u0275\u0275text"](9,"Select Rating"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](10,lt,2,2,"option",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](11,"div",4),u["\u0275\u0275elementStart"](12,"select",8),u["\u0275\u0275elementStart"](13,"option",6),u["\u0275\u0275text"](14,"Action Required"),u["\u0275\u0275elementEnd"](),u["\u0275\u0275template"](15,ot,2,2,"option",7),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementStart"](16,"div",9),u["\u0275\u0275template"](17,rt,2,0,"button",10),u["\u0275\u0275template"](18,it,2,0,"button",10),u["\u0275\u0275elementEnd"](),u["\u0275\u0275elementEnd"]()),2&e&&(u["\u0275\u0275property"]("routerLink",u["\u0275\u0275pureFunction0"](7,st)),u["\u0275\u0275advance"](4),u["\u0275\u0275textInterpolate1"]("Hazrad Treatment Relation :\xa0",null==t.hazard?null:t.hazard.title,""),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("formGroup",t.setHazard),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",t.RiskRating),u["\u0275\u0275advance"](5),u["\u0275\u0275property"]("ngForOf",t.ActionRequired),u["\u0275\u0275advance"](2),u["\u0275\u0275property"]("ngIf",!(null!=t.hazard&&t.hazard.set)),u["\u0275\u0275advance"](1),u["\u0275\u0275property"]("ngIf",null==t.hazard?null:t.hazard.set))},directives:[w.g,i.s,i.k,i.A,i.r,i.i,i.v,i.D,o.m,o.n],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),e})()}];let ct=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[w.j.forChild(dt)],w.j]}),e})();var mt=n("xHqg");let ut=(()=>{class e{}return e.\u0275mod=u["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=u["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[o.c,ct,r.a,i.m,i.y,mt.d,l.b,a.b,f.b,h.b],o.c,ct,r.a,i.m,i.y,mt.d,l.b,a.b,f.b,h.b]}),e})()},Sgjq:function(e,t,n){"use strict";n.d(t,"a",function(){return h});var a=n("3Pt+"),l=n("fXoL"),o=n("wbBK"),r=n("tyNb"),i=n("0IaG"),s=n("ofXK"),d=n("5eqV"),c=n("kG/k");const m=function(){return["/admin/setting/addCustomer"]};function u(e,t){1&e&&(l["\u0275\u0275elementStart"](0,"div",18),l["\u0275\u0275element"](1,"i",19),l["\u0275\u0275elementEnd"]()),2&e&&l["\u0275\u0275property"]("routerLink",l["\u0275\u0275pureFunction0"](1,m))}function p(e,t){if(1&e&&(l["\u0275\u0275elementStart"](0,"option",20),l["\u0275\u0275text"](1),l["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;l["\u0275\u0275property"]("value",e._id),l["\u0275\u0275advance"](1),l["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function f(e,t){if(1&e){const e=l["\u0275\u0275getCurrentView"]();l["\u0275\u0275elementContainerStart"](0,21),l["\u0275\u0275elementStart"](1,"div"),l["\u0275\u0275elementStart"](2,"h1"),l["\u0275\u0275text"](3),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](4,"div",3),l["\u0275\u0275elementStart"](5,"div",22),l["\u0275\u0275elementStart"](6,"p",5),l["\u0275\u0275text"](7," Position "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](8,"input",23),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](9,"div",22),l["\u0275\u0275elementStart"](10,"p",5),l["\u0275\u0275text"](11," Email "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](12,"input",24),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](13,"div",22),l["\u0275\u0275elementStart"](14,"p",5),l["\u0275\u0275text"](15," Phone Number "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](16,"input",25),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](17,"div",26),l["\u0275\u0275elementStart"](18,"span",27),l["\u0275\u0275listener"]("click",function(){return l["\u0275\u0275restoreView"](e),l["\u0275\u0275nextContext"]().addCustomerDetails()}),l["\u0275\u0275text"](19,"add_circle_outline "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](20,"div",26),l["\u0275\u0275elementStart"](21,"span",27),l["\u0275\u0275listener"]("click",function(){l["\u0275\u0275restoreView"](e);const n=t.index;return l["\u0275\u0275nextContext"]().removeCustomerDetails(n)}),l["\u0275\u0275text"](22," remove_circle_outline "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](23,"hr"),l["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.index;l["\u0275\u0275property"]("formGroupName",e),l["\u0275\u0275advance"](3),l["\u0275\u0275textInterpolate1"]("Contact ",e+1,"")}}let h=(()=>{class e{constructor(e,t,n,a){this.fb=e,this.logicalFormInfoService=t,this.router=n,this.dialogRef=a,this.StatesData=[""]}ngOnInit(){this.addCustomerForm=this.fb.group({customerName:["",a.C.required],customerContact:["",a.C.required],streetAddress:["",a.C.required],stateId:["",a.C.required],subUrb:["",a.C.required],postCode:["",a.C.required],ABN:["",a.C.required],contacts:this.fb.array([])}),this.addCustomerDetails(),this.getAllStates()}addCustomerDetails(){this.customerArr().push(this.customerForm())}customerArr(){return this.addCustomerForm.get("contacts")}customerForm(){return this.fb.group({email:["",a.C.required],phone:["",a.C.required],position:["",a.C.required]})}removeCustomerDetails(e){const t=this.addCustomerForm.controls.contacts;t.length>1&&t.removeAt(e)}onSubmit(){console.log(this.addCustomerForm.value),this.logicalFormInfoService.addCustomer(this.addCustomerForm.value).subscribe(e=>{console.log("addCustomerForm=>",e),this.dialogRef?this.dialogRef.close("ok"):this.router.navigate(["/admin/setting/addCustomer"])},e=>{console.error(e)})}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(e=>{console.log("setStatesDetails=>",e),this.StatesData=e.data})}calcHeight(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return e.\u0275fac=function(t){return new(t||e)(l["\u0275\u0275directiveInject"](a.f),l["\u0275\u0275directiveInject"](o.a),l["\u0275\u0275directiveInject"](r.f),l["\u0275\u0275directiveInject"](i.f))},e.\u0275cmp=l["\u0275\u0275defineComponent"]({type:e,selectors:[["app-adding-cust"]],decls:46,vars:5,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"content",2,"height","60%"],[1,"container","px-4","py-4","bg-white",3,"formGroup"],[1,"row"],[1,"my-3","col"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","id","customerName","formControlName","customerName",1,"form-control"],["type","text","id","customerContact","formControlName","customerContact",1,"form-control"],["autosize","","type","text","id","customerStreetAddress","formControlName","streetAddress",1,"form-control"],["autosize","","type","text","formControlName","subUrb","id","siteName",1,"form-control"],["aria-label","Default select example","formControlName","stateId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","numbersOnly","","id","postCode","formControlName","postCode",1,"form-control"],["type","text","id","businessName","formControlName","ABN",1,"form-control"],["formArrayName","contacts"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"value"],[3,"formGroupName"],[1,"my-3","col-3"],["type","text","formControlName","position","id","position",1,"form-control"],["type","text","formControlName","email","id","email",1,"form-control"],["type","text","formControlName","phone","id","phone",1,"form-control"],[1,"my-3","col-1","my-auto"],[1,"material-icons",2,"margin-top","35%",3,"click"]],template:function(e,t){1&e&&(l["\u0275\u0275template"](0,u,2,2,"div",0),l["\u0275\u0275elementStart"](1,"mat-dialog-content"),l["\u0275\u0275elementStart"](2,"section",1),l["\u0275\u0275elementStart"](3,"div",2),l["\u0275\u0275elementStart"](4,"h2"),l["\u0275\u0275text"](5,"Add Customer"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](6,"hr"),l["\u0275\u0275elementStart"](7,"div",3),l["\u0275\u0275elementStart"](8,"div",4),l["\u0275\u0275elementStart"](9,"p",5),l["\u0275\u0275text"](10," Customer Name "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](11,"input",6),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](12,"div",4),l["\u0275\u0275elementStart"](13,"p",5),l["\u0275\u0275text"](14," Customer Contact "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](15,"input",7),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](16,"div",3),l["\u0275\u0275elementStart"](17,"div",4),l["\u0275\u0275elementStart"](18,"p",5),l["\u0275\u0275text"](19," Street Address "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](20,"textarea",8),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](21,"div",4),l["\u0275\u0275elementStart"](22,"p",5),l["\u0275\u0275text"](23," Suburb "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](24,"textarea",9),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](25,"div",4),l["\u0275\u0275elementStart"](26,"p",5),l["\u0275\u0275text"](27," State "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](28,"select",10),l["\u0275\u0275elementStart"](29,"option",11),l["\u0275\u0275text"](30,"Select State"),l["\u0275\u0275elementEnd"](),l["\u0275\u0275template"](31,p,2,2,"option",12),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](32,"div",4),l["\u0275\u0275elementStart"](33,"p",5),l["\u0275\u0275text"](34," Postal Code "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](35,"input",13),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementStart"](36,"div",3),l["\u0275\u0275elementStart"](37,"div",4),l["\u0275\u0275elementStart"](38,"p",5),l["\u0275\u0275text"](39," Australian Business Name (ABN) "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275element"](40,"input",14),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementContainerStart"](41,15),l["\u0275\u0275template"](42,f,24,2,"ng-container",16),l["\u0275\u0275elementContainerEnd"](),l["\u0275\u0275elementStart"](43,"div"),l["\u0275\u0275elementStart"](44,"button",17),l["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),l["\u0275\u0275text"](45," Submit "),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"](),l["\u0275\u0275elementEnd"]()),2&e&&(l["\u0275\u0275property"]("ngIf",!t.dialogRef),l["\u0275\u0275advance"](3),l["\u0275\u0275property"]("formGroup",t.addCustomerForm),l["\u0275\u0275advance"](28),l["\u0275\u0275property"]("ngForOf",t.StatesData),l["\u0275\u0275advance"](11),l["\u0275\u0275property"]("ngForOf",t.customerArr().controls),l["\u0275\u0275advance"](2),l["\u0275\u0275property"]("disabled",t.addCustomerForm.invalid))},directives:[s.n,i.d,a.s,a.k,a.d,a.r,a.i,d.a,a.A,a.v,a.D,s.m,c.a,a.e,r.g,a.l],styles:[""]}),e})()},X72n:function(e,t,n){"use strict";n.d(t,"a",function(){return g});var a=n("3Pt+"),l=n("PSD3"),o=n.n(l),r=n("fXoL"),i=n("tyNb"),s=n("wbBK"),d=n("0IaG"),c=n("ofXK"),m=n("5eqV");const u=function(){return["/admin/setting/jobTask"]};function p(e,t){1&e&&(r["\u0275\u0275elementStart"](0,"div",8),r["\u0275\u0275element"](1,"i",9),r["\u0275\u0275elementEnd"]()),2&e&&r["\u0275\u0275property"]("routerLink",r["\u0275\u0275pureFunction0"](1,u))}function f(e,t){if(1&e&&(r["\u0275\u0275elementStart"](0,"option",20),r["\u0275\u0275text"](1),r["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;r["\u0275\u0275property"]("value",e._id),r["\u0275\u0275advance"](1),r["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function h(e,t){if(1&e){const e=r["\u0275\u0275getCurrentView"]();r["\u0275\u0275elementContainerStart"](0,10),r["\u0275\u0275elementStart"](1,"div",11),r["\u0275\u0275elementStart"](2,"div",12),r["\u0275\u0275elementStart"](3,"span"),r["\u0275\u0275text"](4),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](5,"div",13),r["\u0275\u0275element"](6,"textarea",14),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](7,"div",13),r["\u0275\u0275elementStart"](8,"select",15),r["\u0275\u0275elementStart"](9,"option",16),r["\u0275\u0275text"](10," Select category "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275template"](11,f,2,2,"option",17),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](12,"div",18),r["\u0275\u0275elementStart"](13,"span",19),r["\u0275\u0275listener"]("click",function(){return r["\u0275\u0275restoreView"](e),r["\u0275\u0275nextContext"]().addAction()}),r["\u0275\u0275text"](14,"add_circle_outline "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementStart"](15,"div",18),r["\u0275\u0275elementStart"](16,"span",19),r["\u0275\u0275listener"]("click",function(){r["\u0275\u0275restoreView"](e);const n=t.index;return r["\u0275\u0275nextContext"]().removeSafetyModule(n)}),r["\u0275\u0275text"](17," remove_circle_outline "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](18,"hr"),r["\u0275\u0275elementContainerEnd"]()}if(2&e){const e=t.index,n=r["\u0275\u0275nextContext"]();r["\u0275\u0275property"]("formGroupName",e),r["\u0275\u0275advance"](4),r["\u0275\u0275textInterpolate1"]("",e+1,". "),r["\u0275\u0275advance"](7),r["\u0275\u0275property"]("ngForOf",n.licenceCatAll)}}let g=(()=>{class e{constructor(e,t,n,a){this.fb=e,this.router=t,this.logicalFormInfo=n,this.dialogRef=a,this.licenceCatAll=[],this.jobTaskDetails=this.fb.group({arrObj:this.fb.array([])})}ngOnInit(){this.addAction(),this.getAllCategories()}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(e=>{console.log("getAllLicenceCat=>",e),this.licenceCatAll=e.data})}addAction(){this.add().push(this.newAction())}add(){return this.jobTaskDetails.get("arrObj")}newAction(){return this.fb.group({title:["",a.C.required],tradeCategoryId:["",a.C.required]})}removeSafetyModule(e){const t=this.jobTaskDetails.controls.arrObj;t.length>1&&t.removeAt(e)}onFormSubmit(){console.log(this.jobTaskDetails.get("arrObj").value);const e={arrObj:this.jobTaskDetails.get("arrObj").value};this.logicalFormInfo.addMultipleJobTask(e).subscribe(e=>{console.log("JOBTask=>",e),o.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200}),this.dialogRef?this.dialogRef.close("ok"):this.router.navigate(["/admin/setting/jobTask"])},e=>{this.dialogRef&&this.dialogRef.close("error"),console.error(e)})}calcHeight(e){this.numberOfLineBreaks=(e.value.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return e.\u0275fac=function(t){return new(t||e)(r["\u0275\u0275directiveInject"](a.f),r["\u0275\u0275directiveInject"](i.f),r["\u0275\u0275directiveInject"](s.a),r["\u0275\u0275directiveInject"](d.f))},e.\u0275cmp=r["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-job-task"]],decls:13,vars:4,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"container","px-4","py-4","bg-white"],[3,"formGroup","ngSubmit"],[1,"text-center"],["formArrayName","arrObj"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"formGroupName"],[1,"row","justify-content-center"],[1,"mr-1","mt-2"],[1,"col-4"],["autosize","","type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","mt-2"],[1,"material-icons",3,"click"],[3,"value"]],template:function(e,t){1&e&&(r["\u0275\u0275template"](0,p,2,2,"div",0),r["\u0275\u0275elementStart"](1,"div",1),r["\u0275\u0275elementStart"](2,"form",2),r["\u0275\u0275listener"]("ngSubmit",function(){return t.onFormSubmit()}),r["\u0275\u0275elementStart"](3,"h2",3),r["\u0275\u0275text"](4,"Add Job Task"),r["\u0275\u0275elementEnd"](),r["\u0275\u0275element"](5,"br"),r["\u0275\u0275element"](6,"hr"),r["\u0275\u0275elementContainerStart"](7,4),r["\u0275\u0275template"](8,h,19,3,"ng-container",5),r["\u0275\u0275elementContainerEnd"](),r["\u0275\u0275element"](9,"br"),r["\u0275\u0275elementStart"](10,"div",6),r["\u0275\u0275elementStart"](11,"button",7),r["\u0275\u0275text"](12," Add "),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"](),r["\u0275\u0275elementEnd"]()),2&e&&(r["\u0275\u0275property"]("ngIf",!t.dialogRef),r["\u0275\u0275advance"](2),r["\u0275\u0275property"]("formGroup",t.jobTaskDetails),r["\u0275\u0275advance"](6),r["\u0275\u0275property"]("ngForOf",t.add().controls),r["\u0275\u0275advance"](3),r["\u0275\u0275property"]("disabled",t.jobTaskDetails.get("arrObj").invalid))},directives:[c.n,a.E,a.s,a.k,a.e,c.m,i.g,a.l,a.d,m.a,a.r,a.i,a.A,a.v,a.D],styles:[""]}),e})()},bu9C:function(e,t,n){"use strict";n.d(t,"a",function(){return w});var a=n("X72n"),l=n("M9IT"),o=n("+0xr"),r=n("Dh3D"),i=n("fXoL"),s=n("3Pt+"),d=n("0IaG"),c=n("wbBK"),m=n("yZxC"),u=n("tyNb"),p=n("ofXK"),f=n("bTqV");const h=["risk"];function g(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"th",16),i["\u0275\u0275text"](1,"No."),i["\u0275\u0275elementEnd"]())}function b(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td",17),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e.index)}}function v(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"th",16),i["\u0275\u0275text"](1,"Name"),i["\u0275\u0275elementEnd"]())}function C(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"td",17),i["\u0275\u0275elementStart"](1,"span",18),i["\u0275\u0275elementStart"](2,"pre",19),i["\u0275\u0275text"](3),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](3),i["\u0275\u0275textInterpolate1"]("",e.title," ")}}function S(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"th",20),i["\u0275\u0275text"](1,"Set"),i["\u0275\u0275elementEnd"]())}function k(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",23),i["\u0275\u0275text"](1," Set "),i["\u0275\u0275elementEnd"]())}function E(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"button",23),i["\u0275\u0275text"](1," Update "),i["\u0275\u0275elementEnd"]())}function x(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"td",21),i["\u0275\u0275listener"]("click",function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"]().setRelation_2(n._id)}),i["\u0275\u0275template"](1,k,2,0,"button",22),i["\u0275\u0275template"](2,E,2,0,"button",22),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",!e.set),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",e.set)}}function y(e,t){1&e&&i["\u0275\u0275element"](0,"tr",24)}function I(e,t){1&e&&i["\u0275\u0275element"](0,"tr",25)}function A(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tr",26),i["\u0275\u0275elementStart"](1,"td",27),i["\u0275\u0275text"](2,"Data Not Found"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}const R=function(){return[20]};let w=(()=>{class e{constructor(e,t,n,a,l){this.fb=e,this.dialog=t,this.logicalFormInfo=n,this.setTitle=a,this.router=l,this.allHazards=[],this.allContrlActReq=[],this.jobTaskData=[],this.highRiskData=[],this.PPESelectionData=[],this.codeOfPract=[],this.licenseAndQual=[],this.licenseAndQualificationData=[],this.licenceCatAll=[],this.highRiskConstructionData=[],this.task=[],this.riskLevel="",this.residuleRiskL="",this.PPEselection=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.licenseAndQualification=[{label:"Open Cable Licence",value:""},{label:"White Card",value:""},{label:"EWP Licence",value:""},{label:"Working At Heights",value:""},{label:"Security Licence",value:""},{label:"Asbestos Awarness",value:""},{label:"Working In Confined Space",value:""}],this.highRiskConstruction2=[{label:"Working in or near trenches or shafts deeper than 1.5metres",value:""},{label:"Work in or near a confined space",value:""},{label:"Work in an area that may have a contaminated or flammable atmosphere",value:""},{label:"Working around or near mobile plant",value:""},{label:"Work with near or near asbestos",value:""},{label:"Working with hazardous substances",value:""},{label:"Working with or near tilt-up/precast concrete",value:""},{label:"Risk of falls higher than 2 metres",value:""},{label:"Working near on or adjacent to a road or rail corridor",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Work near explosives",value:""},{label:"Work in or near water or other liquid that involves a risk of drowning",value:""},{label:"Demolition of load-bearing structure",value:""},{label:"Diving work",value:""}],this.PPEselection2=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set Relation"),this.getJobTask()}onFormSubmit(){console.log(this.JobTaskDetail)}getJobTask(){this.logicalFormInfo.getAllJobtask().subscribe(e=>{console.log("jobTaskDetails=>",e),this.jobTaskData=e.data,this.jobTaskData.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=this.jobTaskData,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(e=>{console.log("Risk=>",e),this.highRiskConstructionData=e.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(e=>{console.log("PPE=>",e),this.PPESelectionData=e.data})}getAllLicence(){this.logicalFormInfo.getAllLicence().subscribe(e=>{console.log("Licence=>",e),this.licenseAndQual=e.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(e=>{console.log("getAllHazards=>",e),this.allHazards=e.data})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(e=>{console.log("getAllHazards=>",e),this.allContrlActReq=e.data})}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(e=>{console.log("getAllLicenceCat=>",e),this.licenceCatAll=e.data})}setRelation_2(e){this.router.navigate(["/admin/confiLogi/setRelation"],{queryParams:{id:e}})}categorySel(e){this.licenseAndQualificationData=[],console.log(e),e.forEach(e=>{this.licenseAndQual.forEach(t=>{e===t.licenceCategoryId._id&&this.licenseAndQualificationData.push(t)})}),console.log(" this.licenseAndQualificationData",this.licenseAndQualificationData)}addJobTask(){this.dialog.open(a.a,{width:"70%"}).afterClosed().subscribe(e=>{"ok"===e&&this.getJobTask()})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](s.f),i["\u0275\u0275directiveInject"](d.b),i["\u0275\u0275directiveInject"](c.a),i["\u0275\u0275directiveInject"](m.a),i["\u0275\u0275directiveInject"](u.f))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["app-set-logic"]],viewQuery:function(e,t){if(1&e&&(i["\u0275\u0275viewQuery"](r.a,!0),i["\u0275\u0275viewQuery"](l.a,!0),i["\u0275\u0275viewQuery"](h,!0)),2&e){let e;i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.sort=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),i["\u0275\u0275queryRefresh"](e=i["\u0275\u0275loadQuery"]())&&(t.Risk=e)}},decls:20,vars:5,consts:[[1,"ml-2"],["type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],[2,"font-family","Roboto, Helvetica Neue, sans-serif","font-size","14px"],["mat-header-cell",""],["mat-cell","",3,"click"],["class","myBtn","mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"h2",0),i["\u0275\u0275text"](1," Set Relation "),i["\u0275\u0275elementStart"](2,"button",1),i["\u0275\u0275listener"]("click",function(){return t.addJobTask()}),i["\u0275\u0275element"](3,"i",2),i["\u0275\u0275text"](4," Add JobTask "),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"table",4),i["\u0275\u0275elementContainerStart"](7,5),i["\u0275\u0275template"](8,g,2,0,"th",6),i["\u0275\u0275template"](9,b,2,1,"td",7),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementContainerStart"](10,8),i["\u0275\u0275template"](11,v,2,0,"th",6),i["\u0275\u0275template"](12,C,4,1,"td",7),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275elementContainerStart"](13,9),i["\u0275\u0275template"](14,S,2,0,"th",10),i["\u0275\u0275template"](15,x,3,2,"td",11),i["\u0275\u0275elementContainerEnd"](),i["\u0275\u0275template"](16,y,1,0,"tr",12),i["\u0275\u0275template"](17,I,1,0,"tr",13),i["\u0275\u0275template"](18,A,3,0,"tr",14),i["\u0275\u0275elementEnd"](),i["\u0275\u0275element"](19,"mat-paginator",15),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("dataSource",t.dataSource),i["\u0275\u0275advance"](10),i["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("pageSizeOptions",i["\u0275\u0275pureFunction0"](4,R)))},directives:[o.k,r.a,o.c,o.e,o.b,o.g,o.j,o.h,l.a,o.d,r.b,o.a,p.n,f.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),e})()},zQXG:function(e,t,n){"use strict";n.d(t,"a",function(){return Y});var a=n("PSD3"),l=n.n(a),o=n("Sgjq"),r=n("2xAX"),i=n("3Pt+"),s=n("0IaG"),d=n("tk/3"),c=n("fXoL"),m=n("wbBK"),u=n("5eHb"),p=n("ofXK"),f=n("bSwM");function h(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",31),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("ngValue",e),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.siteName," ")}}const g=function(e){return{"is-invalid":e}};function b(e,t){if(1&e&&c["\u0275\u0275element"](0,"input",32),2&e){const e=c["\u0275\u0275nextContext"]();c["\u0275\u0275property"]("ngClass",c["\u0275\u0275pureFunction1"](1,g,e.jobHasError))}}function v(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",33),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("value",e._id),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.title," ")}}function C(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"option",31),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275property"]("ngValue",e),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",e.customerName," ")}}let S=(()=>{class e{constructor(e,t,n,a,l,o){this.dialog=e,this.dialogRef=t,this.data=n,this.logicalFormInfoService=a,this.fb=l,this.toastrService=o,this.jobHasError=!1,this.allSites=[],this.allCustomers=[],this.allState=[]}ngAfterViewInit(){}ngOnInit(){this.addJobNumberForm=this.fb.group({siteName:["",i.C.required],streetAddress:[{value:"",disabled:!0},i.C.required],suburb:[{value:"",disabled:!0},i.C.required],state:[{value:"",disabled:!0},i.C.required],postcode:[{value:"",disabled:!0},i.C.required],customerName:["",i.C.required],customerContact:[{value:"",disabled:!0},i.C.required],customerContactPhone:[{value:"",disabled:!0},i.C.required],customerEmail:[{value:"",disabled:!0},i.C.required]}),this.addJobNumberForm.get("siteName").valueChanges.subscribe(e=>{this.siteId=e._id,console.log(e),this.addJobNumberForm.get("streetAddress").setValue(e.streetAddress),this.addJobNumberForm.get("suburb").setValue(e.suburb),this.addJobNumberForm.get("state").setValue(e.stateId._id),this.addJobNumberForm.get("postcode").setValue(e.postcode)}),this.addJobNumberForm.get("customerName").valueChanges.subscribe(e=>{var t,n;this.customerId=e._id,console.log(e),this.addJobNumberForm.get("customerContact").setValue(e.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(t=e.contacts[0])||void 0===t?void 0:t.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(n=e.contacts[0])||void 0===n?void 0:n.email)}),this.getAllSites(),this.getAllCustomer(),this.getAllStates()}getAllCustomer(){this.logicalFormInfoService.getAllCustomer().subscribe(e=>{this.allCustomers=e.data})}getAllSites(){this.logicalFormInfoService.getAllSite().subscribe(e=>{this.jobHasError=!1,this.allSites=e.data,console.log(e.data)},e=>{e instanceof d.d&&422===e.status&&(this.jobHasError=!0),console.error(e)})}get f(){return this.addJobNumberForm.controls}onSubmit(){var e,t;console.log(this.addJobNumberForm.value);const n=(null===(t=null===(e=this.f)||void 0===e?void 0:e.jobNumber)||void 0===t?void 0:t.value)?{jobNumber:this.f.jobNumber.value}:"";let a;a=Object.assign({stateId:this.f.state.value,customerId:this.customerId,siteId:this.siteId},n),console.log(a),this.logicalFormInfoService.addJobNumber(a).subscribe(e=>{console.log(e),this.dialogRef.close("success")},e=>{e instanceof d.d&&(422===e.status&&this.toastrService.error("Job Number Already exists!"),console.error(e))})}setSite(e){console.log(e),this.addJobNumberForm.get("streetAddress").setValue(e.streetAddress),this.addJobNumberForm.get("suburb").setValue(e.suburb),this.addJobNumberForm.get("state").setValue(e.stateId._id),this.addJobNumberForm.get("postcode").setValue(e.postcode)}setCustomer(e){var t,n;this.addJobNumberForm.get("customerContact").setValue(e.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(t=e.contacts[0])||void 0===t?void 0:t.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(n=e.contacts[0])||void 0===n?void 0:n.email)}close(){this.dialogRef.close()}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(e=>{console.log("getAllStates=>",e),this.allState=e.data})}jobNumberChecked(e){console.log(e),e.checked?this.addJobNumberForm.addControl("jobNumber",new i.g("",i.C.required)):this.addJobNumberForm.removeControl("jobNumber"),console.log("this.addJobNumberForm.controls.jobNumber",this.addJobNumberForm.controls.jobNumber.errors,this.addJobNumberForm.invalid)}addSite(){this.dialog.open(r.a,{}).afterClosed().subscribe(e=>{"true"===e&&this.getAllSites()})}addCustomer(){this.dialog.open(o.a,{}).afterClosed().subscribe(e=>{"ok"===e&&this.getAllCustomer()})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](s.b),c["\u0275\u0275directiveInject"](s.f),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](m.a),c["\u0275\u0275directiveInject"](i.f),c["\u0275\u0275directiveInject"](u.b))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-create-job-no"]],decls:70,vars:6,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],[1,"btn","btn-outline-primary","mt-1","mr-2",3,"click"],["type","button","aria-label","Close",1,"close",2,"font-size","25px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin","3%",3,"change"],["check",""],["type","text","class","form-control","formControlName","jobNumber","val","",3,"ngClass",4,"ngIf"],[1,"invalid-feedback"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","siteName",1,"form-control"],[1,"my-3","col-3"],["type","text","formControlName","suburb","id","siteName",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col-2"],["type","text","numbersOnly","","formControlName","postcode","id","siteName",1,"form-control"],[1,"my-3","col"],["type","text","formControlName","customerName","id","siteName",1,"form-control"],["type","text","id","siteName","formControlName","customerContact",1,"form-control"],["type","text","id","siteName","formControlName","customerContactPhone",1,"form-control"],["type","text","id","siteName","formControlName","customerEmail",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"ngValue"],["type","text","formControlName","jobNumber","val","",1,"form-control",3,"ngClass"],[3,"value"]],template:function(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"section",0),c["\u0275\u0275elementStart"](1,"div"),c["\u0275\u0275elementStart"](2,"div",1),c["\u0275\u0275elementStart"](3,"h1"),c["\u0275\u0275text"](4,"Create Job Number"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"button",2),c["\u0275\u0275listener"]("click",function(){return t.addSite()}),c["\u0275\u0275text"](6," Add Site"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](7,"button",2),c["\u0275\u0275listener"]("click",function(){return t.addCustomer()}),c["\u0275\u0275text"](8," Add Customer "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](9,"button",3),c["\u0275\u0275listener"]("click",function(){return t.close()}),c["\u0275\u0275elementStart"](10,"span",4),c["\u0275\u0275text"](11,"\xd7"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](12,"div",5),c["\u0275\u0275elementStart"](13,"div",6),c["\u0275\u0275elementStart"](14,"p",7),c["\u0275\u0275text"](15," Site Name "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](16,"select",8),c["\u0275\u0275template"](17,h,2,2,"option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](18,"div",6),c["\u0275\u0275elementStart"](19,"p",7),c["\u0275\u0275text"](20," Enter Custom Job No: "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](21,"div",10),c["\u0275\u0275elementStart"](22,"mat-checkbox",11,12),c["\u0275\u0275listener"]("change",function(e){return t.jobNumberChecked(e)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](24,b,1,3,"input",13),c["\u0275\u0275elementStart"](25,"div",14),c["\u0275\u0275elementStart"](26,"div"),c["\u0275\u0275text"](27,"Job Number Is Required!"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](28,"div",5),c["\u0275\u0275elementStart"](29,"div",15),c["\u0275\u0275elementStart"](30,"p",7),c["\u0275\u0275text"](31," Street Address "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](32,"textarea",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](33,"div",17),c["\u0275\u0275elementStart"](34,"p",7),c["\u0275\u0275text"](35,"Suburb"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](36,"textarea",18),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](37,"div",17),c["\u0275\u0275elementStart"](38,"p",19),c["\u0275\u0275text"](39,"State"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](40,"select",20),c["\u0275\u0275elementStart"](41,"option",21),c["\u0275\u0275text"](42,"Select"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275template"](43,v,2,2,"option",22),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](44,"div",23),c["\u0275\u0275elementStart"](45,"p",7),c["\u0275\u0275text"](46," Postal Code "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](47,"input",24),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](48,"div",5),c["\u0275\u0275elementStart"](49,"div",25),c["\u0275\u0275elementStart"](50,"p",7),c["\u0275\u0275text"](51," Customer Name "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](52,"select",26),c["\u0275\u0275template"](53,C,2,2,"option",9),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](54,"div",25),c["\u0275\u0275elementStart"](55,"p",7),c["\u0275\u0275text"](56," Customer Contact "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](57,"input",27),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](58,"div",5),c["\u0275\u0275elementStart"](59,"div",25),c["\u0275\u0275elementStart"](60,"p",7),c["\u0275\u0275text"](61," Customer Contact Phone "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](62,"input",28),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](63,"div",25),c["\u0275\u0275elementStart"](64,"p",7),c["\u0275\u0275text"](65," Customer Email "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](66,"input",29),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](67,"div"),c["\u0275\u0275elementStart"](68,"button",30),c["\u0275\u0275listener"]("click",function(){return t.onSubmit()}),c["\u0275\u0275text"](69," Create "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=c["\u0275\u0275reference"](23);c["\u0275\u0275property"]("formGroup",t.addJobNumberForm),c["\u0275\u0275advance"](17),c["\u0275\u0275property"]("ngForOf",t.allSites),c["\u0275\u0275advance"](7),c["\u0275\u0275property"]("ngIf",e.checked),c["\u0275\u0275advance"](19),c["\u0275\u0275property"]("ngForOf",t.allState),c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("ngForOf",t.allCustomers),c["\u0275\u0275advance"](15),c["\u0275\u0275property"]("disabled",t.addJobNumberForm.invalid)}},directives:[i.s,i.k,s.g,i.A,i.r,i.i,p.m,f.a,p.n,i.d,i.v,i.D,p.l],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})();var k=n("M9IT"),E=n("+0xr"),x=n("2X0P"),y=n("Dh3D"),I=n("yZxC"),A=n("bTqV"),R=n("NFeN"),w=n("Qu3c");function T(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",21),c["\u0275\u0275text"](1,"No."),c["\u0275\u0275elementEnd"]())}function D(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.index;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e+1)}}function P(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",21),c["\u0275\u0275text"](1," Job Number "),c["\u0275\u0275elementEnd"]())}function O(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.jobNumber)}}function F(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",21),c["\u0275\u0275text"](1,"Site Name"),c["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"span",23),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"]("",e.siteName," ")}}function L(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"Street Address"),c["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"span",23),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.streetAddress)}}function J(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"Suburb"),c["\u0275\u0275elementEnd"]())}function z(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.suburb)}}function _(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"State"),c["\u0275\u0275elementEnd"]())}function q(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate1"](" ",null==e.stateId?null:e.stateId.title," ")}}function H(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",21),c["\u0275\u0275text"](1," Customer Name "),c["\u0275\u0275elementEnd"]())}function M(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"span",23),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate1"](" ",e.customerName,"")}}function V(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"Customer Contact"),c["\u0275\u0275elementEnd"]())}function B(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"span",23),c["\u0275\u0275text"](2),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275textInterpolate"](e.customerContact)}}function G(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"Edit"),c["\u0275\u0275elementEnd"]())}function $(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",24),c["\u0275\u0275text"](1,"Action"),c["\u0275\u0275elementEnd"]())}function Q(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"button",25),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().delete(n)}),c["\u0275\u0275elementStart"](2,"mat-icon",26),c["\u0275\u0275text"](3,"delete"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}}function W(e,t){1&e&&c["\u0275\u0275element"](0,"tr",27)}function X(e,t){1&e&&c["\u0275\u0275element"](0,"tr",28)}function U(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tr",29),c["\u0275\u0275elementStart"](1,"td",30),c["\u0275\u0275text"](2,"Data Not Found"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}const K=function(){return[20]};let Y=(()=>{class e{constructor(e,t,n){this.dialog=e,this.setTitle=t,this.logicalFormInfoService=n,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["jobNumber","siteName","streetAddress","suburb","state","customerName","customerContact","action"],this.dataSource=new E.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Job Number List"),this.getAllJobNumber()}getAllJobNumber(e="",t=""){this.logicalFormInfoService.getAllJobNumber(e,t).subscribe(e=>{console.log(e),this.dataSource=e.data,console.log("getAllJobNumber",this.dataSource),this.dataSource.paginator=this.paginator})}getAllJobTask(){}openDialog(e){this.dialog.open(S,{height:"80%",data:{action:"new",userId:e}}).afterClosed().subscribe(e=>{console.log("CustomerInfoComponent -> openDialog -> result",e),console.log("result",e),"success"===e&&(this.getAllJobNumber(),l.a.fire({title:"Job Number created successfully",showConfirmButton:!1,timer:1200})),console.log("The dialog was closed")})}edit(e){this.dialog.open(x.a,{width:"550px",data:e}).afterClosed().subscribe(e=>{"true"==e&&this.getAllJobTask(),console.log("The dialog was closed")})}delete(e){l.a.fire({title:"Are you sure?",text:`Do you want to delete "${e.jobNumber}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(t=>{t.value&&this.logicalFormInfoService.deleteJobNumber(e._id).subscribe(e=>{l.a.fire({title:"Job Number Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",e),this.getAllJobNumber()})})}sortData(e){this.getAllJobNumber(e.active,e.direction)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](s.b),c["\u0275\u0275directiveInject"](I.a),c["\u0275\u0275directiveInject"](m.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-job-number"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"](y.a,!0),c["\u0275\u0275viewQuery"](k.a,!0)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.sort=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.paginator=e.first)}},decls:40,vars:5,consts:[["_ngcontent-hqi-c400","","type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],["_ngcontent-hqi-c400","",1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobNumber"],["matColumnDef","siteName"],["matColumnDef","streetAddress"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","suburb"],["matColumnDef","state"],["matColumnDef","customerName"],["matColumnDef","customerContact"],["matColumnDef","edit"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h2"),c["\u0275\u0275text"](1," Job Number List "),c["\u0275\u0275elementStart"](2,"button",0),c["\u0275\u0275listener"]("click",function(){return t.openDialog("abcd")}),c["\u0275\u0275element"](3,"i",1),c["\u0275\u0275text"](4," Create "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](5,"div",2),c["\u0275\u0275elementStart"](6,"table",3),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementContainerStart"](7,4),c["\u0275\u0275template"](8,T,2,0,"th",5),c["\u0275\u0275template"](9,D,2,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](10,7),c["\u0275\u0275template"](11,P,2,0,"th",5),c["\u0275\u0275template"](12,O,2,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](13,8),c["\u0275\u0275template"](14,F,2,0,"th",5),c["\u0275\u0275template"](15,N,3,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](16,9),c["\u0275\u0275template"](17,L,2,0,"th",10),c["\u0275\u0275template"](18,j,3,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](19,11),c["\u0275\u0275template"](20,J,2,0,"th",10),c["\u0275\u0275template"](21,z,2,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](22,12),c["\u0275\u0275template"](23,_,2,0,"th",10),c["\u0275\u0275template"](24,q,2,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](25,13),c["\u0275\u0275template"](26,H,2,0,"th",5),c["\u0275\u0275template"](27,M,3,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](28,14),c["\u0275\u0275template"](29,V,2,0,"th",10),c["\u0275\u0275template"](30,B,3,1,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](31,15),c["\u0275\u0275template"](32,G,2,0,"th",10),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](33,16),c["\u0275\u0275template"](34,$,2,0,"th",10),c["\u0275\u0275template"](35,Q,4,0,"td",6),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275template"](36,W,1,0,"tr",17),c["\u0275\u0275template"](37,X,1,0,"tr",18),c["\u0275\u0275template"](38,U,3,0,"tr",19),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](39,"mat-paginator",20),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("dataSource",t.dataSource),c["\u0275\u0275advance"](30),c["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("pageSizeOptions",c["\u0275\u0275pureFunction0"](4,K)))},directives:[E.k,y.a,E.c,E.e,E.b,E.g,E.j,E.h,k.a,E.d,y.b,E.a,A.a,R.a,w.a,E.f,E.i],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}"]}),e})()}}]);