!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{jASi:function(e,n,o){"use strict";o.r(n),o.d(n,"FormsModule1",function(){return Fn});var a,c=o("Tnig"),r=o("fXoL"),s=((a=function(){function e(i){t(this,e),this.elementRef=i}return i(e,[{key:"onInput",value:function(){this.resize()}},{key:"ngOnInit",value:function(){var t=this;this.elementRef.nativeElement.scrollHeight&&setTimeout(function(){return t.resize()})}},{key:"resize",value:function(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}]),e}()).\u0275fac=function(t){return new(t||a)(r.Ob(r.l))},a.\u0275dir=r.Jb({type:a,selectors:[["","appTextareaAutoresize",""]],hostBindings:function(t,e){1&t&&r.ec("input",function(){return e.onInput()})}}),a),l=o("ofXK"),m=o("/1cH"),u=o("tyNb"),b=o("wZkO"),d=o("M9IT"),f=o("+0xr"),h=o("Dh3D"),p=o("0IaG"),v=o("JqCM"),g=o("yZxC"),T=o("3Pt+"),y=o("1jcm"),w=o("Qu3c"),O=o("OFbc");function D(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1," No. "),r.Tb())}function U(t,e){if(1&t&&(r.Ub(0,"td",16),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.index)}}function C(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1," Form Name "),r.Tb())}function M(t,e){if(1&t&&(r.Ub(0,"td",16),r.Ub(1,"span",17),r.Oc(2),r.Tb(),r.Tb()),2&t){var i=e.$implicit;r.Bb(2),r.Pc(i.title)}}function k(t,e){1&t&&(r.Ub(0,"th",18),r.Oc(1," Form Frequency "),r.Tb())}function S(t,e){1&t&&(r.Ub(0,"td",16),r.Ub(1,"select",19),r.Ub(2,"option",20),r.Oc(3,"Daily"),r.Tb(),r.Ub(4,"option",21),r.Oc(5,"Weekly"),r.Tb(),r.Ub(6,"option",21),r.Oc(7,"Monthly"),r.Tb(),r.Ub(8,"option",22),r.Oc(9,"Quaterly"),r.Tb(),r.Ub(10,"option",23),r.Oc(11,"Half yearly"),r.Tb(),r.Ub(12,"option",24),r.Oc(13,"Yearly"),r.Tb(),r.Ub(14,"option",25),r.Oc(15,"Once Off"),r.Tb(),r.Tb(),r.Tb())}function I(t,e){1&t&&(r.Ub(0,"th",18),r.Oc(1," Disable/Enable "),r.Tb())}function B(t,e){1&t&&(r.Ub(0,"td",16),r.Pb(1,"mat-slide-toggle",26),r.Tb())}function R(t,e){1&t&&(r.Ub(0,"th",18),r.Oc(1," Action "),r.Tb())}function H(t,e){if(1&t&&(r.Ub(0,"span",30),r.Pb(1,"svg-icon",31),r.Tb()),2&t){var i=r.ic().$implicit;r.qc("routerLink",i.link)}}function A(t,e){if(1&t){var i=r.Vb();r.Ub(0,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().goTo(t.title)}),r.Oc(1," launch "),r.Tb()}}function P(t,e){if(1&t&&(r.Ub(0,"td",16),r.Ub(1,"div",27),r.Mc(2,H,2,1,"span",28),r.Mc(3,A,2,0,"span",29),r.Tb(),r.Tb()),2&t){var i=r.ic();r.Bb(2),r.qc("ngIf","fillConfigForm"==i.url[0].path),r.Bb(1),r.qc("ngIf","fillConfigForm"==i.url[0].path)}}function x(t,e){1&t&&r.Pb(0,"tr",33)}function F(t,e){1&t&&r.Pb(0,"tr",34)}function q(t,e){1&t&&(r.Ub(0,"tr",35),r.Ub(1,"td",36),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var $,L,N=function(){return[20]},z=(($=function(){function e(i,n,o,a,c){t(this,e),this.dialog=i,this.spinner=n,this.router=o,this.setTitle=a,this.activatedRoute=c,this.page=1,this.pageSize=10,this.collectionSize=10,this.ELEMENT_DATA=[{index:1,title:"Hazards Reported",link:["/admin/forms/hazardRep/form"]},{index:2,title:"Notifiable Accident",link:["/admin/forms/incidentRep/Form"]},{index:3,title:"Toolbox Talk",link:["/admin/forms/toolboxTalk/form"]},{index:4,title:"Site Inspection",link:["/admin/forms/siteInspect/form"]},{index:5,title:"Risk Assessment",link:["/admin/forms/riskAssessSWMS/form"]}],this.formName="",this.displayedColumns=["index","formName","formFrequency","Disable/Enable"],this.dataSource=new f.l(this.ELEMENT_DATA)}return i(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"goTo",value:function(t){console.log("title",t),"Toolbox Talk"===t&&this.router.navigate(["/admin/forms/tableData"]),"Site Inspection"===t&&this.router.navigate(["/admin/forms/siteinspectiontable"]),"Hazards Reported"===t&&this.router.navigate(["/admin/forms/hazardTable"]),"Notifiable Accident"===t&&this.router.navigate(["/admin/forms/incidentsTable"]),"Risk Assessment"===t&&this.router.navigate(["/admin/forms/riskAssessTable"])}},{key:"ngOnInit",value:function(){this.url=this.activatedRoute.snapshot.url,this.setTitle.setTitle("WHS-All Form")}}]),e}()).\u0275fac=function(t){return new(t||$)(r.Ob(p.b),r.Ob(v.c),r.Ob(u.f),r.Ob(g.a),r.Ob(u.a))},$.\u0275cmp=r.Ib({type:$,selectors:[["app-forms"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(h.a,!0),r.Sc(d.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.sort=i.first),r.xc(i=r.fc())&&(e.paginator=i.first))},inputs:{displayedColumns:"displayedColumns"},decls:24,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formName"],["matColumnDef","formFrequency"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Disable/Enable"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["aria-label","Default select example",1,"form-select","form-control"],["value","daily"],["value","weekly"],["value","quaterly"],["value","halfYearly"],["value","yearly"],["value","onceOff"],["color","primary","checked",""],[2,"display","flex","justify-content","space-evenly"],["class","material-icons","matTooltip","Fill The Form","style","font-size: 26px ;cursor: pointer !important;",3,"routerLink",4,"ngIf"],["class","material-icons mt-2","matTooltip","Saved Form List","style","cursor: pointer !important;",3,"click",4,"ngIf"],["matTooltip","Fill The Form",1,"material-icons",2,"font-size","26px","cursor","pointer !important",3,"routerLink"],["name","Fill_form"],["matTooltip","Saved Form List",1,"material-icons","mt-2",2,"cursor","pointer !important",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1"),r.Oc(2," Forms List"),r.Tb(),r.Tb(),r.Ub(3,"div",1),r.Ub(4,"table",2),r.Sb(5,3),r.Mc(6,D,2,0,"th",4),r.Mc(7,U,2,1,"td",5),r.Rb(),r.Sb(8,6),r.Mc(9,C,2,0,"th",4),r.Mc(10,M,3,1,"td",5),r.Rb(),r.Sb(11,7),r.Mc(12,k,2,0,"th",8),r.Mc(13,S,16,0,"td",5),r.Rb(),r.Sb(14,9),r.Mc(15,I,2,0,"th",8),r.Mc(16,B,2,0,"td",5),r.Rb(),r.Sb(17,10),r.Mc(18,R,2,0,"th",8),r.Mc(19,P,4,2,"td",5),r.Rb(),r.Mc(20,x,1,0,"tr",11),r.Mc(21,F,1,0,"tr",12),r.Mc(22,q,3,0,"tr",13),r.Tb(),r.Pb(23,"mat-paginator",14),r.Tb()),2&t&&(r.Bb(4),r.qc("dataSource",e.dataSource),r.Bb(16),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(4,N)))},directives:[f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,f.d,h.b,f.a,T.v,T.D,y.a,l.n,w.a,u.g,O.b,f.f,f.i],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),$),_=o("1tPq"),j=((L=function(){function e(i){t(this,e),this.activatedRoute=i,this.displayedColumns=["index","formName","edit"]}return i(e,[{key:"ngOnInit",value:function(){this.selectValue=this.activatedRoute.snapshot.params.index}}]),e}()).\u0275fac=function(t){return new(t||L)(r.Ob(u.a))},L.\u0275cmp=r.Ib({type:L,selectors:[["app-fill-configured-form"]],decls:5,vars:3,consts:[[3,"selectedIndex"],["label","Logical Forms List"],[3,"displayedColumns"],["label","Dynamic Forms List"]],template:function(t,e){1&t&&(r.Ub(0,"mat-tab-group",0),r.Ub(1,"mat-tab",1),r.Pb(2,"app-forms",2),r.Tb(),r.Ub(3,"mat-tab",3),r.Pb(4,"app-dynamic-list",2),r.Tb(),r.Tb()),2&t&&(r.qc("selectedIndex",e.selectValue),r.Bb(2),r.qc("displayedColumns",e.displayedColumns),r.Bb(2),r.qc("displayedColumns",e.displayedColumns))},directives:[b.b,b.a,z,_.a],styles:[""]}),L),E=o("lJxs"),Q=o("wbBK"),V=o("zXlT"),W=function(t){return[t]};function J(t,e){1&t&&(r.Ub(0,"div",24),r.Pb(1,"i",25),r.Tb()),2&t&&r.qc("routerLink",r.uc(1,W,"/admin/forms/fillConfigForm/0"))}var Y=function(){return["/admin/forms/tableData"]};function Z(t,e){1&t&&(r.Ub(0,"div",24),r.Pb(1,"i",25),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,Y))}function G(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," ToolBox Talk List"),r.Tb())}function X(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," ToolBox Talk Form Histroy List"),r.Tb())}function K(t,e){1&t&&(r.Ub(0,"th",26),r.Oc(1," No. "),r.Tb())}function tt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.index+1)}}function et(t,e){1&t&&(r.Ub(0,"th",26),r.Oc(1," Form Id "),r.Tb())}function it(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.formId)}}function nt(t,e){1&t&&(r.Ub(0,"th",26),r.Oc(1," Version "),r.Tb())}function ot(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.version)}}function at(t,e){1&t&&(r.Ub(0,"th",26),r.Oc(1," Name "),r.Tb())}function ct(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.customerName)}}function rt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1," Phone"),r.Tb())}function st(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.custConct)}}function lt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Email"),r.Tb())}function mt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.custEmail," ")}}function ut(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Site Name"),r.Tb())}function bt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.siteName," ")}}function dt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Created Date"),r.Tb())}function ft(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdAt,"medium")," ")}}function ht(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Updated Date"),r.Tb())}function pt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedAt,"medium")," ")}}function vt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Created Date"),r.Tb())}function gt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdTime,"medium")," ")}}function Tt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1,"Updated Date"),r.Tb())}function yt(t,e){if(1&t&&(r.Ub(0,"td",27),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedTime,"medium")," ")}}function wt(t,e){1&t&&(r.Ub(0,"th",28),r.Oc(1," Action "),r.Tb())}function Ot(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",30),r.Ub(1,"span",31),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().edit(t._id)}),r.Oc(2," edit "),r.Tb(),r.Ub(3,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().printPage(t._id)}),r.Oc(4," print "),r.Tb(),r.Ub(5,"span",33),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().delete(t._id)}),r.Oc(6," delete "),r.Tb(),r.Ub(7,"span",34),r.Oc(8," history "),r.Tb(),r.Tb()}if(2&t){var n=r.ic().$implicit;r.Bb(7),r.qc("routerLink",r.uc(1,W,"/admin/forms/tableData/history/"+n._id))}}function Dt(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",30),r.Ub(1,"span",35),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().view(t._id)}),r.Oc(2," visibility "),r.Tb(),r.Tb()}}function Ut(t,e){if(1&t&&(r.Ub(0,"td",27),r.Mc(1,Ot,9,3,"div",29),r.Mc(2,Dt,3,0,"div",29),r.Tb()),2&t){var i=r.ic();r.Bb(1),r.qc("ngIf",!i.isHistory),r.Bb(1),r.qc("ngIf",i.isHistory)}}function Ct(t,e){1&t&&r.Pb(0,"tr",36)}function Mt(t,e){1&t&&r.Pb(0,"tr",37)}function kt(t,e){1&t&&(r.Ub(0,"tr",38),r.Ub(1,"td",39),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var St,It=function(){return[20]},Bt=((St=function(){function e(i,n,o,a,c){t(this,e),this.activatedRoute=i,this.logicalFormInfo=n,this.router=o,this.shared=a,this.spinner=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"],this.role=["product owner"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/tableData/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(E.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getToolBoxHistory()}):this.getToolBox()}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;this.logicalFormInfo.deleteToolBox(t).subscribe(function(t){console.log("deleted",t),e.getToolBox()})}},{key:"getToolBox",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.gettoolBox(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"getToolBoxHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.gettoolBoxHistory(e,i,n).subscribe(function(e){t.showDatas=e.data[0].result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/toolboxTalk/"+t])}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/tableData/history/toolboxTalk/"+t],{queryParams:{returnTo:this.router.url}})}},{key:"sortData",value:function(t){this.isHistory?this.getToolBoxHistory(t.active,t.direction):this.getToolBox(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}])}}]),e}()).\u0275fac=function(t){return new(t||St)(r.Ob(u.a),r.Ob(Q.a),r.Ob(u.f),r.Ob(V.a),r.Ob(v.c))},St.\u0275cmp=r.Ib({type:St,selectors:[["app-display-table"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d.a,!0),r.Sc(h.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.paginator=i.first),r.xc(i=r.fc())&&(e.sort=i.first))},decls:47,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","version"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["mat-icon-button","","matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Mc(0,J,2,3,"div",0),r.Mc(1,Z,2,2,"div",0),r.Ub(2,"div",1),r.Mc(3,G,2,0,"h1",2),r.Mc(4,X,2,0,"h1",2),r.Tb(),r.Ub(5,"div",3),r.Ub(6,"table",4),r.ec("matSortChange",function(t){return e.sortData(t)}),r.Sb(7,5),r.Mc(8,K,2,0,"th",6),r.Mc(9,tt,2,1,"td",7),r.Rb(),r.Sb(10,8),r.Mc(11,et,2,0,"th",6),r.Mc(12,it,2,1,"td",7),r.Rb(),r.Sb(13,9),r.Mc(14,nt,2,0,"th",6),r.Mc(15,ot,2,1,"td",7),r.Rb(),r.Sb(16,10),r.Mc(17,at,2,0,"th",6),r.Mc(18,ct,2,1,"td",7),r.Rb(),r.Sb(19,11),r.Mc(20,rt,2,0,"th",12),r.Mc(21,st,2,1,"td",7),r.Rb(),r.Sb(22,13),r.Mc(23,lt,2,0,"th",12),r.Mc(24,mt,2,1,"td",7),r.Rb(),r.Sb(25,14),r.Mc(26,ut,2,0,"th",12),r.Mc(27,bt,2,1,"td",7),r.Rb(),r.Sb(28,15),r.Mc(29,dt,2,0,"th",12),r.Mc(30,ft,3,4,"td",7),r.Rb(),r.Sb(31,16),r.Mc(32,ht,2,0,"th",12),r.Mc(33,pt,3,4,"td",7),r.Rb(),r.Sb(34,17),r.Mc(35,vt,2,0,"th",12),r.Mc(36,gt,3,4,"td",7),r.Rb(),r.Sb(37,18),r.Mc(38,Tt,2,0,"th",12),r.Mc(39,yt,3,4,"td",7),r.Rb(),r.Sb(40,19),r.Mc(41,wt,2,0,"th",12),r.Mc(42,Ut,3,2,"td",7),r.Rb(),r.Mc(43,Ct,1,0,"tr",20),r.Mc(44,Mt,1,0,"tr",21),r.Mc(45,kt,3,0,"tr",22),r.Tb(),r.Pb(46,"mat-paginator",23),r.Tb()),2&t&&(r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("dataSource",e.tempArray),r.Bb(37),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(8,It)))},directives:[l.n,f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,u.g,f.d,h.b,f.a,w.a,u.h,f.f,f.i],pipes:[l.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),St),Rt=o("9Ohn"),Ht=o("4psL"),At=o("woRl"),Pt=o("lJ0R"),xt=o("h5Ns"),Ft=o("PSD3"),qt=o.n(Ft),$t=function(t){return[t]};function Lt(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.uc(1,$t,"/admin/forms/fillConfigForm/0"))}var Nt=function(){return["/admin/forms/siteinspectiontable"]};function zt(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,Nt))}function _t(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Site Inspection List"),r.Tb())}function jt(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Site Inspection Form History List"),r.Tb())}function Et(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Version "),r.Tb())}function Qt(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.version)}}function Vt(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Form Id "),r.Tb())}function Wt(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.formId)}}function Jt(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Name "),r.Tb())}function Yt(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.customerName)}}function Zt(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Phone"),r.Tb())}function Gt(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.custConctPh)}}function Xt(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Email"),r.Tb())}function Kt(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.custEmail," ")}}function te(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Site Name"),r.Tb())}function ee(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.siteName," ")}}function ie(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function ne(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdAt,"medium")," ")}}function oe(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function ae(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedAt,"medium")," ")}}function ce(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function re(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdTime,"medium")," ")}}function se(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function le(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedTime,"medium")," ")}}function me(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Action "),r.Tb())}function ue(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",30),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().edit(t._id)}),r.Oc(2," edit "),r.Tb(),r.Ub(3,"span",31),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().printPage(t._id)}),r.Oc(4," print "),r.Tb(),r.Ub(5,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().delete(t._id)}),r.Oc(6," delete "),r.Tb(),r.Ub(7,"span",33),r.Oc(8," history "),r.Tb(),r.Tb()}if(2&t){var n=r.ic().$implicit;r.Bb(7),r.qc("routerLink",r.uc(1,$t,"/admin/forms/siteinspectiontable/history/"+n._id))}}function be(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",34),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().view(t._id)}),r.Oc(2," visibility "),r.Tb(),r.Tb()}}function de(t,e){if(1&t&&(r.Ub(0,"td",26),r.Mc(1,ue,9,3,"div",28),r.Mc(2,be,3,0,"div",28),r.Tb()),2&t){var i=r.ic();r.Bb(1),r.qc("ngIf",!i.isHistory),r.Bb(1),r.qc("ngIf",i.isHistory)}}function fe(t,e){1&t&&r.Pb(0,"tr",35)}function he(t,e){1&t&&r.Pb(0,"tr",36)}function pe(t,e){1&t&&(r.Ub(0,"tr",37),r.Ub(1,"td",38),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var ve,ge=function(){return[20]},Te=((ve=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/siteinspectiontable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(E.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getsiteInspectionHistory()}):this.getsiteInspection()}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteSiteInspection(t).subscribe(function(t){qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getsiteInspection()})})}},{key:"getsiteInspection",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllSiteInspection(e,i).subscribe(function(e){console.log("res",e.data),t.showDatas=e.data,console.log("res",t.showDatas),t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"getsiteInspectionHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllSiteInspectionHistory(e,i,n).subscribe(function(e){console.log("res",e.result),t.showDatas=e.result,console.log("res",t.showDatas),t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/siteInspect/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getsiteInspectionHistory(t.active,t.direction):this.getsiteInspection(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.clear(),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}])}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/siteinspectiontable/history/siteInspect/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||ve)(r.Ob(Q.a),r.Ob(u.f),r.Ob(v.c),r.Ob(V.a),r.Ob(u.a))},ve.\u0275cmp=r.Ib({type:ve,selectors:[["app-site-inspection-table"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d.a,!0),r.Sc(h.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.paginator=i.first),r.xc(i=r.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Mc(0,Lt,2,3,"div",0),r.Mc(1,zt,2,2,"div",0),r.Ub(2,"div",1),r.Mc(3,_t,2,0,"h1",2),r.Mc(4,jt,2,0,"h1",2),r.Tb(),r.Ub(5,"div",3),r.Ub(6,"table",4),r.ec("matSortChange",function(t){return e.sortData(t)}),r.Sb(7,5),r.Mc(8,Et,2,0,"th",6),r.Mc(9,Qt,2,1,"td",7),r.Rb(),r.Sb(10,8),r.Mc(11,Vt,2,0,"th",6),r.Mc(12,Wt,2,1,"td",7),r.Rb(),r.Sb(13,9),r.Mc(14,Jt,2,0,"th",6),r.Mc(15,Yt,2,1,"td",7),r.Rb(),r.Sb(16,10),r.Mc(17,Zt,2,0,"th",11),r.Mc(18,Gt,2,1,"td",7),r.Rb(),r.Sb(19,12),r.Mc(20,Xt,2,0,"th",11),r.Mc(21,Kt,2,1,"td",7),r.Rb(),r.Sb(22,13),r.Mc(23,te,2,0,"th",11),r.Mc(24,ee,2,1,"td",7),r.Rb(),r.Sb(25,14),r.Mc(26,ie,2,0,"th",11),r.Mc(27,ne,3,4,"td",7),r.Rb(),r.Sb(28,15),r.Mc(29,oe,2,0,"th",11),r.Mc(30,ae,3,4,"td",7),r.Rb(),r.Sb(31,16),r.Mc(32,ce,2,0,"th",11),r.Mc(33,re,3,4,"td",7),r.Rb(),r.Sb(34,17),r.Mc(35,se,2,0,"th",11),r.Mc(36,le,3,4,"td",7),r.Rb(),r.Sb(37,18),r.Mc(38,me,2,0,"th",11),r.Mc(39,de,3,2,"td",7),r.Rb(),r.Mc(40,fe,1,0,"tr",19),r.Mc(41,he,1,0,"tr",20),r.Mc(42,pe,3,0,"tr",21),r.Tb(),r.Pb(43,"mat-paginator",22),r.Tb()),2&t&&(r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("dataSource",e.tempArray),r.Bb(34),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(8,ge)))},directives:[l.n,f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,u.g,f.d,h.b,f.a,w.a,u.h,f.f,f.i],pipes:[l.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),ve),ye=function(t){return[t]};function we(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.uc(1,ye,"/admin/forms/fillConfigForm/0"))}var Oe=function(){return["/admin/forms/hazardTable"]};function De(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,Oe))}function Ue(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Hazard Form List"),r.Tb())}function Ce(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Hazard Form History List"),r.Tb())}function Me(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Version "),r.Tb())}function ke(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.version)}}function Se(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Form Id "),r.Tb())}function Ie(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.formId)}}function Be(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Name "),r.Tb())}function Re(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.fullName)}}function He(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Phone"),r.Tb())}function Ae(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.phone)}}function Pe(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Email"),r.Tb())}function xe(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.email," ")}}function Fe(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Position"),r.Tb())}function qe(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.position," ")}}function $e(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function Le(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdAt,"medium")," ")}}function Ne(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function ze(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedAt,"medium")," ")}}function _e(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function je(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdTime,"medium")," ")}}function Ee(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function Qe(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedTime,"medium")," ")}}function Ve(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Action "),r.Tb())}function We(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",30),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().edit(t._id)}),r.Oc(2," edit "),r.Tb(),r.Ub(3,"span",31),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().printPage(t._id)}),r.Oc(4," print "),r.Tb(),r.Ub(5,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().delete(t._id)}),r.Oc(6," delete "),r.Tb(),r.Ub(7,"span",33),r.Oc(8," history "),r.Tb(),r.Tb()}if(2&t){var n=r.ic().$implicit;r.Bb(7),r.qc("routerLink",r.uc(1,ye,"/admin/forms/hazardTable/history/"+n._id))}}function Je(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",34),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().view(t._id)}),r.Oc(2," visibility "),r.Tb(),r.Tb()}}function Ye(t,e){if(1&t&&(r.Ub(0,"td",26),r.Mc(1,We,9,3,"div",28),r.Mc(2,Je,3,0,"div",28),r.Tb()),2&t){var i=r.ic();r.Bb(1),r.qc("ngIf",!i.isHistory),r.Bb(1),r.qc("ngIf",i.isHistory)}}function Ze(t,e){1&t&&r.Pb(0,"tr",35)}function Ge(t,e){1&t&&r.Pb(0,"tr",36)}function Xe(t,e){1&t&&(r.Ub(0,"tr",37),r.Ub(1,"td",38),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var Ke,ti=function(){return[20]},ei=((Ke=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","name","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/hazardTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(E.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","name","phone","email","site","createdTime","updatedTime","action"],t.getAllHazardFormDataHistory()}):this.getAllHazardFormData()}},{key:"getAllHazardFormDataHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllHazardFormDataHistory(e,i,n).subscribe(function(e){console.log("res",e.data),t.showDatas=e.result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),console.log("this.showDatas",t.showDatas),t.dataSource=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteHazardFormData(t).subscribe(function(t){qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getAllHazardFormData()})})}},{key:"getAllHazardFormData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllHazardFormData(e,i).subscribe(function(e){console.log("res",e.data),t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),console.log("this.showDatas",t.showDatas),t.dataSource=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/hazardRep/"+t])}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}])}},{key:"sortData",value:function(t){this.isHistory?this.getAllHazardFormDataHistory(t.active,t.direction):this.getAllHazardFormData(t.active,t.direction)}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/hazardTable/history/hazardRep/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||Ke)(r.Ob(Q.a),r.Ob(u.f),r.Ob(v.c),r.Ob(V.a),r.Ob(u.a))},Ke.\u0275cmp=r.Ib({type:Ke,selectors:[["app-hazard-form-table-details"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d.a,!0),r.Sc(h.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.paginator=i.first),r.xc(i=r.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Mc(0,we,2,3,"div",0),r.Mc(1,De,2,2,"div",0),r.Ub(2,"div",1),r.Mc(3,Ue,2,0,"h1",2),r.Mc(4,Ce,2,0,"h1",2),r.Tb(),r.Ub(5,"div",3),r.Ub(6,"table",4),r.ec("matSortChange",function(t){return e.sortData(t)}),r.Sb(7,5),r.Mc(8,Me,2,0,"th",6),r.Mc(9,ke,2,1,"td",7),r.Rb(),r.Sb(10,8),r.Mc(11,Se,2,0,"th",6),r.Mc(12,Ie,2,1,"td",7),r.Rb(),r.Sb(13,9),r.Mc(14,Be,2,0,"th",6),r.Mc(15,Re,2,1,"td",7),r.Rb(),r.Sb(16,10),r.Mc(17,He,2,0,"th",11),r.Mc(18,Ae,2,1,"td",7),r.Rb(),r.Sb(19,12),r.Mc(20,Pe,2,0,"th",11),r.Mc(21,xe,2,1,"td",7),r.Rb(),r.Sb(22,13),r.Mc(23,Fe,2,0,"th",11),r.Mc(24,qe,2,1,"td",7),r.Rb(),r.Sb(25,14),r.Mc(26,$e,2,0,"th",11),r.Mc(27,Le,3,4,"td",7),r.Rb(),r.Sb(28,15),r.Mc(29,Ne,2,0,"th",11),r.Mc(30,ze,3,4,"td",7),r.Rb(),r.Sb(31,16),r.Mc(32,_e,2,0,"th",11),r.Mc(33,je,3,4,"td",7),r.Rb(),r.Sb(34,17),r.Mc(35,Ee,2,0,"th",11),r.Mc(36,Qe,3,4,"td",7),r.Rb(),r.Sb(37,18),r.Mc(38,Ve,2,0,"th",11),r.Mc(39,Ye,3,2,"td",7),r.Rb(),r.Mc(40,Ze,1,0,"tr",19),r.Mc(41,Ge,1,0,"tr",20),r.Mc(42,Xe,3,0,"tr",21),r.Tb(),r.Pb(43,"mat-paginator",22),r.Tb()),2&t&&(r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("dataSource",e.dataSource),r.Bb(34),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(8,ti)))},directives:[l.n,f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,u.g,f.d,h.b,f.a,w.a,u.h,f.f,f.i],pipes:[l.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),Ke),ii=function(t){return[t]};function ni(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.uc(1,ii,"/admin/forms/fillConfigForm/0"))}var oi=function(){return["/admin/forms/incidentsTable"]};function ai(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,oi))}function ci(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Accident Report List"),r.Tb())}function ri(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Accident Report Form Histroy List"),r.Tb())}function si(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Version "),r.Tb())}function li(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.version)}}function mi(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Form Id "),r.Tb())}function ui(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.formId)}}function bi(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Project Name "),r.Tb())}function di(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.projectName)}}function fi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Customer Name"),r.Tb())}function hi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.customerName)}}function pi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Email"),r.Tb())}function vi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.customerEmail," ")}}function gi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Site Name"),r.Tb())}function Ti(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.siteName," ")}}function yi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function wi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdAt,"medium")," ")}}function Oi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function Di(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedAt,"medium")," ")}}function Ui(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function Ci(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdTime,"medium")," ")}}function Mi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function ki(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedTime,"medium")," ")}}function Si(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Action "),r.Tb())}function Ii(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",30),r.Ub(1,"span",31),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().edit(t._id)}),r.Oc(2," edit "),r.Tb(),r.Ub(3,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().printPage(t._id)}),r.Oc(4," print "),r.Tb(),r.Ub(5,"span",33),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().delete(t._id)}),r.Oc(6," delete "),r.Tb(),r.Ub(7,"span",34),r.Oc(8," history "),r.Tb(),r.Tb()}if(2&t){var n=r.ic().$implicit;r.Bb(7),r.qc("routerLink",r.uc(1,ii,"/admin/forms/incidentsTable/history/"+n._id))}}function Bi(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",35),r.Ub(1,"span",36),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().view(t._id)}),r.Oc(2," visibility "),r.Tb(),r.Tb()}}function Ri(t,e){if(1&t&&(r.Ub(0,"td",26),r.Mc(1,Ii,9,3,"div",28),r.Mc(2,Bi,3,0,"div",29),r.Tb()),2&t){var i=r.ic();r.Bb(1),r.qc("ngIf",!i.isHistory),r.Bb(1),r.qc("ngIf",i.isHistory)}}function Hi(t,e){1&t&&r.Pb(0,"tr",37)}function Ai(t,e){1&t&&r.Pb(0,"tr",38)}function Pi(t,e){1&t&&(r.Ub(0,"tr",39),r.Ub(1,"td",40),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var xi,Fi=function(){return[20]},qi=((xi=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.shared=o,this.spinner=a,this.activatedRoute=c,this.displayedColumns=["formId","projectName","customerName","Email","Site","createdAt","updatedAt","Action"],this.isHistory=!1}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/incidentsTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(E.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","projectName","customerName","Email","Site","createdTime","updatedTime","Action"],t.getIncidentReportHistory()}):this.getIncidentReport()}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/incidentsTable/history/incidentRep/"+t],{queryParams:{returnTo:this.router.url}})}},{key:"getIncidentReportHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllIncidentHistory(e,i,n).subscribe(function(e){t.showDatas=e.data[0].result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteIncidentReport(t).subscribe(function(t){console.log("deleted",t),qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getIncidentReport()})})}},{key:"getIncidentReport",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllIncidentReport(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/incidentRep/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getIncidentReportHistory(t.active,t.direction):this.getIncidentReport(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}])}}]),e}()).\u0275fac=function(t){return new(t||xi)(r.Ob(Q.a),r.Ob(u.f),r.Ob(V.a),r.Ob(v.c),r.Ob(u.a))},xi.\u0275cmp=r.Ib({type:xi,selectors:[["app-incidents-table"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d.a,!0),r.Sc(h.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.paginator=i.first),r.xc(i=r.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","projectName"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["div","","style","display: flex; justify-content: space-around;",4,"ngIf"],["style","display: flex; justify-content: space-around;",4,"ngIf"],["div","",2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","Delete","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],[2,"display","flex","justify-content","space-around"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Mc(0,ni,2,3,"div",0),r.Mc(1,ai,2,2,"div",0),r.Ub(2,"div",1),r.Mc(3,ci,2,0,"h1",2),r.Mc(4,ri,2,0,"h1",2),r.Tb(),r.Ub(5,"div",3),r.Ub(6,"table",4),r.ec("matSortChange",function(t){return e.sortData(t)}),r.Sb(7,5),r.Mc(8,si,2,0,"th",6),r.Mc(9,li,2,1,"td",7),r.Rb(),r.Sb(10,8),r.Mc(11,mi,2,0,"th",6),r.Mc(12,ui,2,1,"td",7),r.Rb(),r.Sb(13,9),r.Mc(14,bi,2,0,"th",6),r.Mc(15,di,2,1,"td",7),r.Rb(),r.Sb(16,10),r.Mc(17,fi,2,0,"th",11),r.Mc(18,hi,2,1,"td",7),r.Rb(),r.Sb(19,12),r.Mc(20,pi,2,0,"th",11),r.Mc(21,vi,2,1,"td",7),r.Rb(),r.Sb(22,13),r.Mc(23,gi,2,0,"th",11),r.Mc(24,Ti,2,1,"td",7),r.Rb(),r.Sb(25,14),r.Mc(26,yi,2,0,"th",11),r.Mc(27,wi,3,4,"td",7),r.Rb(),r.Sb(28,15),r.Mc(29,Oi,2,0,"th",11),r.Mc(30,Di,3,4,"td",7),r.Rb(),r.Sb(31,16),r.Mc(32,Ui,2,0,"th",11),r.Mc(33,Ci,3,4,"td",7),r.Rb(),r.Sb(34,17),r.Mc(35,Mi,2,0,"th",11),r.Mc(36,ki,3,4,"td",7),r.Rb(),r.Sb(37,18),r.Mc(38,Si,2,0,"th",11),r.Mc(39,Ri,3,2,"td",7),r.Rb(),r.Mc(40,Hi,1,0,"tr",19),r.Mc(41,Ai,1,0,"tr",20),r.Mc(42,Pi,3,0,"tr",21),r.Tb(),r.Pb(43,"mat-paginator",22),r.Tb()),2&t&&(r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("dataSource",e.tempArray),r.Bb(34),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(8,Fi)))},directives:[l.n,f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,u.g,f.d,h.b,f.a,w.a,u.h,f.f,f.i],pipes:[l.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),xi),$i=function(t){return[t]};function Li(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.uc(1,$i,"/admin/forms/fillConfigForm/0"))}var Ni=function(){return["/admin/forms/riskAssessTable"]};function zi(t,e){1&t&&(r.Ub(0,"div",23),r.Pb(1,"i",24),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,Ni))}function _i(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Risk Assessment List"),r.Tb())}function ji(t,e){1&t&&(r.Ub(0,"h1"),r.Oc(1," Risk Assessment History List"),r.Tb())}function Ei(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Version "),r.Tb())}function Qi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.version)}}function Vi(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Form Id "),r.Tb())}function Wi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.formId)}}function Ji(t,e){1&t&&(r.Ub(0,"th",25),r.Oc(1," Name "),r.Tb())}function Yi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.customerName)}}function Zi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Phone"),r.Tb())}function Gi(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Pc(i.custConct)}}function Xi(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Email"),r.Tb())}function Ki(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.custEmail," ")}}function tn(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Site Name"),r.Tb())}function en(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",i.siteName," ")}}function nn(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function on(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdAt,"medium")," ")}}function an(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function cn(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedAt,"medium")," ")}}function rn(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Created Date"),r.Tb())}function sn(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.createdTime,"medium")," ")}}function ln(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1,"Updated Date"),r.Tb())}function mn(t,e){if(1&t&&(r.Ub(0,"td",26),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){var i=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,i.updatedTime,"medium")," ")}}function un(t,e){1&t&&(r.Ub(0,"th",27),r.Oc(1," Action "),r.Tb())}function bn(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",30),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().edit(t._id)}),r.Oc(2," edit "),r.Tb(),r.Ub(3,"span",31),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().printPage(t._id)}),r.Oc(4," print "),r.Tb(),r.Ub(5,"span",32),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().delete(t)}),r.Oc(6," delete "),r.Tb(),r.Ub(7,"span",33),r.Oc(8," history "),r.Tb(),r.Tb()}if(2&t){var n=r.ic().$implicit;r.Bb(7),r.qc("routerLink",r.uc(1,$i,"/admin/forms/riskAssessTable/history/"+n._id))}}function dn(t,e){if(1&t){var i=r.Vb();r.Ub(0,"div",29),r.Ub(1,"span",34),r.ec("click",function(){r.Cc(i);var t=r.ic().$implicit;return r.ic().view(t._id)}),r.Oc(2," visibility "),r.Tb(),r.Tb()}}function fn(t,e){if(1&t&&(r.Ub(0,"td",26),r.Mc(1,bn,9,3,"div",28),r.Mc(2,dn,3,0,"div",28),r.Tb()),2&t){var i=r.ic();r.Bb(1),r.qc("ngIf",!i.isHistory),r.Bb(1),r.qc("ngIf",i.isHistory)}}function hn(t,e){1&t&&r.Pb(0,"tr",35)}function pn(t,e){1&t&&r.Pb(0,"tr",36)}function vn(t,e){1&t&&(r.Ub(0,"tr",37),r.Ub(1,"td",38),r.Oc(2,"Data Not Found "),r.Tb(),r.Tb())}var gn,Tn,yn,wn=function(){return[20]},On=((gn=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/riskAssessTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(E.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getAssesmentHistory()}):this.getAssesment()}},{key:"getAssesmentHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllassessmetHistory(e,i,n).subscribe(function(e){t.showDatas=e.result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.customerName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&(e.spinner.show(),e.logicalFormInfo.deleteAssessment(t._id).subscribe(function(i){qt.a.fire({title:'"'.concat(t.customerName,'"? Deleted successfully'),showConfirmButton:!1,timer:1200}),e.getAssesment(),e.spinner.hide()}))})}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}])}},{key:"getAssesment",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllassessmet(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new f.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){localStorage.setItem("key"," "),this.router.navigate(["/admin/forms/riskAssessSWMS/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getAssesmentHistory(t.active,t.direction):this.getAssesment(t.active,t.direction)}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/riskAssessTable/history/riskAssessSWMS/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||gn)(r.Ob(Q.a),r.Ob(u.f),r.Ob(v.c),r.Ob(V.a),r.Ob(u.a))},gn.\u0275cmp=r.Ib({type:gn,selectors:[["app-risk-assesment-table"]],viewQuery:function(t,e){var i;1&t&&(r.Sc(d.a,!0),r.Sc(h.a,!0)),2&t&&(r.xc(i=r.fc())&&(e.paginator=i.first),r.xc(i=r.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(r.Mc(0,Li,2,3,"div",0),r.Mc(1,zi,2,2,"div",0),r.Ub(2,"div",1),r.Mc(3,_i,2,0,"h1",2),r.Mc(4,ji,2,0,"h1",2),r.Tb(),r.Ub(5,"div",3),r.Ub(6,"table",4),r.ec("matSortChange",function(t){return e.sortData(t)}),r.Sb(7,5),r.Mc(8,Ei,2,0,"th",6),r.Mc(9,Qi,2,1,"td",7),r.Rb(),r.Sb(10,8),r.Mc(11,Vi,2,0,"th",6),r.Mc(12,Wi,2,1,"td",7),r.Rb(),r.Sb(13,9),r.Mc(14,Ji,2,0,"th",6),r.Mc(15,Yi,2,1,"td",7),r.Rb(),r.Sb(16,10),r.Mc(17,Zi,2,0,"th",11),r.Mc(18,Gi,2,1,"td",7),r.Rb(),r.Sb(19,12),r.Mc(20,Xi,2,0,"th",11),r.Mc(21,Ki,2,1,"td",7),r.Rb(),r.Sb(22,13),r.Mc(23,tn,2,0,"th",11),r.Mc(24,en,2,1,"td",7),r.Rb(),r.Sb(25,14),r.Mc(26,nn,2,0,"th",11),r.Mc(27,on,3,4,"td",7),r.Rb(),r.Sb(28,15),r.Mc(29,an,2,0,"th",11),r.Mc(30,cn,3,4,"td",7),r.Rb(),r.Sb(31,16),r.Mc(32,rn,2,0,"th",11),r.Mc(33,sn,3,4,"td",7),r.Rb(),r.Sb(34,17),r.Mc(35,ln,2,0,"th",11),r.Mc(36,mn,3,4,"td",7),r.Rb(),r.Sb(37,18),r.Mc(38,un,2,0,"th",11),r.Mc(39,fn,3,2,"td",7),r.Rb(),r.Mc(40,hn,1,0,"tr",19),r.Mc(41,pn,1,0,"tr",20),r.Mc(42,vn,3,0,"tr",21),r.Tb(),r.Pb(43,"mat-paginator",22),r.Tb()),2&t&&(r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("ngIf",!e.isHistory),r.Bb(1),r.qc("ngIf",e.isHistory),r.Bb(2),r.qc("dataSource",e.tempArray),r.Bb(34),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(2),r.qc("pageSizeOptions",r.tc(8,wn)))},directives:[l.n,f.k,h.a,f.c,f.e,f.b,f.g,f.j,f.h,d.a,u.g,f.d,h.b,f.a,w.a,u.h,f.f,f.i],pipes:[l.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),gn),Dn=[{path:"",component:z},{path:"forms",component:z},{path:"siteInspect/:id",component:Pt.a},{path:"toolboxTalk/:id",component:xt.a},{path:"hazardRep/:id",component:Rt.a},{path:"incidentRep/:id",component:Ht.a},{path:"riskAssessSWMS/:id",component:At.a},{path:"riskAssessTable",component:On},{path:"tableData",component:Bt},{path:"tableData/history/:id",component:Bt},{path:"tableData/history/:id",component:Bt},{path:"riskAssessTable/history/:id",component:On},{path:"siteinspectiontable/history/:id",component:Te},{path:"hazardTable/history/:id",component:ei},{path:"incidentsTable/history/:id",component:qi},{path:"tableData/history/toolboxTalk/:id",component:xt.a},{path:"riskAssessTable/history/riskAssessSWMS/:id",component:At.a},{path:"siteinspectiontable/history/siteInspect/:id",component:Pt.a},{path:"hazardTable/history/hazardRep/:id",component:Rt.a},{path:"incidentsTable/history/incidentRep/:id",component:Ht.a},{path:"siteinspectiontable",component:Te},{path:"hazardTable",component:ei},{path:"incidentsTable",component:qi},{path:"fillConfigForm/:index",component:j}],Un=((Tn=function e(){t(this,e)}).\u0275mod=r.Mb({type:Tn}),Tn.\u0275inj=r.Lb({factory:function(t){return new(t||Tn)},imports:[[u.j.forChild(Dn)],u.j]}),Tn),Cn=o("HnZm"),Mn=o("PCNd"),kn=o("zioG"),Sn=o("tk/3"),In=o("0SJk"),Bn=o("kY4h"),Rn=o("6bhV"),Hn=o("qFsG"),An=o("iadO"),Pn=o("tZ2A"),xn=o("x+4y"),Fn=((yn=function e(){t(this,e)}).\u0275mod=r.Mb({type:yn}),yn.\u0275inj=r.Lb({factory:function(t){return new(t||yn)},providers:[s,{provide:Sn.a,useClass:In.a,multi:!0}],imports:[[l.c,c.a,Un,T.y,Cn.b,Mn.a,T.m,kn.b,Bn.b,Rn.b,m.b,Hn.c,An.c,Pn.DynamicFormModule,xn.a,O.a,w.b]]}),yn)}}])}();