(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"3qhI":function(e,t,i){"use strict";i.r(t),i.d(t,"ConfiLogiModule",function(){return Dt});var a=i("bTqV"),o=i("NFeN"),l=i("ofXK"),n=i("PCNd"),s=i("3Pt+"),c=i("PSD3"),r=i.n(c),b=i("0IaG"),d=i("fXoL"),u=i("wbBK"),f=i("kmnG"),m=i("qFsG");function h(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add High Risk Construction parameter"),d.Tb())}function g(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add PPE"),d.Tb())}function p(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Licence "),d.Tb())}function T(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Identify Hazards "),d.Tb())}function v(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Risk Level"),d.Tb())}function k(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Control Action Required"),d.Tb())}function C(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Residual Risk"),d.Tb())}function J(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Person Responsible "),d.Tb())}function R(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Add Code of Practice "),d.Tb())}let U=(()=>{class e{constructor(e,t,i,a){this.fb=e,this.logicalFormInfo=t,this.dialogRef=i,this.data=a,this.dataRec=a}ngOnInit(){console.log(this.dataRec),this.addItem=this.fb.group({title:["",s.A.required]})}onFormSubmit(){let e={title:this.addItem.get("title").value};switch(this.dataRec.type){case"highRisk":this.addHighRisk(e);break;case"ppe":this.addPPE(e);break;case"licence":this.addLicence(e);break;case"identifyHazards":this.addHazard(e);break;case"codeOfPract":this.addCOP(e);break;case"riskLevel":this.addRiskLevel(e);break;case"ctrlActreq":this.addControlActReq(e);break;case"resRiskLevel":this.addResidRiskLevel(e);break;case"perResbl":this.addStaff(e)}}closeDialog(){this.dialogRef.close("false")}addHighRisk(e){this.logicalFormInfo.addRisk(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("highRisk"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addPPE(e){this.logicalFormInfo.addPPE(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("ppe"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addRiskLevel(e){this.logicalFormInfo.addRiskLevel(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("riskLevel"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addResidRiskLevel(e){this.logicalFormInfo.addResidual(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("resRiskLevel"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addHazard(e){this.logicalFormInfo.addHazards(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("identifyHazards"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addLicence(e){this.logicalFormInfo.addLicence({title:e.title,tradeCategoryId:this.dataRec.tradeCategoryId}).subscribe(e=>{console.log("resData",e),this.dialogRef.close("licence"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addControlActReq(e){this.logicalFormInfo.addContrlActReq(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("ctrlActreq"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addStaff(e){this.logicalFormInfo.addStaff(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("perResbl"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addCOP(e){this.logicalFormInfo.addCode(e).subscribe(e=>{console.log("resData",e),this.dialogRef.close("codeOfPract"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(s.f),d.Ob(u.a),d.Ob(b.e),d.Ob(b.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-add-item"]],decls:20,vars:11,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(d.Ub(0,"form",0),d.Hc(1,h,2,0,"h2",1),d.Hc(2,g,2,0,"h2",1),d.Hc(3,p,2,0,"h2",1),d.Hc(4,T,2,0,"h2",1),d.Hc(5,v,2,0,"h2",1),d.Hc(6,k,2,0,"h2",1),d.Hc(7,C,2,0,"h2",1),d.Hc(8,J,2,0,"h2",1),d.Hc(9,R,2,0,"h2",1),d.Ub(10,"mat-form-field",2),d.Pb(11,"input",3),d.Tb(),d.Pb(12,"br"),d.Ub(13,"div",4),d.Ub(14,"div",5),d.Ub(15,"button",6),d.ec("click",function(){return t.closeDialog()}),d.Jc(16,"Close"),d.Tb(),d.Tb(),d.Ub(17,"div",7),d.Ub(18,"button",8),d.ec("click",function(){return t.onFormSubmit()}),d.Jc(19,"Add"),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.nc("formGroup",t.addItem),d.Bb(1),d.nc("ngIf","highRisk"===t.dataRec.type),d.Bb(1),d.nc("ngIf","ppe"===t.dataRec.type),d.Bb(1),d.nc("ngIf","licence"===t.dataRec.type),d.Bb(1),d.nc("ngIf","identifyHazards"===t.dataRec.type),d.Bb(1),d.nc("ngIf","riskLevel"===t.dataRec.type),d.Bb(1),d.nc("ngIf","ctrlActreq"===t.dataRec.type),d.Bb(1),d.nc("ngIf","resRiskLevel"===t.dataRec.type),d.Bb(1),d.nc("ngIf","perResbl"===t.dataRec.type),d.Bb(1),d.nc("ngIf","codeOfPract"===t.dataRec.type),d.Bb(9),d.nc("disabled",!t.addItem.valid))},directives:[s.C,s.r,s.k,l.n,f.b,m.b,s.d,s.q,s.i,a.a],styles:[""]}),e})();var A=i("tyNb"),P=i("d3UM"),y=i("FKr1");function I(e,t){if(1&e){const e=d.Vb();d.Ub(0,"p",13),d.ec("click",function(){d.yc(e);const i=t.index;return d.ic().handleClick(i)}),d.Pb(1,"i",14),d.Ub(2,"span",15),d.Jc(3),d.Tb(),d.Tb()}if(2&e){const e=t.$implicit,i=t.index,a=d.ic();d.Gb("active",a.stepperList[i].i),d.Bb(3),d.Kc(e.name)}}function D(e,t){if(1&e){const e=d.Vb();d.Ub(0,"span",21),d.ec("click",function(){d.yc(e);const t=d.ic().$implicit;return d.ic().addItem(t.code)}),d.Jc(1,"add_circle_outline"),d.Tb()}}function H(e,t){1&e&&d.Qb(0)}const L=function(e){return{name:e}};function w(e,t){if(1&e&&(d.Ub(0,"div",16),d.Ub(1,"h2",17),d.Jc(2),d.Hc(3,D,2,0,"span",18),d.Tb(),d.Ub(4,"p",19),d.Hc(5,H,1,0,"ng-container",20),d.Tb(),d.Pb(6,"div"),d.Tb()),2&e){const e=t.$implicit,i=t.index,a=d.ic(),o=d.vc(15);d.Gb("active",a.stepperList[i].i)("show",a.stepperList[i].i),d.Bb(2),d.Kc(e.name),d.Bb(1),d.nc("ngIf",e.code),d.Bb(2),d.nc("ngTemplateOutlet",o)("ngTemplateOutletContext",d.rc(8,L,e.name))}}function O(e,t){1&e&&d.Pb(0,"span",34)}function B(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function N(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function S(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc(" ",e.title,"")}}function F(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",27),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label",30),d.Jc(5,"HighRiskConstruction"),d.Tb(),d.Ub(6,"mat-select",31),d.Ub(7,"mat-select-trigger"),d.Hc(8,O,1,0,"span",32),d.Hc(9,B,2,0,"span",32),d.Hc(10,N,2,0,"span",32),d.Tb(),d.Hc(11,S,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("highRiskConstr").value&&e.JobTaskDetail.get("highRiskConstr").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("highRiskConstr").value?null:e.JobTaskDetail.get("highRiskConstr").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("highRiskConstr").value?null:e.JobTaskDetail.get("highRiskConstr").value.length)>1),d.Bb(1),d.nc("ngForOf",e.highRiskConstructionData)}}function x(e,t){1&e&&d.Pb(0,"span",34)}function E(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function _(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function j(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function q(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"PPE selection"),d.Tb(),d.Ub(6,"mat-select",37),d.Ub(7,"mat-select-trigger"),d.Hc(8,x,1,0,"span",32),d.Hc(9,E,2,0,"span",32),d.Hc(10,_,2,0,"span",32),d.Tb(),d.Hc(11,j,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("PPE").value&&e.JobTaskDetail.get("PPE").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("PPE").value?null:e.JobTaskDetail.get("PPE").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("PPE").value?null:e.JobTaskDetail.get("PPE").value.length)>1),d.Bb(1),d.nc("ngForOf",e.PPESelectionData)}}function z(e,t){1&e&&d.Pb(0,"span",34)}function M(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function V(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function $(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function W(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Licences"),d.Tb(),d.Ub(6,"mat-select",38),d.Ub(7,"mat-select-trigger"),d.Hc(8,z,1,0,"span",32),d.Hc(9,M,2,0,"span",32),d.Hc(10,V,2,0,"span",32),d.Tb(),d.Hc(11,$,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("LicenceCat").value&&e.JobTaskDetail.get("LicenceCat").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("LicenceCat").value?null:e.JobTaskDetail.get("LicenceCat").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("LicenceCat").value?null:e.JobTaskDetail.get("LicenceCat").value.length)>1),d.Bb(1),d.nc("ngForOf",e.licenceByTradecat)}}function G(e,t){1&e&&d.Pb(0,"span",34)}function Q(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function K(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function Y(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function X(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Identify Hazards"),d.Tb(),d.Ub(6,"mat-select",39),d.Ub(7,"mat-select-trigger"),d.Hc(8,G,1,0,"span",32),d.Hc(9,Q,2,0,"span",32),d.Hc(10,K,2,0,"span",32),d.Tb(),d.Hc(11,Y,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("identifyHazrds").value&&e.JobTaskDetail.get("identifyHazrds").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("identifyHazrds").value?null:e.JobTaskDetail.get("identifyHazrds").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("identifyHazrds").value?null:e.JobTaskDetail.get("identifyHazrds").value.length)>1),d.Bb(1),d.nc("ngForOf",e.allHazards)}}function Z(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc(" ",e.title," ")}}function ee(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Risk Level"),d.Tb(),d.Ub(6,"mat-select",40),d.Hc(7,Z,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(7),d.nc("ngForOf",e.riskLevelData)}}function te(e,t){1&e&&d.Pb(0,"span",34)}function ie(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function ae(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function oe(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function le(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Control Action Required"),d.Tb(),d.Ub(6,"mat-select",41),d.Ub(7,"mat-select-trigger"),d.Hc(8,te,1,0,"span",32),d.Hc(9,ie,2,0,"span",32),d.Hc(10,ae,2,0,"span",32),d.Tb(),d.Hc(11,oe,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("contrActReq").value&&e.JobTaskDetail.get("contrActReq").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("contrActReq").value?null:e.JobTaskDetail.get("contrActReq").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("contrActReq").value?null:e.JobTaskDetail.get("contrActReq").value.length)>1),d.Bb(1),d.nc("ngForOf",e.allContrlActReq)}}function ne(e,t){1&e&&d.Pb(0,"span",34)}function se(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function ce(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function re(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function be(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Code of Practice"),d.Tb(),d.Ub(6,"mat-select",42),d.Ub(7,"mat-select-trigger"),d.Hc(8,ne,1,0,"span",32),d.Hc(9,se,2,0,"span",32),d.Hc(10,ce,2,0,"span",32),d.Tb(),d.Hc(11,re,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("codeOfPract").value&&e.JobTaskDetail.get("codeOfPract").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("codeOfPract").value?null:e.JobTaskDetail.get("codeOfPract").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("codeOfPract").value?null:e.JobTaskDetail.get("codeOfPract").value.length)>1),d.Bb(1),d.nc("ngForOf",e.allCodeOfPract)}}function de(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc(" ",e.title," ")}}function ue(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",28),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Residule Risk Level"),d.Tb(),d.Ub(6,"mat-select",43),d.Hc(7,de,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(7),d.nc("ngForOf",e.resiRiskLevelData)}}function fe(e,t){1&e&&(d.Sb(0),d.Ub(1,"div",36),d.Ub(2,"div",44),d.Ub(3,"div",45),d.Pb(4,"input",46),d.Ub(5,"label",47),d.Jc(6,"Yes"),d.Tb(),d.Tb(),d.Ub(7,"div",45),d.Pb(8,"input",48),d.Ub(9,"label",49),d.Jc(10,"No"),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Rb())}function me(e,t){1&e&&d.Pb(0,"span",34)}function he(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," One Item selected "),d.Tb())}function ge(e,t){1&e&&(d.Ub(0,"span",34),d.Jc(1," More than one selected "),d.Tb())}function pe(e,t){if(1&e&&(d.Ub(0,"mat-option",35),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Lc("",e.title," ")}}function Te(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",56),d.ec("click",function(){return d.yc(e),d.ic(3).setRelation()}),d.Jc(1," Set "),d.Tb()}}function ve(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",56),d.ec("click",function(){return d.yc(e),d.ic(3).setRelation()}),d.Jc(1," Update "),d.Tb()}}function ke(e,t){if(1&e&&(d.Sb(0),d.Ub(1,"div",50),d.Ub(2,"div",51),d.Ub(3,"mat-form-field",29),d.Ub(4,"mat-label"),d.Jc(5,"Person Responsible"),d.Tb(),d.Ub(6,"mat-select",52),d.Ub(7,"mat-select-trigger"),d.Hc(8,me,1,0,"span",32),d.Hc(9,he,2,0,"span",32),d.Hc(10,ge,2,0,"span",32),d.Tb(),d.Hc(11,pe,2,2,"mat-option",33),d.Tb(),d.Tb(),d.Tb(),d.Pb(12,"div",53),d.Tb(),d.Ub(13,"div",54),d.Hc(14,Te,2,0,"button",55),d.Hc(15,ve,2,0,"button",55),d.Tb(),d.Rb()),2&e){const e=d.ic(2);d.Bb(8),d.nc("ngIf",!(null!=e.JobTaskDetail.get("personResp").value&&e.JobTaskDetail.get("personResp").value.length)),d.Bb(1),d.nc("ngIf",1==(null==e.JobTaskDetail.get("personResp").value?null:e.JobTaskDetail.get("personResp").value.length)),d.Bb(1),d.nc("ngIf",(null==e.JobTaskDetail.get("personResp").value?null:e.JobTaskDetail.get("personResp").value.length)>1),d.Bb(1),d.nc("ngForOf",e.staff),d.Bb(3),d.nc("ngIf",!(null!=e.jobTask&&e.jobTask.set)),d.Bb(1),d.nc("ngIf",null==e.jobTask?null:e.jobTask.set)}}function Ce(e,t){if(1&e){const e=d.Vb();d.Hc(0,F,12,4,"ng-container",22),d.Hc(1,q,12,4,"ng-container",22),d.Hc(2,W,12,4,"ng-container",22),d.Hc(3,X,12,4,"ng-container",22),d.Hc(4,ee,8,1,"ng-container",22),d.Hc(5,le,12,4,"ng-container",22),d.Hc(6,be,12,4,"ng-container",22),d.Hc(7,ue,8,1,"ng-container",22),d.Hc(8,fe,11,0,"ng-container",22),d.Hc(9,ke,16,6,"ng-container",22),d.Ub(10,"div",23),d.Ub(11,"button",24),d.ec("click",function(){return d.yc(e),d.ic().prev()}),d.Pb(12,"i",25),d.Tb(),d.Ub(13,"button",24),d.ec("click",function(){return d.yc(e),d.ic().next()}),d.Pb(14,"i",26),d.Tb(),d.Tb()}if(2&e){const e=t.name;d.nc("ngIf",e.toLowerCase()=="HighRisk Construction".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="PPE".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Licence".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Identify Hazards".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Risk Level".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Control Action Required".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Code of Practice".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Residule Risk Level".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Chemical related Task".toLowerCase()),d.Bb(1),d.nc("ngIf",e.toLowerCase()=="Person Responsible".toLowerCase())}}const Je=function(){return["/admin/confiLogi/setLogic"]};let Re=(()=>{class e{constructor(e,t,i,a,o){this.route=e,this.dialog=t,this.router=i,this.fb=a,this.logicalFormInfo=o,this.jobTask=null,this.highRiskConstructionData=[],this.PPESelectionData=[],this.licenseAndQual=[],this.allHazards=[],this.allContrlActReq=[],this.licenceByTradecat=[],this.resiRiskLevelData=[],this.riskLevelData=[],this.staff=[],this.allCodeOfPract=[],this.isLinear=!1,this.jobTaskId=null,this.stepperList=[{name:"HighRisk Construction",i:1,code:"highRisk"},{name:"PPE",i:0,code:"ppe"},{name:"Licence",i:0,code:"licence"},{name:"Identify Hazards",i:0,code:"identifyHazards"},{name:"Risk Level",i:0,code:"riskLevel"},{name:"Control Action Required",i:0,code:"ctrlActreq"},{name:"Code of Practice",i:0,code:"codeOfPract"},{name:"Residule Risk Level",i:0,code:"resRiskLevel"},{name:"Chemical related Task",i:0,code:""},{name:"Person Responsible",i:0,code:"perResbl"}],this.count=0}ngOnInit(){this.JobTaskDetail=this.fb.group({highRiskConstr:[],PPE:[],codeOfPract:[],LicenceCat:[],identifyHazrds:[],contrActReq:[],riskLevel:[],residualRiskL:[],personResp:[],chemical:[]}),this.route.queryParams.subscribe(e=>{console.log(e),this.jobTaskId=e.id,this.logicalFormInfo.getJobtaskById(e.id).subscribe(e=>{var t;this.jobTask=e.data,console.log("this.jobTask ",this.jobTask),this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),1==this.jobTask.set&&this.JobTaskDetail.patchValue({highRiskConstr:this.jobTask.risk,PPE:this.jobTask.PPE,codeOfPract:this.jobTask.codeOfPractice,LicenceCat:this.jobTask.licence,identifyHazrds:this.jobTask.identifyHazard,contrActReq:this.jobTask.controlActionRequired,riskLevel:this.jobTask.riskLevel,residualRiskL:this.jobTask.residualRisk,personResp:this.jobTask.staff,chemical:this.jobTask.chemical}),"YES"===(null===(t=this.jobTask)||void 0===t?void 0:t.chemical)?this.JobTaskDetail.get("chemical").setValue("YES"):this.JobTaskDetail.get("chemical").setValue("NO")})}),this.getAllHighRisk(),this.getAllPPE(),this.getAllHazard(),this.getAllContrActReq(),this.getAllStaff(),this.getAllResidualRiskLevel(),this.getAllRiskLevel(),this.getAllCodeOfPractice()}getAllResidualRiskLevel(){this.logicalFormInfo.getAllResidual().subscribe(e=>{this.resiRiskLevelData=e.data})}getAllRiskLevel(){this.logicalFormInfo.getAllRiskLevel().subscribe(e=>{this.riskLevelData=e.data})}getAllStaff(){this.logicalFormInfo.getAllStaff().subscribe(e=>{console.log(e),this.staff=e.data})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(e=>{this.highRiskConstructionData=e.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(e=>{this.PPESelectionData=e.data})}getAllCodeOfPractice(){this.logicalFormInfo.getAllCOP().subscribe(e=>{this.allCodeOfPract=e.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(e=>{this.allHazards=e.data})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(e=>{this.allContrlActReq=e.data})}getLicenceByTradeCat(e){console.log("getLicenceByTradeCat",e),this.logicalFormInfo.getLicenceByTradeCat(e).subscribe(e=>{this.licenceByTradecat=e.data.licenceData})}setRelation(){console.log(this.JobTaskDetail.value);let e=[],t=this.JobTaskDetail.get("contrActReq").value;null!=t&&this.allContrlActReq.forEach(i=>{t.forEach(t=>{i._id===t&&e.push({title:i.title,id:i._id})})});let i=[],a=this.JobTaskDetail.get("identifyHazrds").value;null!=a&&this.allHazards.forEach(e=>{a.forEach(t=>{e._id===t&&i.push({title:e.title,id:e._id})})});let o=[],l=this.JobTaskDetail.get("codeOfPract").value;null!=l&&this.allCodeOfPract.forEach(e=>{l.forEach(t=>{e._id===t&&o.push({title:e.title,id:e._id})})});let n=[],s=this.JobTaskDetail.get("personResp").value;null!=s&&(console.log(s),this.staff.forEach(e=>{s.forEach(t=>{e._id===t&&n.push({title:e.title,id:e._id})})}));let c={title:this.jobTask.title,risk:this.JobTaskDetail.get("highRiskConstr").value||[],codeOfPractice:this.JobTaskDetail.get("codeOfPract").value||[],PPE:this.JobTaskDetail.get("PPE").value||[],tradeCategoryId:this.jobTask.tradeCategoryId,licence:this.JobTaskDetail.get("LicenceCat").value||[],identifyHazard:this.JobTaskDetail.get("identifyHazrds").value||[],controlActionRequired:this.JobTaskDetail.get("contrActReq").value||[],riskLevel:this.JobTaskDetail.get("riskLevel").value,residualRisk:this.JobTaskDetail.get("residualRiskL").value,staff:this.JobTaskDetail.get("personResp").value,chemical:this.JobTaskDetail.get("chemical").value,allHazardsTitle:i,allContrlActReqTitle:e,allCOPTitle:o,staffTitle:n,set:!0};console.log("send data",c),this.logicalFormInfo.updateJobTask(c,this.jobTaskId).subscribe(e=>{console.log("resJob Task=>",e),r.a.fire({title:"Relation set successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/confiLogi/setLogic"])})}addItem(e){let t={type:e,tradeCategoryId:this.jobTask.tradeCategoryId};t="licence"===e?{type:e,tradeCategoryId:this.jobTask.tradeCategoryId}:{type:e,tradeCategoryId:""},this.dialog.open(U,{width:"550px",data:t}).afterClosed().subscribe(e=>{switch(e){case"highRisk":{let e=this.JobTaskDetail.get("highRiskConstr").value;this.getAllHighRisk(),this.JobTaskDetail.get("highRiskConstr").patchValue(e);break}case"ppe":{let e=this.JobTaskDetail.get("PPE").value;this.getAllPPE(),this.JobTaskDetail.get("PPE").patchValue(e);break}case"codeOfPract":{let e=this.JobTaskDetail.get("codeOfPract").value;this.getAllCodeOfPractice(),this.JobTaskDetail.get("codeOfPract").patchValue(e);break}case"licence":{let e=this.JobTaskDetail.get("LicenceCat").value;this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),this.JobTaskDetail.get("LicenceCat").patchValue(e);break}case"identifyHazards":{let e=this.JobTaskDetail.get("identifyHazrds").value;this.getAllHazard(),this.JobTaskDetail.get("identifyHazrds").patchValue(e);break}case"riskLevel":{let e=this.JobTaskDetail.get("riskLevel").value;this.getAllRiskLevel(),this.JobTaskDetail.get("riskLevel").patchValue(e);break}case"ctrlActreq":{let e=this.JobTaskDetail.get("contrActReq").value;this.getAllContrActReq(),this.JobTaskDetail.get("contrActReq").patchValue(e);break}case"resRiskLevel":{let e=this.JobTaskDetail.get("residualRiskL").value;this.getAllResidualRiskLevel(),this.JobTaskDetail.get("residualRiskL").patchValue(e);break}case"perResbl":{let e=this.JobTaskDetail.get("personResp").value;this.getAllStaff(),this.JobTaskDetail.get("personResp").patchValue(e);break}}console.log("The dialog was closed")})}prev(){this.count!=this.stepperList.length+1&&0!=this.count&&(this.count--,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1)}next(){this.count!=this.stepperList.length-1&&(this.count++,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1)}handleClick(e){console.log(e),this.count=e,this.stepperList.map(e=>{e.i=0}),this.stepperList[this.count].i=1}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(A.a),d.Ob(b.b),d.Ob(A.f),d.Ob(s.f),d.Ob(u.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-set-relation"]],decls:16,vars:6,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,""],[1,"row"],[1,"col-md-3"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","nav-pills-custom"],["class","nav-link mb-3 p-3 shadow","id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-9"],["id","v-pills-tabContent",1,"tab-content"],["class","tab-pane fade shadow rounded bg-white p-5","id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",3,"active","show",4,"ngFor","ngForOf"],["let","","class","my-auto",3,"formGroup"],["test",""],["id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-link","mb-3","p-3","shadow",3,"click"],[1,"fa","fa-user-circle-o","mr-2"],[1,"font-weight-bold","small","text-uppercase"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","shadow","rounded","bg-white","p-5"],[1,"font-italic","mb-4"],["class","material-icons ml-3 my-auto p-0",3,"click",4,"ngIf"],[1,"font-italic","text-muted","mb-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"material-icons","ml-3","my-auto","p-0",3,"click"],[4,"ngIf"],[1,"buttons"],["mat-icon-button","",3,"click"],[1,"fas","fa-arrow-left",2,"font-size","25px"],[1,"fas","fa-arrow-right",2,"font-size","25px"],[1,"row","justify-content-center",2,"margin-top","auto"],[1,"col-7"],["appearance","fill",1,"container"],[1,"text-center"],["formControlName","highRiskConstr","multiple",""],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"example-additional-selection"],[3,"value"],[1,"row","justify-content-center"],["formControlName","PPE","multiple",""],["formControlName","LicenceCat","multiple",""],["formControlName","identifyHazrds","multiple",""],["formControlName","riskLevel"],["formControlName","contrActReq","multiple",""],["formControlName","codeOfPract","multiple",""],["formControlName","residualRiskL"],[1,"col-7","text-center"],[1,"form-check","form-check-inline"],["type","radio","value","YES","formControlName","chemical",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","value","NO","formControlName","chemical",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"row","justify-content-center","mt-3"],[1,"col-6"],["formControlName","personResp","multiple",""],[1,"col-1","my-auto"],[1,"text-center","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Pb(1,"i",1),d.Tb(),d.Ub(2,"div",2),d.Ub(3,"h2"),d.Jc(4),d.Tb(),d.Tb(),d.Ub(5,"section",3),d.Ub(6,"div",3),d.Ub(7,"div",4),d.Ub(8,"div",5),d.Ub(9,"div",6),d.Hc(10,I,4,3,"p",7),d.Tb(),d.Tb(),d.Ub(11,"div",8),d.Ub(12,"div",9),d.Hc(13,w,7,10,"div",10),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Tb(),d.Hc(14,Ce,15,10,"ng-template",11,12,d.Ic)),2&e&&(d.nc("routerLink",d.qc(5,Je)),d.Bb(4),d.Lc("Job Task :\xa0",null==t.jobTask?null:t.jobTask.title,""),d.Bb(6),d.nc("ngForOf",t.stepperList),d.Bb(3),d.nc("ngForOf",t.stepperList),d.Bb(1),d.nc("formGroup",t.JobTaskDetail))},directives:[A.g,l.m,s.r,s.k,l.n,l.s,a.a,f.b,f.e,P.a,s.q,s.i,P.c,y.m,s.w,s.d],styles:['@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css";@import "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#aaa;background:#fff;position:relative}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#45b649;background:#fff}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}@media (min-width:992px){.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";display:block;border-top:8px solid transparent;border-left:10px solid #fff;border-bottom:8px solid transparent;position:absolute;top:50%;right:-10px;transform:translateY(-50%);opacity:0}}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{opacity:1}body[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(270deg,#dce35b,#45b649)}']}),e})();function Ue(e,t){if(1&e&&(d.Ub(0,"option",23),d.jc(1,"json"),d.Jc(2),d.Tb()),2&e){const e=t.$implicit;d.nc("value",d.kc(1,2,e)),d.Bb(2),d.Kc(e.siteName)}}function Ae(e,t){if(1&e&&(d.Ub(0,"option",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Kc(e.title)}}function Pe(e,t){if(1&e&&(d.Ub(0,"option",23),d.jc(1,"json"),d.Jc(2),d.Tb()),2&e){const e=t.$implicit;d.nc("value",d.kc(1,2,e)),d.Bb(2),d.Kc(e.customerName)}}let ye=(()=>{class e{constructor(e,t,i,a){this.dialogRef=e,this.data=t,this.logicalFormInfoService=i,this.fb=a,this.allSites=[],this.allCustomers=[],this.allState=[]}ngAfterViewInit(){this.addJobNumberForm.get("siteName").valueChanges.subscribe(e=>{e=JSON.parse(e),this.addJobNumberForm.get("streetNumber").setValue(e.streetNumber),this.addJobNumberForm.get("streetAddress").setValue(e.streetAddress),this.addJobNumberForm.get("suburb").setValue(e.suburb),this.addJobNumberForm.get("state").setValue(e.stateId._id)}),this.addJobNumberForm.get("customerName").valueChanges.subscribe(e=>{var t,i;e=JSON.parse(e),this.addJobNumberForm.get("customerContact").setValue(e.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(t=e.contacts[0])||void 0===t?void 0:t.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(i=e.contacts[0])||void 0===i?void 0:i.email)})}ngOnInit(){this.addJobNumberForm=this.fb.group({siteName:["",s.A.required],streetNumber:[{value:"",disabled:!0},s.A.required],streetAddress:[{value:"",disabled:!0},s.A.required],suburb:[{value:"",disabled:!0},s.A.required],state:[{value:"",disabled:!0},s.A.required],customerName:["",s.A.required],customerContact:[{value:"",disabled:!0},s.A.required],customerContactPhone:[{value:"",disabled:!0},s.A.required],customerEmail:[{value:"",disabled:!0},s.A.required]}),this.logicalFormInfoService.getAllSite().subscribe(e=>{this.allSites=e.data,console.log(e.data)}),this.logicalFormInfoService.getAllCustomer().subscribe(e=>{this.allCustomers=e.data}),this.getAllStates()}get f(){return this.addJobNumberForm.controls}onSubmit(){let e;console.log(this.addJobNumberForm.value),e={arrObj:[{customerContact:this.f.customerContact.value,customerContactPhone:this.f.customerContactPhone.value,customerEmail:this.f.customerEmail.value,customerName:JSON.parse(this.f.customerName.value).customerName,siteName:JSON.parse(this.f.siteName.value).siteName,stateId:this.f.state.value,streetAddress:this.f.streetAddress.value,streetNumber:this.f.streetNumber.value,suburb:this.f.suburb.value}]},console.log(e),this.logicalFormInfoService.addJobNumber(e).subscribe(e=>{console.log(e),this.dialogRef.close("success")})}setSite(e){console.log(e),this.addJobNumberForm.get("streetNumber").setValue(e.streetNumber),this.addJobNumberForm.get("streetAddress").setValue(e.streetAddress),this.addJobNumberForm.get("suburb").setValue(e.suburb),this.addJobNumberForm.get("state").setValue(e.stateId._id)}setCustomer(e){var t,i;this.addJobNumberForm.get("customerContact").setValue(e.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(t=e.contacts[0])||void 0===t?void 0:t.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(i=e.contacts[0])||void 0===i?void 0:i.email)}close(){this.dialogRef.close()}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(e=>{console.log("getAllStates=>",e),this.allState=e.data})}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(b.e),d.Ob(b.a),d.Ob(u.a),d.Ob(s.f))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-create-job-no"]],decls:56,vars:5,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","25px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col-2"],["type","text","formControlName","streetNumber","id","siteName",1,"form-control"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","siteName",1,"form-control"],["type","text","formControlName","suburb","id","siteName",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[1,"my-3","col"],["type","text","formControlName","customerName","id","siteName",1,"form-control"],["type","text","id","siteName","formControlName","customerContact",1,"form-control"],["type","text","id","siteName","formControlName","customerContactPhone",1,"form-control"],["type","text","id","siteName","formControlName","customerEmail",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(e,t){1&e&&(d.Ub(0,"section",0),d.Ub(1,"div"),d.Ub(2,"div",1),d.Ub(3,"h1"),d.Jc(4,"Create Job Number"),d.Tb(),d.Ub(5,"button",2),d.ec("click",function(){return t.close()}),d.Ub(6,"span",3),d.Jc(7,"\xd7"),d.Tb(),d.Tb(),d.Tb(),d.Ub(8,"div",4),d.Ub(9,"div",5),d.Ub(10,"p",6),d.Jc(11,"Site Name"),d.Tb(),d.Ub(12,"select",7),d.Hc(13,Ue,3,4,"option",8),d.Tb(),d.Tb(),d.Tb(),d.Ub(14,"div",4),d.Ub(15,"div",9),d.Ub(16,"p",6),d.Jc(17,"Street Number"),d.Tb(),d.Pb(18,"input",10),d.Tb(),d.Ub(19,"div",11),d.Ub(20,"p",6),d.Jc(21,"Street Address"),d.Tb(),d.Pb(22,"input",12),d.Tb(),d.Ub(23,"div",9),d.Ub(24,"p",6),d.Jc(25,"Suburb"),d.Tb(),d.Pb(26,"input",13),d.Tb(),d.Ub(27,"div",11),d.Ub(28,"p",14),d.Jc(29,"State"),d.Tb(),d.Ub(30,"select",15),d.Ub(31,"option",16),d.Jc(32,"Select"),d.Tb(),d.Hc(33,Ae,2,2,"option",8),d.Tb(),d.Tb(),d.Tb(),d.Ub(34,"div",4),d.Ub(35,"div",17),d.Ub(36,"p",6),d.Jc(37,"Customer Name"),d.Tb(),d.Ub(38,"select",18),d.Hc(39,Pe,3,4,"option",8),d.Tb(),d.Tb(),d.Ub(40,"div",17),d.Ub(41,"p",6),d.Jc(42,"Customer Contact"),d.Tb(),d.Pb(43,"input",19),d.Tb(),d.Tb(),d.Ub(44,"div",4),d.Ub(45,"div",17),d.Ub(46,"p",6),d.Jc(47,"Customer Contact Phone"),d.Tb(),d.Pb(48,"input",20),d.Tb(),d.Ub(49,"div",17),d.Ub(50,"p",6),d.Jc(51,"Customer Email"),d.Tb(),d.Pb(52,"input",21),d.Tb(),d.Tb(),d.Ub(53,"div"),d.Ub(54,"button",22),d.ec("click",function(){return t.onSubmit()}),d.Jc(55," Create "),d.Tb(),d.Tb(),d.Tb(),d.Tb()),2&e&&(d.nc("formGroup",t.addJobNumberForm),d.Bb(13),d.nc("ngForOf",t.allSites),d.Bb(20),d.nc("ngForOf",t.allState),d.Bb(6),d.nc("ngForOf",t.allCustomers),d.Bb(15),d.nc("disabled",t.addJobNumberForm.invalid))},directives:[s.r,s.k,b.f,s.z,s.q,s.i,l.m,s.d,s.u,s.B],pipes:[l.h],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})();var Ie=i("M9IT"),De=i("+0xr"),He=i("2X0P"),Le=i("Dh3D"),we=i("yZxC");function Oe(e,t){1&e&&(d.Ub(0,"th",22),d.Jc(1," No. "),d.Tb())}function Be(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.index;d.Bb(1),d.Kc(e+1)}}function Ne(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Job Number "),d.Tb())}function Se(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.jobNumber," ")}}function Fe(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Site Name "),d.Tb())}function xe(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.siteName," ")}}function Ee(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Street Number "),d.Tb())}function _e(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.streetNumber," ")}}function je(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Street Address "),d.Tb())}function qe(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.streetAddress," ")}}function ze(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Suburb "),d.Tb())}function Me(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.suburb," ")}}function Ve(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," State "),d.Tb())}function $e(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",null==e.stateId?null:e.stateId.title," ")}}function We(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Customer Name "),d.Tb())}function Ge(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.customerName," ")}}function Qe(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Customer Contact "),d.Tb())}function Ke(e,t){if(1&e&&(d.Ub(0,"td",23),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.customerContact," ")}}function Ye(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Edit "),d.Tb())}function Xe(e,t){if(1&e){const e=d.Vb();d.Ub(0,"td",25),d.ec("click",function(){d.yc(e);const i=t.$implicit;return d.ic().edit(i)}),d.Pb(1,"i",26),d.Tb()}}function Ze(e,t){1&e&&(d.Ub(0,"th",24),d.Jc(1," Action "),d.Tb())}function et(e,t){if(1&e){const e=d.Vb();d.Ub(0,"td",23),d.Ub(1,"button",27),d.ec("click",function(){d.yc(e);const i=t.$implicit;return d.ic().delete(i)}),d.Ub(2,"mat-icon"),d.Jc(3,"delete"),d.Tb(),d.Tb(),d.Tb()}}function tt(e,t){1&e&&d.Pb(0,"tr",28)}function it(e,t){1&e&&d.Pb(0,"tr",29)}const at=function(){return[20]};let ot=(()=>{class e{constructor(e,t,i){this.dialog=e,this.setTitle=t,this.logicalFormInfoService=i,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["jobNumber","siteName","streetNumber","streetAddress","suburb","state","customerName","customerContact","action"],this.dataSource=new De.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Add Site Info"),this.getAllJobNumber()}getAllJobNumber(){this.logicalFormInfoService.getAllJobNumber().subscribe(e=>{console.log(e),this.dataSource=e.data,console.log("getAllJobNumber",this.dataSource),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getAllJobTask(){}openDialog(e){this.dialog.open(ye,{height:"80%",data:{action:"new",userId:e}}).afterClosed().subscribe(e=>{console.log("CustomerInfoComponent -> openDialog -> result",e),console.log("result",e),"success"===e&&(this.getAllJobNumber(),r.a.fire({title:"Job Number created successfully",showConfirmButton:!1,timer:1200})),console.log("The dialog was closed")})}edit(e){this.dialog.open(He.a,{width:"550px",data:e}).afterClosed().subscribe(e=>{"true"==e&&this.getAllJobTask(),console.log("The dialog was closed")})}delete(e){r.a.fire({title:"Are you sure?",text:`Do you want to delete "${e.jobNumber}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(t=>{t.value&&this.logicalFormInfoService.deleteJobNumber(e._id).subscribe(e=>{r.a.fire({title:"Job Number Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",e),this.getAllJobNumber()})})}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(b.b),d.Ob(we.a),d.Ob(u.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-job-number"]],viewQuery:function(e,t){if(1&e&&(d.Nc(Le.a,!0),d.Nc(Ie.a,!0)),2&e){let e;d.uc(e=d.fc())&&(t.sort=e.first),d.uc(e=d.fc())&&(t.paginator=e.first)}},decls:43,vars:5,consts:[["_ngcontent-hqi-c400","","type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],["_ngcontent-hqi-c400","",1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","siteName"],["matColumnDef","streetNumber"],["matColumnDef","streetAddress"],["matColumnDef","suburb"],["matColumnDef","state"],["matColumnDef","customerName"],["matColumnDef","customerContact"],["matColumnDef","edit"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],[1,"fas","fa-pencil-alt"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1," Job Number List "),d.Ub(2,"button",0),d.ec("click",function(){return t.openDialog("abcd")}),d.Pb(3,"i",1),d.Jc(4," Create "),d.Tb(),d.Tb(),d.Ub(5,"div",2),d.Ub(6,"table",3),d.Sb(7,4),d.Hc(8,Oe,2,0,"th",5),d.Hc(9,Be,2,1,"td",6),d.Rb(),d.Sb(10,7),d.Hc(11,Ne,2,0,"th",8),d.Hc(12,Se,2,1,"td",6),d.Rb(),d.Sb(13,9),d.Hc(14,Fe,2,0,"th",8),d.Hc(15,xe,2,1,"td",6),d.Rb(),d.Sb(16,10),d.Hc(17,Ee,2,0,"th",8),d.Hc(18,_e,2,1,"td",6),d.Rb(),d.Sb(19,11),d.Hc(20,je,2,0,"th",8),d.Hc(21,qe,2,1,"td",6),d.Rb(),d.Sb(22,12),d.Hc(23,ze,2,0,"th",8),d.Hc(24,Me,2,1,"td",6),d.Rb(),d.Sb(25,13),d.Hc(26,Ve,2,0,"th",8),d.Hc(27,$e,2,1,"td",6),d.Rb(),d.Sb(28,14),d.Hc(29,We,2,0,"th",8),d.Hc(30,Ge,2,1,"td",6),d.Rb(),d.Sb(31,15),d.Hc(32,Qe,2,0,"th",8),d.Hc(33,Ke,2,1,"td",6),d.Rb(),d.Sb(34,16),d.Hc(35,Ye,2,0,"th",8),d.Hc(36,Xe,2,0,"td",17),d.Rb(),d.Sb(37,18),d.Hc(38,Ze,2,0,"th",8),d.Hc(39,et,4,0,"td",6),d.Rb(),d.Hc(40,tt,1,0,"tr",19),d.Hc(41,it,1,0,"tr",20),d.Tb(),d.Pb(42,"mat-paginator",21),d.Tb()),2&e&&(d.Bb(6),d.nc("dataSource",t.dataSource),d.Bb(34),d.nc("matHeaderRowDef",t.displayedColumns),d.Bb(1),d.nc("matRowDefColumns",t.displayedColumns),d.Bb(1),d.nc("pageSizeOptions",d.qc(4,at)))},directives:[De.k,Le.a,De.c,De.e,De.b,De.g,De.j,Ie.a,De.d,Le.b,De.a,a.a,o.a,De.f,De.i],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}"]}),e})();const lt=["risk"];function nt(e,t){1&e&&(d.Ub(0,"th",13),d.Jc(1," No. "),d.Tb())}function st(e,t){if(1&e&&(d.Ub(0,"td",14),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Kc(e.index)}}function ct(e,t){1&e&&(d.Ub(0,"th",13),d.Jc(1," Name "),d.Tb())}function rt(e,t){if(1&e&&(d.Ub(0,"td",14),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.Bb(1),d.Lc(" ",e.title," ")}}function bt(e,t){1&e&&(d.Ub(0,"th",15),d.Jc(1," Set "),d.Tb())}function dt(e,t){1&e&&(d.Ub(0,"button",18),d.Jc(1,"Set"),d.Tb())}function ut(e,t){1&e&&(d.Ub(0,"button",18),d.Jc(1,"Update"),d.Tb())}function ft(e,t){if(1&e){const e=d.Vb();d.Ub(0,"td",16),d.ec("click",function(){d.yc(e);const i=t.$implicit;return d.ic().setRelation_2(i._id)}),d.Hc(1,dt,2,0,"button",17),d.Hc(2,ut,2,0,"button",17),d.Tb()}if(2&e){const e=t.$implicit;d.Bb(1),d.nc("ngIf",!e.set),d.Bb(1),d.nc("ngIf",e.set)}}function mt(e,t){1&e&&d.Pb(0,"tr",19)}function ht(e,t){1&e&&d.Pb(0,"tr",20)}const gt=function(){return[20]};let pt=(()=>{class e{constructor(e,t,i,a,o){this.fb=e,this.dialog=t,this.logicalFormInfo=i,this.setTitle=a,this.router=o,this.allHazards=[],this.allContrlActReq=[],this.jobTaskData=[],this.highRiskData=[],this.PPESelectionData=[],this.codeOfPract=[],this.licenseAndQual=[],this.licenseAndQualificationData=[],this.licenceCatAll=[],this.highRiskConstructionData=[],this.task=[],this.riskLevel="",this.residuleRiskL="",this.PPEselection=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.licenseAndQualification=[{label:"Open Cable Licence",value:""},{label:"White Card",value:""},{label:"EWP Licence",value:""},{label:"Working At Heights",value:""},{label:"Security Licence",value:""},{label:"Asbestos Awarness",value:""},{label:"Working In Confined Space",value:""}],this.highRiskConstruction2=[{label:"Working in or near trenches or shafts deeper than 1.5metres",value:""},{label:"Work in or near a confined space",value:""},{label:"Work in an area that may have a contaminated or flammable atmosphere",value:""},{label:"Working around or near mobile plant",value:""},{label:"Work with near or near asbestos",value:""},{label:"Working with hazardous substances",value:""},{label:"Working with or near tilt-up/precast concrete",value:""},{label:"Risk of falls higher than 2 metres",value:""},{label:"Working near on or adjacent to a road or rail corridor",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Work near explosives",value:""},{label:"Work in or near water or other liquid that involves a risk of drowning",value:""},{label:"Demolition of load-bearing structure",value:""},{label:"Diving work",value:""}],this.PPEselection2=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new De.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set Relation"),this.getJobTask()}onFormSubmit(){console.log(this.JobTaskDetail)}getJobTask(){this.logicalFormInfo.getAllJobtask().subscribe(e=>{console.log("jobTaskDetails=>",e),this.jobTaskData=e.data,this.jobTaskData.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=this.jobTaskData,this.dataSource=new De.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(e=>{console.log("Risk=>",e),this.highRiskConstructionData=e.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(e=>{console.log("PPE=>",e),this.PPESelectionData=e.data})}getAllLicence(){this.logicalFormInfo.getAllLicence().subscribe(e=>{console.log("Licence=>",e),this.licenseAndQual=e.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(e=>{console.log("getAllHazards=>",e),this.allHazards=e.data})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(e=>{console.log("getAllHazards=>",e),this.allContrlActReq=e.data})}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(e=>{console.log("getAllLicenceCat=>",e),this.licenceCatAll=e.data})}setRelation_2(e){this.router.navigate(["/admin/confiLogi/setRelation"],{queryParams:{id:e}})}categorySel(e){this.licenseAndQualificationData=[],console.log(e),e.forEach(e=>{this.licenseAndQual.forEach(t=>{e===t.licenceCategoryId._id&&this.licenseAndQualificationData.push(t)})}),console.log(" this.licenseAndQualificationData",this.licenseAndQualificationData)}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(s.f),d.Ob(b.b),d.Ob(u.a),d.Ob(we.a),d.Ob(A.f))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-set-logic"]],viewQuery:function(e,t){if(1&e&&(d.Nc(Le.a,!0),d.Nc(Ie.a,!0),d.Nc(lt,!0)),2&e){let e;d.uc(e=d.fc())&&(t.sort=e.first),d.uc(e=d.fc())&&(t.paginator=e.first),d.uc(e=d.fc())&&(t.Risk=e)}},decls:16,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["class","myBtn","mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(d.Ub(0,"h2",0),d.Jc(1," Set Relation"),d.Tb(),d.Ub(2,"div",1),d.Ub(3,"table",2),d.Sb(4,3),d.Hc(5,nt,2,0,"th",4),d.Hc(6,st,2,1,"td",5),d.Rb(),d.Sb(7,6),d.Hc(8,ct,2,0,"th",4),d.Hc(9,rt,2,1,"td",5),d.Rb(),d.Sb(10,7),d.Hc(11,bt,2,0,"th",8),d.Hc(12,ft,3,2,"td",9),d.Rb(),d.Hc(13,mt,1,0,"tr",10),d.Hc(14,ht,1,0,"tr",11),d.Tb(),d.Pb(15,"mat-paginator",12),d.Tb()),2&e&&(d.Bb(3),d.nc("dataSource",t.dataSource),d.Bb(10),d.nc("matHeaderRowDef",t.displayedColumns),d.Bb(1),d.nc("matRowDefColumns",t.displayedColumns),d.Bb(1),d.nc("pageSizeOptions",d.qc(4,gt)))},directives:[De.k,Le.a,De.c,De.e,De.b,De.g,De.j,Ie.a,De.d,Le.b,De.a,l.n,a.a,De.f,De.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),e})();function Tt(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1,"Add Job Task "),d.Tb())}function vt(e,t){1&e&&(d.Ub(0,"h2"),d.Jc(1,"Edit Job Task"),d.Tb())}function kt(e,t){if(1&e&&(d.Ub(0,"option",14),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Kc(e.title)}}function Ct(e,t){if(1&e&&(d.Ub(0,"div",8),d.Ub(1,"div",9),d.Pb(2,"input",10),d.Tb(),d.Ub(3,"div",9),d.Ub(4,"select",11),d.Ub(5,"option",12),d.Jc(6,"Select category"),d.Tb(),d.Hc(7,kt,2,2,"option",13),d.Tb(),d.Tb(),d.Tb()),2&e){const e=d.ic();d.nc("formGroup",e.addjob),d.Bb(7),d.nc("ngForOf",e.licenceCatAll)}}function Jt(e,t){if(1&e&&(d.Ub(0,"option",14),d.Jc(1),d.Tb()),2&e){const e=t.$implicit;d.nc("value",e._id),d.Bb(1),d.Kc(e.title)}}function Rt(e,t){if(1&e&&(d.Ub(0,"div",8),d.Ub(1,"div",9),d.Pb(2,"input",10),d.Tb(),d.Ub(3,"div",9),d.Ub(4,"select",11),d.Ub(5,"option",12),d.Jc(6,"Select category"),d.Tb(),d.Hc(7,Jt,2,2,"option",13),d.Tb(),d.Tb(),d.Tb()),2&e){const e=d.ic();d.nc("formGroup",e.jobTaskDetails),d.Bb(7),d.nc("ngForOf",e.licenceCatAll)}}function Ut(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",15),d.ec("click",function(){return d.yc(e),d.ic().onFormSubmit()}),d.Jc(1,"Update"),d.Tb()}if(2&e){const e=d.ic();d.nc("disabled",!e.jobTaskDetails.valid)}}function At(e,t){if(1&e){const e=d.Vb();d.Ub(0,"button",15),d.ec("click",function(){return d.yc(e),d.ic().addForm()}),d.Jc(1,"Add"),d.Tb()}if(2&e){const e=d.ic();d.nc("disabled",!e.addjob.valid)}}const Pt=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=d.Ib({type:e,selectors:[["app-confi-logi"]],decls:1,vars:0,template:function(e,t){1&e&&d.Pb(0,"router-outlet")},directives:[A.k],styles:[""]}),e})()},{path:"setLogic",component:pt},{path:"setJobNumber",component:ot},{path:"setRelation",component:Re},{path:"addTask",component:(()=>{class e{constructor(e,t,i,a,o){this.fb=e,this.router=t,this.logicalFormInfo=i,this.dialogRef=a,this.data=o,this.Edit=!1,this.Add=!0,this.licenceCatAll=[],this.dataRec=o,console.log("datarec",this.dataRec),this.addjob=this.fb.group({title:["",s.A.required],tradeCategory:["",s.A.required]})}ngOnInit(){this.getAllCategories(),""!=this.Id?this.Eddit():this.Added()}Added(){1==this.Edit?(this.Edit=!1,this.Add=!0,this.addjob=this.fb.group({title:["",s.A.required],tradeCategory:["",s.A.required]})):this.Add=!0}Eddit(){1==this.Add?(this.Add=!1,this.Edit=!0,this.jobTaskDetails=this.fb.group({title:[this.dataRec.title,s.A.required],tradeCategoryId:[this.dataRec.tradeCategoryId._id,s.A.required]})):this.Edit=!0}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(e=>{console.log("getAllLicenceCat=>",e),this.licenceCatAll=e.data})}onFormSubmit(){console.log(this.jobTaskDetails.get("title").value);let e={title:this.jobTaskDetails.get("title").value,tradeCategoryId:this.jobTaskDetails.get("tradeCategoryId").value};console.log("edit",e),this.logicalFormInfo.updateJobTask(e,this.dataRec._id).subscribe(e=>{console.log("JOBTask=>",e),this.dialogRef.close("true"),r.a.fire({title:"JobTask Updated successfully",showConfirmButton:!1,timer:1200})},e=>{console.error(e)})}addForm(){console.log("addForm",this.addjob.value),this.logicalFormInfo.addJobTask(this.addjob.value).subscribe(e=>{console.log("JOBTask=>",e),this.dialogRef.close("true"),r.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200})},e=>{console.error(e)})}close(){this.dialogRef.close()}}return e.\u0275fac=function(t){return new(t||e)(d.Ob(s.f),d.Ob(A.f),d.Ob(u.a),d.Ob(b.e),d.Ob(b.a))},e.\u0275cmp=d.Ib({type:e,selectors:[["app-add-job-task"]],decls:15,vars:6,consts:[[1,"container","px-4","py-4","bg-white"],["mat-dialog-title","",1,"dialog-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],["class","row ",3,"formGroup",4,"ngIf"],[1,"col-md-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-6"],["type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(e,t){1&e&&(d.Ub(0,"div",0),d.Ub(1,"div",1),d.Hc(2,Tt,2,0,"h2",2),d.Hc(3,vt,2,0,"h2",2),d.Ub(4,"button",3),d.ec("click",function(){return t.close()}),d.Ub(5,"span",4),d.Jc(6,"\xd7"),d.Tb(),d.Tb(),d.Tb(),d.Pb(7,"br"),d.Hc(8,Ct,8,2,"div",5),d.Hc(9,Rt,8,2,"div",5),d.Pb(10,"br"),d.Pb(11,"hr"),d.Ub(12,"div",6),d.Hc(13,Ut,2,1,"button",7),d.Hc(14,At,2,1,"button",7),d.Tb(),d.Tb()),2&e&&(d.Bb(2),d.nc("ngIf",!t.dataRec),d.Bb(1),d.nc("ngIf",t.dataRec),d.Bb(5),d.nc("ngIf",t.Add),d.Bb(1),d.nc("ngIf",t.Edit),d.Bb(4),d.nc("ngIf",t.Edit),d.Bb(1),d.nc("ngIf",t.Add))},directives:[b.f,l.n,s.r,s.k,s.d,s.q,s.i,s.z,s.u,s.B,l.m,a.a],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),e})()}];let yt=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[A.j.forChild(Pt)],A.j]}),e})();var It=i("xHqg");let Dt=(()=>{class e{}return e.\u0275mod=d.Mb({type:e}),e.\u0275inj=d.Lb({factory:function(t){return new(t||e)},imports:[[l.c,yt,n.a,s.m,s.x,It.a,o.b,a.b]]}),e})()}}]);