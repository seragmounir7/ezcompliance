!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function n(e,n,a){return n&&t(e.prototype,n),a&&t(e,a),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8g75":function(t,a,r){"use strict";r.d(a,"a",function(){return d});var i=r("JX91"),l=r("lJxs"),o=r("AytR"),c=r("fXoL"),m=r("tk/3"),d=function(){var t=function(){function t(n){e(this,t),this.http=n}return n(t,[{key:"addDepartment",value:function(e){return this.http.post(o.a.apiUrl+"department/add",e)}},{key:"updateDepartment",value:function(e,t){return this.http.put("".concat(o.a.apiUrl,"department/update/").concat(e),t)}},{key:"deleteDepartment",value:function(e){return this.http.delete("".concat(o.a.apiUrl,"department/delete/").concat(e))}},{key:"delete",value:function(){}},{key:"getAllDepartment",value:function(){return this.http.get(o.a.apiUrl+"department/getAll")}},{key:"getDepartmentNameAutocomplete",value:function(e,t,n){var a=this;return e.controls[t].valueChanges.pipe(Object(i.a)(""),Object(l.a)(function(e){return"string"==typeof e?e:null==e?void 0:e.departmentName}),Object(l.a)(function(e){return e?a._filterDepartmentName(e,n):n.slice()}))}},{key:"_filterDepartmentName",value:function(e,t){var n=e.toLowerCase();return t.filter(function(e){return e.departmentName.toLowerCase().includes(n)})}},{key:"displayFnDepartmentName",value:function(e){return e&&e.departmentName?e.departmentName:""}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c["\u0275\u0275inject"](m.b))},t.\u0275prov=c["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},"99tz":function(t,a,r){"use strict";r.r(a),r.d(a,"DepartmentModule",function(){return F});var i,l=r("ofXK"),o=r("tyNb"),c=r("Dh3D"),m=r("+0xr"),d=r("M9IT"),u=r("PSD3"),s=r.n(u),p=r("3Pt+"),f=r("fXoL"),v=r("0IaG"),h=r("8g75"),y=r("kmnG"),b=r("qFsG"),D=r("bTqV"),g=((i=function(){function t(n,a){e(this,t),this.matDialogRef=n,this.departmentService=a,this.departmentName=new p.g("")}return n(t,[{key:"ngOnInit",value:function(){var e=this;this.closeDialog=function(t){e.matDialogRef.close(t)}}},{key:"addDepartment",value:function(){var e=this;this.departmentService.addDepartment({departmentName:this.departmentName.value}).subscribe(function(t){e.closeDialog(!0)})}}]),t}()).\u0275fac=function(e){return new(e||i)(f["\u0275\u0275directiveInject"](v.f),f["\u0275\u0275directiveInject"](h.a))},i.\u0275cmp=f["\u0275\u0275defineComponent"]({type:i,selectors:[["app-add-department"]],decls:11,vars:2,consts:[["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","",3,"formControl"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"h2"),f["\u0275\u0275text"](1,"Department"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](2,"mat-form-field",0),f["\u0275\u0275element"](3,"input",1),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"div",2),f["\u0275\u0275elementStart"](5,"div",3),f["\u0275\u0275elementStart"](6,"button",4),f["\u0275\u0275listener"]("click",function(){return t.closeDialog(!1)}),f["\u0275\u0275text"](7,"Close"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](8,"div",5),f["\u0275\u0275elementStart"](9,"button",6),f["\u0275\u0275listener"]("click",function(){return t.addDepartment()}),f["\u0275\u0275text"](10," Add "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](3),f["\u0275\u0275property"]("formControl",t.departmentName),f["\u0275\u0275advance"](6),f["\u0275\u0275property"]("disabled",!t.departmentName.valid))},directives:[y.c,b.b,p.d,p.r,p.h,D.a],styles:[""]}),i),w=r("p20J"),S=r("yZxC"),C=r("NFeN");function E(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",18),f["\u0275\u0275text"](1,"No."),f["\u0275\u0275elementEnd"]())}function k(e,t){if(1&e&&(f["\u0275\u0275elementStart"](0,"td",19),f["\u0275\u0275text"](1),f["\u0275\u0275elementEnd"]()),2&e){var n=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](n.index)}}function x(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",18),f["\u0275\u0275text"](1,"Name"),f["\u0275\u0275elementEnd"]())}function N(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"td",19),f["\u0275\u0275elementStart"](1,"input",20),f["\u0275\u0275listener"]("change",function(e){f["\u0275\u0275restoreView"](n);var a=t.$implicit,r=f["\u0275\u0275nextContext"]();return a.updatedValue=e.target.value,r.log(e.target.value)}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("value",a.departmentName)("disabled",a.isDisabled)}}function A(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"th",21),f["\u0275\u0275text"](1,"Action"),f["\u0275\u0275elementEnd"]())}function j(e,t){if(1&e){var n=f["\u0275\u0275getCurrentView"]();f["\u0275\u0275elementStart"](0,"td",22),f["\u0275\u0275elementStart"](1,"button",23),f["\u0275\u0275elementStart"](2,"mat-icon",24),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](n);var e=t.$implicit;return f["\u0275\u0275nextContext"]().edit(e),e.isDisabled=!e.isDisabled}),f["\u0275\u0275text"](3),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](4,"button",25),f["\u0275\u0275listener"]("click",function(){f["\u0275\u0275restoreView"](n);var e=t.$implicit;return f["\u0275\u0275nextContext"]().delete(e)}),f["\u0275\u0275elementStart"](5,"mat-icon",26),f["\u0275\u0275text"](6,"delete"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()}if(2&e){var a=t.$implicit;f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("matTooltip",a.isDisabled?"Edit":"Save"),f["\u0275\u0275advance"](1),f["\u0275\u0275textInterpolate"](a.isDisabled?"edit":"save")}}function T(e,t){1&e&&f["\u0275\u0275element"](0,"tr",27)}function I(e,t){1&e&&f["\u0275\u0275element"](0,"tr",28)}function L(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"tr",29),f["\u0275\u0275elementStart"](1,"td",30),f["\u0275\u0275text"](2,"Data Not Found"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]())}var O,R,B,V=function(){return[20]},M=[{path:"",component:(O=function(){function t(n,a,r,i){e(this,t),this.snack=n,this.departmentService=a,this.dialog=r,this.setTitle=i,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new m.l(this.ELEMENT_DATA)}return n(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllDepartment(),this.setTitle.setTitle("WHS-Control And Action Required List")}},{key:"getAllDepartment",value:function(){var e=this;this.departmentService.getAllDepartment().subscribe(function(t){var n=t.data;n.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=n.map(function(e){return Object.assign({},Object.assign(Object.assign({},e),{isDisabled:!0}))}),e.dataSource=new m.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"edit",value:function(e){var t=this;e.isDisabled||e.title!==e.updatedValue&&this.departmentService.updateDepartment(e._id,{departmentName:e.updatedValue}).subscribe(function(e){t.getAllDepartment(),s.a.fire({title:"Parameter Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"delete",value:function(e){var t=this;s.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.departmentName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&t.departmentService.deleteDepartment(e._id).subscribe(function(e){s.a.fire({title:"Parameter Deleted successfully",showConfirmButton:!1,timer:1200}),t.getAllDepartment()})})}},{key:"applyFilter",value:function(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}},{key:"copySuccess",value:function(){this.snack.openSnackBar("Copied to clipboard")}},{key:"sortData",value:function(e){this.getAllDepartment(e.active,e.direction)}},{key:"addDepartment",value:function(){var e=this;this.dialog.open(g,{}).afterClosed().subscribe(function(t){t&&(s.a.fire({title:"Deparment Added successfully",showConfirmButton:!1,timer:1200}),e.getAllDepartment())})}},{key:"log",value:function(e){console.log(e)}}]),t}(),O.\u0275fac=function(e){return new(e||O)(f["\u0275\u0275directiveInject"](w.a),f["\u0275\u0275directiveInject"](h.a),f["\u0275\u0275directiveInject"](v.b),f["\u0275\u0275directiveInject"](S.a))},O.\u0275cmp=f["\u0275\u0275defineComponent"]({type:O,selectors:[["app-department"]],viewQuery:function(e,t){var n;1&e&&(f["\u0275\u0275viewQuery"](d.a,!0),f["\u0275\u0275viewQuery"](c.a,!0)),2&e&&(f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.paginator=n.first),f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.sort=n.first))},decls:23,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,"col-6"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","","style","width: 10%",4,"matHeaderCellDef"],["mat-cell","","style","width: 15%",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"form-control",3,"value","disabled","change"],["mat-header-cell","",2,"width","10%"],["mat-cell","",2,"width","15%"],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2"],[3,"matTooltip","click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"h1"),f["\u0275\u0275text"](2,"Department List"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"div",1),f["\u0275\u0275elementStart"](4,"button",2),f["\u0275\u0275listener"]("click",function(){return t.addDepartment()}),f["\u0275\u0275element"](5,"i",3),f["\u0275\u0275text"](6,"Add Department "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](7,"div",4),f["\u0275\u0275elementStart"](8,"div",5),f["\u0275\u0275elementStart"](9,"table",6),f["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),f["\u0275\u0275elementContainerStart"](10,7),f["\u0275\u0275template"](11,E,2,0,"th",8),f["\u0275\u0275template"](12,k,2,1,"td",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](13,10),f["\u0275\u0275template"](14,x,2,0,"th",8),f["\u0275\u0275template"](15,N,2,2,"td",9),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275elementContainerStart"](16,11),f["\u0275\u0275template"](17,A,2,0,"th",12),f["\u0275\u0275template"](18,j,7,2,"td",13),f["\u0275\u0275elementContainerEnd"](),f["\u0275\u0275template"](19,T,1,0,"tr",14),f["\u0275\u0275template"](20,I,1,0,"tr",15),f["\u0275\u0275template"](21,L,3,0,"tr",16),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](22,"mat-paginator",17),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](9),f["\u0275\u0275property"]("dataSource",t.dataSource),f["\u0275\u0275advance"](10),f["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),f["\u0275\u0275advance"](1),f["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),f["\u0275\u0275advance"](2),f["\u0275\u0275property"]("pageSizeOptions",f["\u0275\u0275pureFunction0"](4,V)))},directives:[m.k,c.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,m.d,c.b,m.a,D.a,C.a,m.f,m.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),O)}],_=((B=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:B}),B.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||B)},imports:[[o.j.forChild(M)],o.j]}),B),F=((R=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:R}),R.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||R)},imports:[[l.c,p.m,p.y,_,m.m,D.b,C.b,d.b,c.c,y.e,b.c]]}),R)}}])}();