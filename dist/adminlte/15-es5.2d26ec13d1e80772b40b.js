!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{QX5w:function(i,n,a){"use strict";a.r(n),a.d(n,"SavedFormsModule",function(){return _});var o=a("s7LF"),r=a("SVse"),c=a("5QHs"),s=a("LUZP"),l=a("OaSA"),m=a("VRyK"),u=a("8Y7J"),p=a("KFfU"),f=a("7g+E"),d=a("zXlT"),b=a("iInd"),h=a("Q2Ze"),g=a("e6WT"),v=a("ZFy/");function y(t,e){1&t&&(u.Ub(0,"th",19),u.Oc(1," Form Id "),u.Tb())}function w(t,e){if(1&t&&(u.Ub(0,"td",20),u.Oc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(i.formId)}}function T(t,e){1&t&&(u.Ub(0,"th",19),u.Oc(1,"Form Name "),u.Tb())}function S(t,e){1&t&&(u.Ub(0,"td",20),u.Oc(1,"Form Name"),u.Tb())}function C(t,e){1&t&&(u.Ub(0,"th",21),u.Oc(1,"Form Type"),u.Tb())}function O(t,e){if(1&t&&(u.Ub(0,"td",20),u.Oc(1),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Pc(i.fileType)}}function k(t,e){1&t&&(u.Ub(0,"th",19),u.Oc(1,"Created Date"),u.Tb())}function U(t,e){if(1&t&&(u.Ub(0,"td",20),u.Oc(1),u.jc(2,"date"),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Qc(" ",u.lc(2,1,i.createdAt,"mediumDate")," ")}}function D(t,e){1&t&&(u.Ub(0,"th",19),u.Oc(1,"Updated Date"),u.Tb())}function M(t,e){if(1&t&&(u.Ub(0,"td",20),u.Oc(1),u.jc(2,"date"),u.Tb()),2&t){var i=e.$implicit;u.Bb(1),u.Qc(" ",u.lc(2,1,i.updatedAt,"mediumDate")," ")}}function I(t,e){1&t&&(u.Ub(0,"th",21),u.Oc(1," Action "),u.Tb())}function R(t,e){if(1&t){var i=u.Vb();u.Ub(0,"td",20),u.Ub(1,"div",22),u.Ub(2,"span",23),u.ec("click",function(){u.Cc(i);var t=e.$implicit;return u.ic().edit(t._id,t.fileType)}),u.Oc(3," edit "),u.Tb(),u.Ub(4,"span",24),u.ec("click",function(){u.Cc(i);var t=e.$implicit;return u.ic().printPage(t._id,t.fileType)}),u.Oc(5," print "),u.Tb(),u.Tb(),u.Tb()}}function P(t,e){1&t&&u.Pb(0,"tr",25)}function A(t,e){1&t&&u.Pb(0,"tr",26)}function x(t,e){1&t&&(u.Ub(0,"tr",27),u.Ub(1,"td",28),u.Oc(2,"Data Not Found "),u.Tb(),u.Tb())}var F,B,j,z=function(){return[5,10,20,30]},N=[{path:"",component:(F=function(){function i(e,n,a,o){t(this,i),this.forms=e,this.spinner=n,this.shared=a,this.router=o,this.displayedColumns=["formId","Phone","Email","Site","Action"],this.page=1,this.limit=5,this.searchString=""}var n,a,o;return n=i,(a=[{key:"ngAfterViewInit",value:function(){var t=this;this.sort.sortChange.subscribe(function(){return t.paginator1.pageIndex=0}),Object(m.a)(this.sort.sortChange,this.paginator1.page).subscribe(function(){console.log({sort:t.sort.active||"",order:t.sort.direction||"",pageNumber:t.paginator1.pageIndex+1})})}},{key:"ngOnInit",value:function(){this.getSavedforms()}},{key:"getSavedforms",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.page,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.limit,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.searchString;this.forms.getAllSavedForms(e,i,n).subscribe(function(e){t.showDatas=e.data,t.totalCount=e.totalCount,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new l.l(t.showDatas),t.tempArray.sort=t.sort,console.log("get res",t.showDatas)})}},{key:"edit",value:function(t,e){var i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/admin/forms/hazardRep/"+t],i):"Incident"==e?this.router.navigate(["/admin/forms/incidentRep/"+t],i):"Site Inspection"==e?this.router.navigate(["/admin/forms/siteInspect/"+t],i):"Tool Box"==e?this.router.navigate(["/admin/forms/toolboxTalk/"+t],i):"Risk Assessment"==e&&this.router.navigate(["/admin/forms/riskAssessSWMS/"+t],i)}},{key:"printPage",value:function(t,e){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader");var i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}],i):"Incident"==e?this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}],i):"Site Inspection"==e?this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}],i):"Tool Box"==e?this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}],i):"Risk Assessment"==e&&this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}],i)}},{key:"paginator",value:function(t){this.page=t.pageIndex,this.limit=t.pageSize,this.getSavedforms()}},{key:"applyFilter",value:function(t){this.searchString=t.target.value.trim().toLowerCase(),this.getSavedforms()}}])&&e(n.prototype,a),o&&e(n,o),i}(),F.\u0275fac=function(t){return new(t||F)(u.Ob(p.a),u.Ob(f.c),u.Ob(d.a),u.Ob(b.f))},F.\u0275cmp=u.Ib({type:F,selectors:[["app-saved-forms"]],viewQuery:function(t,e){var i;1&t&&(u.Sc(c.a,!0),u.Sc(s.a,!0)),2&t&&(u.xc(i=u.fc())&&(e.paginator1=i.first),u.xc(i=u.fc())&&(e.sort=i.first))},decls:31,vars:6,consts:[[1,"col","ml-2","pt-3"],[1,"row"],["matInput","","placeholder","Search",3,"keyup"],["input",""],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","formId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"h1"),u.Oc(2," All Saved Forms Table"),u.Tb(),u.Tb(),u.Ub(3,"div",1),u.Ub(4,"mat-form-field"),u.Ub(5,"input",2,3),u.ec("keyup",function(t){return e.applyFilter(t)}),u.Tb(),u.Tb(),u.Tb(),u.Ub(7,"div",4),u.Ub(8,"table",5),u.Sb(9,6),u.Mc(10,y,2,0,"th",7),u.Mc(11,w,2,1,"td",8),u.Rb(),u.Sb(12,9),u.Mc(13,T,2,0,"th",7),u.Mc(14,S,2,0,"td",8),u.Rb(),u.Sb(15,10),u.Mc(16,C,2,0,"th",11),u.Mc(17,O,2,1,"td",8),u.Rb(),u.Sb(18,12),u.Mc(19,k,2,0,"th",7),u.Mc(20,U,3,4,"td",8),u.Rb(),u.Sb(21,13),u.Mc(22,D,2,0,"th",7),u.Mc(23,M,3,4,"td",8),u.Rb(),u.Sb(24,14),u.Mc(25,I,2,0,"th",11),u.Mc(26,R,6,0,"td",8),u.Rb(),u.Mc(27,P,1,0,"tr",15),u.Mc(28,A,1,0,"tr",16),u.Mc(29,x,3,0,"tr",17),u.Tb(),u.Ub(30,"mat-paginator",18),u.ec("page",function(t){return e.paginator(t)}),u.Tb(),u.Tb()),2&t&&(u.Bb(8),u.qc("dataSource",e.tempArray),u.Bb(19),u.qc("matHeaderRowDef",e.displayedColumns),u.Bb(1),u.qc("matRowDefColumns",e.displayedColumns),u.Bb(2),u.qc("pageSizeOptions",u.tc(5,z))("length",e.totalCount))},directives:[h.b,g.b,l.k,s.a,l.c,l.e,l.b,l.g,l.j,l.h,c.a,l.d,s.b,l.a,v.a,l.f,l.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),F)}],H=((B=function e(){t(this,e)}).\u0275mod=u.Mb({type:B}),B.\u0275inj=u.Lb({factory:function(t){return new(t||B)},imports:[[b.j.forChild(N)],b.j]}),B),L=a("PCNd"),_=((j=function e(){t(this,e)}).\u0275mod=u.Mb({type:j}),j.\u0275inj=u.Lb({factory:function(t){return new(t||j)},imports:[[r.c,o.y,L.a,H]]}),j)}}])}();