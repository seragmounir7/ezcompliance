(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"2X0P":function(t,e,o){"use strict";o.d(e,"a",function(){return d});var i=o("iELJ"),r=o("PSD3"),n=o.n(r),s=o("8Y7J"),a=o("s7LF"),l=o("wbBK"),c=o("SVse");function b(t,e){if(1&t&&(s.Ub(0,"option",19),s.Oc(1),s.Tb()),2&t){const t=e.$implicit;s.qc("value",t._id),s.Bb(1),s.Pc(t.title)}}let d=(()=>{class t{constructor(t,e,o,i){this.dialogRef=t,this.data=e,this.fb=o,this.logicalFormInfoService=i,this.allState=[]}ngOnInit(){this.editSitesForm=this.fb.group({siteName:[this.data.siteName],streetNumber:[this.data.streetNumber],streetAddress:[this.data.streetAddress],suburb:[this.data.suburb],stateId:[this.data.stateId._id]}),this.getAllStates()}onSubmit(){console.log(this.editSitesForm.value),this.logicalFormInfoService.updateSite(this.data._id,this.editSitesForm.value).subscribe(t=>{console.log(t),this.dialogRef.close("true"),n.a.fire({title:"Site Edited successfully",showConfirmButton:!1,timer:1200}),this.ngOnInit()})}close(){this.dialogRef.close()}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(t=>{console.log("getAllStates=>",t),this.allState=t.data})}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(i.f),s.Ob(i.a),s.Ob(a.f),s.Ob(l.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-edit-site"]],decls:38,vars:2,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"my-3","col-3"],["type","text","formControlName","streetNumber","id","streetNumber",1,"form-control"],["type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],[1,"my-3","col-4"],["type","text","formControlName","suburb","id","suburb",1,"form-control"],[1,"my-3","col-2"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Ub(0,"section",0),s.Ub(1,"div"),s.Ub(2,"div",1),s.Ub(3,"h2"),s.Oc(4," Update Site Information"),s.Tb(),s.Ub(5,"button",2),s.ec("click",function(){return e.close()}),s.Ub(6,"span",3),s.Oc(7,"\xd7"),s.Tb(),s.Tb(),s.Tb(),s.Pb(8,"hr"),s.Ub(9,"div",4),s.Ub(10,"div",5),s.Ub(11,"p",6),s.Oc(12,"Site Name"),s.Tb(),s.Pb(13,"input",7),s.Tb(),s.Tb(),s.Ub(14,"div",4),s.Ub(15,"div",8),s.Ub(16,"p",6),s.Oc(17,"Street Number"),s.Tb(),s.Pb(18,"input",9),s.Tb(),s.Ub(19,"div",8),s.Ub(20,"p",6),s.Oc(21,"Street Address"),s.Tb(),s.Pb(22,"textarea",10),s.Tb(),s.Ub(23,"div",11),s.Ub(24,"p",6),s.Oc(25,"Suburb"),s.Tb(),s.Pb(26,"input",12),s.Tb(),s.Ub(27,"div",13),s.Ub(28,"p",14),s.Oc(29,"State"),s.Tb(),s.Ub(30,"select",15),s.Ub(31,"option",16),s.Oc(32,"Select"),s.Tb(),s.Mc(33,b,2,2,"option",17),s.Tb(),s.Tb(),s.Tb(),s.Pb(34,"hr"),s.Ub(35,"div"),s.Ub(36,"button",18),s.ec("click",function(){return e.onSubmit()}),s.Oc(37," Update "),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.qc("formGroup",e.editSitesForm),s.Bb(33),s.qc("ngForOf",e.allState))},directives:[a.s,a.k,i.g,a.d,a.r,a.i,a.A,a.v,a.D,c.m],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t})()},"2xAX":function(t,e,o){"use strict";o.d(e,"a",function(){return u});var i=o("s7LF"),r=o("iELJ"),n=o("PSD3"),s=o.n(n),a=o("8Y7J"),l=o("wbBK"),c=o("6bhV"),b=o("SVse");function d(t,e){if(1&t&&(a.Ub(0,"option",20),a.Oc(1),a.Tb()),2&t){const t=e.$implicit;a.qc("value",t._id),a.Bb(1),a.Pc(t.title)}}let u=(()=>{class t{constructor(t,e,o,i){this.dialogRef=t,this.data=e,this.fb=o,this.logicalFormInfoService=i,this.allState=[]}ngOnInit(){this.getAllStates(),this.addSitesForm=this.fb.group({siteName:["",i.C.required],streetNumber:["",i.C.required],streetAddress:["",i.C.required],suburb:["",i.C.required],stateId:["",i.C.required]})}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(t=>{console.log("getAllStates=>",t),this.allState=t.data})}onSubmit(){console.log(this.addSitesForm.value),this.logicalFormInfoService.addSite(this.addSitesForm.value).subscribe(t=>{console.log(t),this.dialogRef.close("true"),s.a.fire({title:"Site Added successfully",showConfirmButton:!1,timer:1200})})}close(){this.dialogRef.close()}calcHeight(t){this.numberOfLineBreaks=(t.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return t.\u0275fac=function(e){return new(e||t)(a.Ob(r.f),a.Ob(r.a),a.Ob(i.f),a.Ob(l.a))},t.\u0275cmp=a.Ib({type:t,selectors:[["app-add-site"]],decls:38,vars:4,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],[1,"row",3,"formGroup"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[1,"row"],[1,"my-3","col-2"],["type","text","formControlName","streetNumber","id","streetNumber",1,"form-control"],[1,"my-3","col-4"],["autosize","","type","text","formControlName","streetAddress","id","streetAddress",1,"form-control"],[1,"my-3","col-3"],["type","text","formControlName","suburb","id","suburb",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["id","stateId","aria-label","Default select example","formControlName","stateId",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled","click"],[3,"value"]],template:function(t,e){1&t&&(a.Ub(0,"section",0),a.Ub(1,"div"),a.Ub(2,"div",1),a.Ub(3,"h2"),a.Oc(4," Add Site Information"),a.Tb(),a.Ub(5,"button",2),a.ec("click",function(){return e.close()}),a.Ub(6,"span",3),a.Oc(7,"\xd7"),a.Tb(),a.Tb(),a.Tb(),a.Pb(8,"hr"),a.Ub(9,"div",4),a.Ub(10,"div",5),a.Ub(11,"p",6),a.Oc(12,"Site Name"),a.Tb(),a.Pb(13,"input",7),a.Tb(),a.Tb(),a.Ub(14,"div",8),a.Ub(15,"div",9),a.Ub(16,"p",6),a.Oc(17,"Street No."),a.Tb(),a.Pb(18,"input",10),a.Tb(),a.Ub(19,"div",11),a.Ub(20,"p",6),a.Oc(21,"Street Address"),a.Tb(),a.Pb(22,"textarea",12),a.Tb(),a.Ub(23,"div",13),a.Ub(24,"p",6),a.Oc(25,"Suburb"),a.Tb(),a.Pb(26,"input",14),a.Tb(),a.Ub(27,"div",13),a.Ub(28,"p",15),a.Oc(29,"State"),a.Tb(),a.Ub(30,"select",16),a.Ub(31,"option",17),a.Oc(32,"Select"),a.Tb(),a.Mc(33,d,2,2,"option",18),a.Tb(),a.Tb(),a.Tb(),a.Pb(34,"hr"),a.Ub(35,"div"),a.Ub(36,"button",19),a.ec("click",function(){return e.onSubmit()}),a.Oc(37," Add "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&t&&(a.qc("formGroup",e.addSitesForm),a.Bb(9),a.qc("formGroup",e.addSitesForm),a.Bb(24),a.qc("ngForOf",e.allState),a.Bb(3),a.qc("disabled",e.addSitesForm.invalid))},directives:[i.s,i.k,r.g,i.d,i.r,i.i,c.a,i.A,i.v,i.D,b.m],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t})()},"6bhV":function(t,e,o){"use strict";o.d(e,"a",function(){return n}),o.d(e,"b",function(){return s});var i=o("8Y7J");let r=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(i.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),n=(()=>{class t{constructor(t,e,o){this.element=t,this._window=e,this._zone=o,this.onlyGrow=!1,this.useImportant=!1,this.resized=new i.o,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=t,this.textAreaEl&&(this.textAreaEl.rows=t)}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function(t,e,o=!1){let i;return function(){const r=this,n=arguments,s=function(){i=null,o||t.apply(r,n)},a=o&&!i;clearTimeout(i),i=setTimeout(s,e),a&&t.apply(r,n)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;const o=this.textAreaEl.cloneNode(!0),i=this.textAreaEl.parentNode;o.style.width=this.textAreaEl.offsetWidth+"px",o.style.visibility="hidden",o.style.position="absolute",o.textContent=e,i.appendChild(o),o.style.overflow="hidden",o.style.height="auto";let r=o.scrollHeight,n=this._window.nativeWindow.getComputedStyle(o,null);r+=parseInt(n.getPropertyValue("border-top-width")),r+=parseInt(n.getPropertyValue("border-bottom-width")),r+=parseInt(n.getPropertyValue("padding-top")),r+=parseInt(n.getPropertyValue("padding-bottom"));const s=this.textAreaEl.offsetHeight,a=r>s;if(!1===this.onlyGrow||a){const t=this._getLineHeight(),e=r/t;if(this._minRows&&this._minRows>=e)r=this._minRows*t;else if(this.maxRows&&this.maxRows<=e){const e=this.maxRows*t;r=this.onlyGrow?Math.max(e,s):e,this.textAreaEl.style.overflow="auto"}else this.textAreaEl.style.overflow="hidden";this.textAreaEl.style.setProperty("height",r+"px",this.useImportant?"important":""),this.resized.emit(r)}i.removeChild(o)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(e.replace("px",""),10))}return t}}return t.\u0275fac=function(e){return new(e||t)(i.Ob(i.l),i.Ob(r),i.Ob(i.B))},t.\u0275dir=i.Jb({type:t,selectors:[["","autosize",""]],hostBindings:function(t,e){1&t&&i.ec("input",function(t){return e.onInput(t.target)})},inputs:{onlyGrow:"onlyGrow",useImportant:"useImportant",minRows:"minRows",maxRows:"maxRows"},outputs:{resized:"resized"},features:[i.zb]}),t})(),s=(()=>{class t{}return t.\u0275mod=i.Mb({type:t}),t.\u0275inj=i.Lb({factory:function(e){return new(e||t)},providers:[r],imports:[[]]}),t})()},Sgjq:function(t,e,o){"use strict";o.d(e,"a",function(){return f});var i=o("s7LF"),r=o("8Y7J"),n=o("wbBK"),s=o("iInd"),a=o("iELJ"),l=o("SVse"),c=o("6bhV");const b=function(){return["/admin/siteInfo/addCustomer"]};function d(t,e){1&t&&(r.Ub(0,"div",17),r.Pb(1,"i",18),r.Tb()),2&t&&r.qc("routerLink",r.tc(1,b))}function u(t,e){if(1&t&&(r.Ub(0,"option",19),r.Oc(1),r.Tb()),2&t){const t=e.$implicit;r.qc("value",t._id),r.Bb(1),r.Pc(t.title)}}function m(t,e){if(1&t){const t=r.Vb();r.Sb(0,20),r.Ub(1,"div"),r.Ub(2,"h1"),r.Oc(3),r.Tb(),r.Ub(4,"div",3),r.Ub(5,"div",21),r.Ub(6,"p",5),r.Oc(7," Position"),r.Tb(),r.Pb(8,"input",22),r.Tb(),r.Ub(9,"div",21),r.Ub(10,"p",5),r.Oc(11," Email "),r.Tb(),r.Pb(12,"input",23),r.Tb(),r.Ub(13,"div",21),r.Ub(14,"p",5),r.Oc(15," Phone Number"),r.Tb(),r.Pb(16,"input",24),r.Tb(),r.Ub(17,"div",25),r.Ub(18,"span",26),r.ec("click",function(){return r.Cc(t),r.ic().addCustomerDetails()}),r.Oc(19,"add_circle_outline "),r.Tb(),r.Tb(),r.Ub(20,"div",25),r.Ub(21,"span",26),r.ec("click",function(){r.Cc(t);const o=e.index;return r.ic().removeCustomerDetails(o)}),r.Oc(22," remove_circle_outline "),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Pb(23,"hr"),r.Rb()}if(2&t){const t=e.index;r.qc("formGroupName",t),r.Bb(3),r.Qc(" Contact ",t+1,"")}}let f=(()=>{class t{constructor(t,e,o,i){this.fb=t,this.logicalFormInfoService=e,this.router=o,this.dialogRef=i,this.StatesData=[""]}ngOnInit(){this.addCustomerForm=this.fb.group({customerName:["",i.C.required],customerContact:["",i.C.required],streetAddress:["",i.C.required],stateId:["",i.C.required],postCode:["",i.C.required],ABN:["",i.C.required],contacts:this.fb.array([])}),this.addCustomerDetails(),this.getAllStates()}addCustomerDetails(){this.customerArr().push(this.customerForm())}customerArr(){return this.addCustomerForm.get("contacts")}customerForm(){return this.fb.group({email:["",i.C.required],phone:["",i.C.required],position:["",i.C.required]})}removeCustomerDetails(t){const e=this.addCustomerForm.controls.contacts;e.length>1&&e.removeAt(t)}onSubmit(){console.log(this.addCustomerForm.value),this.logicalFormInfoService.addCustomer(this.addCustomerForm.value).subscribe(t=>{console.log("addCustomerForm=>",t),this.dialogRef?this.dialogRef.close("ok"):this.router.navigate(["/admin/siteInfo/addCustomer"])},t=>{console.error(t)})}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(t=>{console.log("setStatesDetails=>",t),this.StatesData=t.data})}calcHeight(t){this.numberOfLineBreaks=(t.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(i.f),r.Ob(n.a),r.Ob(s.f),r.Ob(a.f))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-adding-cust"]],decls:42,vars:5,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"content",2,"height","60%"],[1,"container","px-4","py-4","bg-white",3,"formGroup"],[1,"row"],[1,"my-3","col"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","id","customerName","formControlName","customerName",1,"form-control"],["type","text","id","customerContact","formControlName","customerContact",1,"form-control"],["autosize","","type","text","id","customerStreetAddress","formControlName","streetAddress",1,"form-control"],["aria-label","Default select example","formControlName","stateId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","id","customerPostCode","formControlName","postCode",1,"form-control"],["type","text","id","businessName","formControlName","ABN",1,"form-control"],["formArrayName","contacts"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"disabled","click"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"value"],[3,"formGroupName"],[1,"my-3","col-3"],["type","text","formControlName","position","id","position",1,"form-control"],["type","text","formControlName","email","id","email",1,"form-control"],["type","text","formControlName","phone","id","phone",1,"form-control"],[1,"my-3","col-1","my-auto"],[1,"material-icons",2,"margin-top","35%",3,"click"]],template:function(t,e){1&t&&(r.Mc(0,d,2,2,"div",0),r.Ub(1,"mat-dialog-content"),r.Ub(2,"section",1),r.Ub(3,"div",2),r.Ub(4,"h2"),r.Oc(5,"Add Customer"),r.Tb(),r.Pb(6,"hr"),r.Ub(7,"div",3),r.Ub(8,"div",4),r.Ub(9,"p",5),r.Oc(10,"Customer Name"),r.Tb(),r.Pb(11,"input",6),r.Tb(),r.Ub(12,"div",4),r.Ub(13,"p",5),r.Oc(14,"Customer Contact"),r.Tb(),r.Pb(15,"input",7),r.Tb(),r.Tb(),r.Ub(16,"div",3),r.Ub(17,"div",4),r.Ub(18,"p",5),r.Oc(19,"Street Address"),r.Tb(),r.Pb(20,"textarea",8),r.Tb(),r.Ub(21,"div",4),r.Ub(22,"p",5),r.Oc(23,"State"),r.Tb(),r.Ub(24,"select",9),r.Ub(25,"option",10),r.Oc(26," Select State"),r.Tb(),r.Mc(27,u,2,2,"option",11),r.Tb(),r.Tb(),r.Ub(28,"div",4),r.Ub(29,"p",5),r.Oc(30,"PostCode"),r.Tb(),r.Pb(31,"input",12),r.Tb(),r.Tb(),r.Ub(32,"div",3),r.Ub(33,"div",4),r.Ub(34,"p",5),r.Oc(35,"Australian Business Name (ABN)"),r.Tb(),r.Pb(36,"input",13),r.Tb(),r.Tb(),r.Sb(37,14),r.Mc(38,m,24,2,"ng-container",15),r.Rb(),r.Ub(39,"div"),r.Ub(40,"button",16),r.ec("click",function(){return e.onSubmit()}),r.Oc(41," Submit "),r.Tb(),r.Tb(),r.Tb(),r.Tb(),r.Tb()),2&t&&(r.qc("ngIf",!e.dialogRef),r.Bb(3),r.qc("formGroup",e.addCustomerForm),r.Bb(24),r.qc("ngForOf",e.StatesData),r.Bb(11),r.qc("ngForOf",e.customerArr().controls),r.Bb(2),r.qc("disabled",e.addCustomerForm.invalid))},directives:[l.n,a.d,i.s,i.k,i.d,i.r,i.i,c.a,i.A,i.v,i.D,l.m,i.e,s.g,i.l],styles:[""]}),t})()},X72n:function(t,e,o){"use strict";o.d(e,"a",function(){return p});var i=o("s7LF"),r=o("PSD3"),n=o.n(r),s=o("8Y7J"),a=o("iInd"),l=o("wbBK"),c=o("iELJ"),b=o("SVse"),d=o("6bhV");const u=function(){return["/admin/siteInfo/jobTask"]};function m(t,e){1&t&&(s.Ub(0,"div",8),s.Pb(1,"i",9),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,u))}function f(t,e){if(1&t&&(s.Ub(0,"option",20),s.Oc(1),s.Tb()),2&t){const t=e.$implicit;s.qc("value",t._id),s.Bb(1),s.Pc(t.title)}}function h(t,e){if(1&t){const t=s.Vb();s.Sb(0,10),s.Ub(1,"div",11),s.Ub(2,"div",12),s.Ub(3,"span"),s.Oc(4),s.Tb(),s.Tb(),s.Ub(5,"div",13),s.Pb(6,"textarea",14),s.Tb(),s.Ub(7,"div",13),s.Ub(8,"select",15),s.Ub(9,"option",16),s.Oc(10,"Select category"),s.Tb(),s.Mc(11,f,2,2,"option",17),s.Tb(),s.Tb(),s.Ub(12,"div",18),s.Ub(13,"span",19),s.ec("click",function(){return s.Cc(t),s.ic().addAction()}),s.Oc(14,"add_circle_outline "),s.Tb(),s.Tb(),s.Ub(15,"div",18),s.Ub(16,"span",19),s.ec("click",function(){s.Cc(t);const o=e.index;return s.ic().removeSafetyModule(o)}),s.Oc(17," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Pb(18,"hr"),s.Rb()}if(2&t){const t=e.index,o=s.ic();s.qc("formGroupName",t),s.Bb(4),s.Qc("",t+1,". "),s.Bb(7),s.qc("ngForOf",o.licenceCatAll)}}let p=(()=>{class t{constructor(t,e,o,i){this.fb=t,this.router=e,this.logicalFormInfo=o,this.dialogRef=i,this.licenceCatAll=[],this.jobTaskDetails=this.fb.group({arrObj:this.fb.array([])})}ngOnInit(){this.addAction(),this.getAllCategories()}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(t=>{console.log("getAllLicenceCat=>",t),this.licenceCatAll=t.data})}addAction(){this.add().push(this.newAction())}add(){return this.jobTaskDetails.get("arrObj")}newAction(){return this.fb.group({title:["",i.C.required],tradeCategoryId:["",i.C.required]})}removeSafetyModule(t){const e=this.jobTaskDetails.controls.arrObj;e.length>1&&e.removeAt(t)}onFormSubmit(){console.log(this.jobTaskDetails.get("arrObj").value);let t={arrObj:this.jobTaskDetails.get("arrObj").value};this.logicalFormInfo.addMultipleJobTask(t).subscribe(t=>{console.log("JOBTask=>",t),n.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200}),this.dialogRef?this.dialogRef.close("ok"):this.router.navigate(["/admin/siteInfo/jobTask"])},t=>{this.dialogRef&&this.dialogRef.close("error"),console.error(t)})}calcHeight(t){this.numberOfLineBreaks=(t.match(/\n/g)||[]).length+1,console.log("numberOfLineBreaks",this.numberOfLineBreaks)}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(i.f),s.Ob(a.f),s.Ob(l.a),s.Ob(c.f))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-add-job-task"]],decls:13,vars:4,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"container","px-4","py-4","bg-white"],[3,"formGroup","ngSubmit"],[1,"text-center"],["formArrayName","arrObj"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"formGroupName"],[1,"row","justify-content-center"],[1,"mr-1","mt-2"],[1,"col-4"],["autosize","","type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-1","mt-2"],[1,"material-icons",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Mc(0,m,2,2,"div",0),s.Ub(1,"div",1),s.Ub(2,"form",2),s.ec("ngSubmit",function(){return e.onFormSubmit()}),s.Ub(3,"h2",3),s.Oc(4,"Add Job Task"),s.Tb(),s.Pb(5,"br"),s.Pb(6,"hr"),s.Sb(7,4),s.Mc(8,h,19,3,"ng-container",5),s.Rb(),s.Pb(9,"br"),s.Ub(10,"div",6),s.Ub(11,"button",7),s.Oc(12,"Add"),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.qc("ngIf",!e.dialogRef),s.Bb(2),s.qc("formGroup",e.jobTaskDetails),s.Bb(6),s.qc("ngForOf",e.add().controls),s.Bb(3),s.qc("disabled",e.jobTaskDetails.get("arrObj").invalid))},directives:[b.n,i.E,i.s,i.k,i.e,b.m,a.g,i.l,i.d,d.a,i.r,i.i,i.A,i.v,i.D],styles:[""]}),t})()}}]);