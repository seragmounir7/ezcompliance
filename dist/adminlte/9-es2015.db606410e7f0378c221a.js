(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6bhV":function(t,e,i){"use strict";i.d(e,"a",function(){return c}),i.d(e,"b",function(){return a});var o=i("fXoL");let n=(()=>{class t{get nativeWindow(){return window}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=o.Kb({token:t,factory:t.\u0275fac,providedIn:"root"}),t.ngInjectableDef=Object(o.Kb)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),c=(()=>{class t{constructor(t,e,i){this.element=t,this._window=e,this._zone=i,this.onlyGrow=!1,this.useImportant=!1,this.resized=new o.o,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}set minRows(t){this._minRows=t,this.textAreaEl&&(this.textAreaEl.rows=t)}onInput(t){this.adjust()}ngOnDestroy(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}ngAfterContentChecked(){this.adjust()}ngOnChanges(t){this.adjust(!0)}_findNestedTextArea(){this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(()=>{this._findNestedTextArea()},100))}_onTextAreaFound(){this._addWindowResizeHandler(),setTimeout(()=>{this.adjust()})}_addWindowResizeHandler(){this._windowResizeHandler=function(t,e,i=!1){let o;return function(){const n=this,c=arguments,a=function(){o=null,i||t.apply(n,c)},s=i&&!o;clearTimeout(o),o=setTimeout(a,e),s&&t.apply(n,c)}}(()=>{this._zone.run(()=>{this.adjust()})},200),this._zone.runOutsideAngular(()=>{this._window.nativeWindow.addEventListener("resize",this._windowResizeHandler,!1)})}adjust(t=!1){if(!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){const e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;const i=this.textAreaEl.cloneNode(!0),o=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=e,o.appendChild(i),i.style.overflow="hidden",i.style.height="auto";let n=i.scrollHeight,c=this._window.nativeWindow.getComputedStyle(i,null);n+=parseInt(c.getPropertyValue("border-top-width")),n+=parseInt(c.getPropertyValue("border-bottom-width")),n+=parseInt(c.getPropertyValue("padding-top")),n+=parseInt(c.getPropertyValue("padding-bottom"));const a=this.textAreaEl.offsetHeight,s=n>a;if(!1===this.onlyGrow||s){const t=this._getLineHeight(),e=n/t;if(this._minRows&&this._minRows>=e)n=this._minRows*t;else if(this.maxRows&&this.maxRows<=e){const e=this.maxRows*t;n=this.onlyGrow?Math.max(e,a):e,this.textAreaEl.style.overflow="auto"}else this.textAreaEl.style.overflow="hidden";this.textAreaEl.style.setProperty("height",n+"px",this.useImportant?"important":""),this.resized.emit(n)}o.removeChild(i)}}_getLineHeight(){let t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){const e=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(e.replace("px",""),10))}return t}}return t.\u0275fac=function(e){return new(e||t)(o.Ob(o.l),o.Ob(n),o.Ob(o.B))},t.\u0275dir=o.Jb({type:t,selectors:[["","autosize",""]],hostBindings:function(t,e){1&t&&o.ec("input",function(t){return e.onInput(t.target)})},inputs:{onlyGrow:"onlyGrow",useImportant:"useImportant",minRows:"minRows",maxRows:"maxRows"},outputs:{resized:"resized"},features:[o.zb]}),t})(),a=(()=>{class t{}return t.\u0275mod=o.Mb({type:t}),t.\u0275inj=o.Lb({factory:function(e){return new(e||t)},providers:[n],imports:[[]]}),t})()},jASi:function(t,e,i){"use strict";i.r(e),i.d(e,"FormsModule1",function(){return Uo});var o=i("ofXK"),n=i("fXoL");let c=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[o.c]]}),t})(),a=(()=>{class t{constructor(t){this.elementRef=t}onInput(){this.resize()}ngOnInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(n.l))},t.\u0275dir=n.Jb({type:t,selectors:[["","appTextareaAutoresize",""]],hostBindings:function(t,e){1&t&&n.ec("input",function(){return e.onInput()})}}),t})();var s=i("/1cH"),r=i("tyNb"),l=i("wZkO"),d=i("M9IT"),m=i("+0xr"),b=i("Dh3D"),u=i("0IaG"),f=i("JqCM"),h=i("yZxC"),p=i("3Pt+"),g=i("1jcm"),T=i("Qu3c"),y=i("OFbc");function w(t,e){1&t&&(n.Ub(0,"th",15),n.Oc(1," No. "),n.Tb())}function O(t,e){if(1&t&&(n.Ub(0,"td",16),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.index)}}function D(t,e){1&t&&(n.Ub(0,"th",15),n.Oc(1," Form Name "),n.Tb())}function C(t,e){if(1&t&&(n.Ub(0,"td",16),n.Ub(1,"span",17),n.Oc(2),n.Tb(),n.Tb()),2&t){const t=e.$implicit;n.Bb(2),n.Pc(t.title)}}function U(t,e){1&t&&(n.Ub(0,"th",18),n.Oc(1," Form Frequency "),n.Tb())}function M(t,e){1&t&&(n.Ub(0,"td",16),n.Ub(1,"select",19),n.Ub(2,"option",20),n.Oc(3,"Daily"),n.Tb(),n.Ub(4,"option",21),n.Oc(5,"Weekly"),n.Tb(),n.Ub(6,"option",21),n.Oc(7,"Monthly"),n.Tb(),n.Ub(8,"option",22),n.Oc(9,"Quaterly"),n.Tb(),n.Ub(10,"option",23),n.Oc(11,"Half yearly"),n.Tb(),n.Ub(12,"option",24),n.Oc(13,"Yearly"),n.Tb(),n.Ub(14,"option",25),n.Oc(15,"Once Off"),n.Tb(),n.Tb(),n.Tb())}function v(t,e){1&t&&(n.Ub(0,"th",18),n.Oc(1," Disable/Enable "),n.Tb())}function I(t,e){1&t&&(n.Ub(0,"td",16),n.Pb(1,"mat-slide-toggle",26),n.Tb())}function S(t,e){1&t&&(n.Ub(0,"th",18),n.Oc(1," Action "),n.Tb())}function R(t,e){if(1&t&&(n.Ub(0,"span",30),n.Pb(1,"svg-icon",31),n.Tb()),2&t){const t=n.ic().$implicit;n.qc("routerLink",t.link)}}function k(t,e){if(1&t){const t=n.Vb();n.Ub(0,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().goTo(e.title)}),n.Oc(1," launch "),n.Tb()}}function B(t,e){if(1&t&&(n.Ub(0,"td",16),n.Ub(1,"div",27),n.Mc(2,R,2,1,"span",28),n.Mc(3,k,2,0,"span",29),n.Tb(),n.Tb()),2&t){const t=n.ic();n.Bb(2),n.qc("ngIf","fillConfigForm"==t.url[0].path),n.Bb(1),n.qc("ngIf","fillConfigForm"==t.url[0].path)}}function A(t,e){1&t&&n.Pb(0,"tr",33)}function x(t,e){1&t&&n.Pb(0,"tr",34)}function H(t,e){1&t&&(n.Ub(0,"tr",35),n.Ub(1,"td",36),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const P=function(){return[20]};let F=(()=>{class t{constructor(t,e,i,o,n){this.dialog=t,this.spinner=e,this.router=i,this.setTitle=o,this.activatedRoute=n,this.page=1,this.pageSize=10,this.collectionSize=10,this.ELEMENT_DATA=[{index:1,title:"Hazards Reported",link:["/admin/forms/hazardRep/form"]},{index:2,title:"Notifiable Accident",link:["/admin/forms/incidentRep/Form"]},{index:3,title:"Toolbox Talk",link:["/admin/forms/toolboxTalk/form"]},{index:4,title:"Site Inspection",link:["/admin/forms/siteInspect/form"]},{index:5,title:"Risk Assessment",link:["/admin/forms/riskAssessSWMS/form"]}],this.formName="",this.displayedColumns=["index","formName","formFrequency","Disable/Enable"],this.dataSource=new m.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}goTo(t){console.log("title",t),"Toolbox Talk"===t&&this.router.navigate(["/admin/forms/tableData"]),"Site Inspection"===t&&this.router.navigate(["/admin/forms/siteinspectiontable"]),"Hazards Reported"===t&&this.router.navigate(["/admin/forms/hazardTable"]),"Notifiable Accident"===t&&this.router.navigate(["/admin/forms/incidentsTable"]),"Risk Assessment"===t&&this.router.navigate(["/admin/forms/riskAssessTable"])}ngOnInit(){this.url=this.activatedRoute.snapshot.url,this.setTitle.setTitle("WHS-All Form")}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(u.b),n.Ob(f.c),n.Ob(r.f),n.Ob(h.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-forms"]],viewQuery:function(t,e){if(1&t&&(n.Sc(b.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.sort=t.first),n.xc(t=n.fc())&&(e.paginator=t.first)}},inputs:{displayedColumns:"displayedColumns"},decls:24,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formName"],["matColumnDef","formFrequency"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Disable/Enable"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["aria-label","Default select example",1,"form-select","form-control"],["value","daily"],["value","weekly"],["value","quaterly"],["value","halfYearly"],["value","yearly"],["value","onceOff"],["color","primary","checked",""],[2,"display","flex","justify-content","space-evenly"],["class","material-icons","matTooltip","Fill The Form","style","font-size: 26px ;cursor: pointer !important;",3,"routerLink",4,"ngIf"],["class","material-icons mt-2","matTooltip","Saved Form List","style","cursor: pointer !important;",3,"click",4,"ngIf"],["matTooltip","Fill The Form",1,"material-icons",2,"font-size","26px","cursor","pointer !important",3,"routerLink"],["name","Fill_form"],["matTooltip","Saved Form List",1,"material-icons","mt-2",2,"cursor","pointer !important",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Ub(0,"div",0),n.Ub(1,"h1"),n.Oc(2," Forms List"),n.Tb(),n.Tb(),n.Ub(3,"div",1),n.Ub(4,"table",2),n.Sb(5,3),n.Mc(6,w,2,0,"th",4),n.Mc(7,O,2,1,"td",5),n.Rb(),n.Sb(8,6),n.Mc(9,D,2,0,"th",4),n.Mc(10,C,3,1,"td",5),n.Rb(),n.Sb(11,7),n.Mc(12,U,2,0,"th",8),n.Mc(13,M,16,0,"td",5),n.Rb(),n.Sb(14,9),n.Mc(15,v,2,0,"th",8),n.Mc(16,I,2,0,"td",5),n.Rb(),n.Sb(17,10),n.Mc(18,S,2,0,"th",8),n.Mc(19,B,4,2,"td",5),n.Rb(),n.Mc(20,A,1,0,"tr",11),n.Mc(21,x,1,0,"tr",12),n.Mc(22,H,3,0,"tr",13),n.Tb(),n.Pb(23,"mat-paginator",14),n.Tb()),2&t&&(n.Bb(4),n.qc("dataSource",e.dataSource),n.Bb(16),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(4,P)))},directives:[m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,m.d,b.b,m.a,p.v,p.D,g.a,o.n,T.a,r.g,y.b,m.f,m.i],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var _=i("1tPq");let q=(()=>{class t{constructor(t){this.activatedRoute=t,this.displayedColumns=["index","formName","edit"]}ngOnInit(){this.selectValue=this.activatedRoute.snapshot.params.index}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-fill-configured-form"]],decls:5,vars:3,consts:[[3,"selectedIndex"],["label","Logical Forms List"],[3,"displayedColumns"],["label","Dynamic Forms List"]],template:function(t,e){1&t&&(n.Ub(0,"mat-tab-group",0),n.Ub(1,"mat-tab",1),n.Pb(2,"app-forms",2),n.Tb(),n.Ub(3,"mat-tab",3),n.Pb(4,"app-dynamic-list",2),n.Tb(),n.Tb()),2&t&&(n.qc("selectedIndex",e.selectValue),n.Bb(2),n.qc("displayedColumns",e.displayedColumns),n.Bb(2),n.qc("displayedColumns",e.displayedColumns))},directives:[l.b,l.a,F,_.a],styles:[""]}),t})();var z=i("lJxs"),$=i("wbBK"),N=i("zXlT");const E=function(t){return[t]};function L(t,e){1&t&&(n.Ub(0,"div",24),n.Pb(1,"i",25),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,E,"/admin/forms/fillConfigForm/0"))}const j=function(){return["/admin/forms/tableData"]};function Q(t,e){1&t&&(n.Ub(0,"div",24),n.Pb(1,"i",25),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,j))}function V(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," ToolBox Talk List"),n.Tb())}function W(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," ToolBox Talk Form Histroy List"),n.Tb())}function G(t,e){1&t&&(n.Ub(0,"th",26),n.Oc(1," No. "),n.Tb())}function J(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.index+1)}}function X(t,e){1&t&&(n.Ub(0,"th",26),n.Oc(1," Form Id "),n.Tb())}function Y(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.formId)}}function K(t,e){1&t&&(n.Ub(0,"th",26),n.Oc(1," Version "),n.Tb())}function Z(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.version)}}function tt(t,e){1&t&&(n.Ub(0,"th",26),n.Oc(1," Name "),n.Tb())}function et(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.customerName)}}function it(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1," Phone"),n.Tb())}function ot(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.custConct)}}function nt(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Email"),n.Tb())}function ct(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function at(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Site Name"),n.Tb())}function st(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function rt(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Created Date"),n.Tb())}function lt(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function dt(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Updated Date"),n.Tb())}function mt(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function bt(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Created Date"),n.Tb())}function ut(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function ft(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Updated Date"),n.Tb())}function ht(t,e){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function pt(t,e){1&t&&(n.Ub(0,"th",28),n.Oc(1," Action "),n.Tb())}function gt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",31),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().edit(e._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().printPage(e._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",33),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().delete(e._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",34),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,E,"/admin/forms/tableData/history/"+t._id))}}function Tt(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",35),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().view(e._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function yt(t,e){if(1&t&&(n.Ub(0,"td",27),n.Mc(1,gt,9,3,"div",29),n.Mc(2,Tt,3,0,"div",29),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function wt(t,e){1&t&&n.Pb(0,"tr",36)}function Ot(t,e){1&t&&n.Pb(0,"tr",37)}function Dt(t,e){1&t&&(n.Ub(0,"tr",38),n.Ub(1,"td",39),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Ct=function(){return[20]};let Ut=(()=>{class t{constructor(t,e,i,o,n){this.activatedRoute=t,this.logicalFormInfo=e,this.router=i,this.shared=o,this.spinner=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"],this.role=["product owner"]}ngOnInit(){this.isHistory=this.router.url.includes("/tableData/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(z.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getToolBoxHistory()}):this.getToolBox()}ngAfterViewInit(){}delete(t){this.logicalFormInfo.deleteToolBox(t).subscribe(t=>{console.log("deleted",t),this.getToolBox()})}getToolBox(t="",e=""){this.logicalFormInfo.gettoolBox(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}getToolBoxHistory(t="",e="",i=this.id){this.logicalFormInfo.gettoolBoxHistory(t,e,i).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/toolboxTalk/"+t])}view(t){this.router.navigate(["/admin/forms/tableData/history/toolboxTalk/"+t],{queryParams:{returnTo:this.router.url}})}sortData(t){this.isHistory?this.getToolBoxHistory(t.active,t.direction):this.getToolBox(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}])}}return t.\u0275fac=function(e){return new(e||t)(n.Ob(r.a),n.Ob($.a),n.Ob(r.f),n.Ob(N.a),n.Ob(f.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-display-table"]],viewQuery:function(t,e){if(1&t&&(n.Sc(d.a,!0),n.Sc(b.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.paginator=t.first),n.xc(t=n.fc())&&(e.sort=t.first)}},decls:47,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","version"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["mat-icon-button","","matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Mc(0,L,2,3,"div",0),n.Mc(1,Q,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,V,2,0,"h1",2),n.Mc(4,W,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return e.sortData(t)}),n.Sb(7,5),n.Mc(8,G,2,0,"th",6),n.Mc(9,J,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,X,2,0,"th",6),n.Mc(12,Y,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,K,2,0,"th",6),n.Mc(15,Z,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,tt,2,0,"th",6),n.Mc(18,et,2,1,"td",7),n.Rb(),n.Sb(19,11),n.Mc(20,it,2,0,"th",12),n.Mc(21,ot,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,nt,2,0,"th",12),n.Mc(24,ct,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,at,2,0,"th",12),n.Mc(27,st,2,1,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,rt,2,0,"th",12),n.Mc(30,lt,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,dt,2,0,"th",12),n.Mc(33,mt,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,bt,2,0,"th",12),n.Mc(36,ut,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,ft,2,0,"th",12),n.Mc(39,ht,3,4,"td",7),n.Rb(),n.Sb(40,19),n.Mc(41,pt,2,0,"th",12),n.Mc(42,yt,3,2,"td",7),n.Rb(),n.Mc(43,wt,1,0,"tr",20),n.Mc(44,Ot,1,0,"tr",21),n.Mc(45,Dt,3,0,"tr",22),n.Tb(),n.Pb(46,"mat-paginator",23),n.Tb()),2&t&&(n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("dataSource",e.tempArray),n.Bb(37),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Ct)))},directives:[o.n,m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,r.g,m.d,b.b,m.a,T.a,r.h,m.f,m.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var Mt=i("9Ohn"),vt=i("4psL"),It=i("woRl"),St=i("lJ0R"),Rt=i("h5Ns"),kt=i("PSD3"),Bt=i.n(kt);const At=function(t){return[t]};function xt(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,At,"/admin/forms/fillConfigForm/0"))}const Ht=function(){return["/admin/forms/siteinspectiontable"]};function Pt(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Ht))}function Ft(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Site Inspection List"),n.Tb())}function _t(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Site Inspection Form History List"),n.Tb())}function qt(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function zt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.version)}}function $t(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function Nt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.formId)}}function Et(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function Lt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.customerName)}}function jt(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function Qt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.custConctPh)}}function Vt(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function Wt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function Gt(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function Jt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function Xt(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Yt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function Kt(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Zt(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function te(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function ee(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function ie(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function oe(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function ne(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function ce(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().edit(e._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().printPage(e._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().delete(e._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,At,"/admin/forms/siteinspectiontable/history/"+t._id))}}function ae(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().view(e._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function se(t,e){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,ce,9,3,"div",28),n.Mc(2,ae,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function re(t,e){1&t&&n.Pb(0,"tr",35)}function le(t,e){1&t&&n.Pb(0,"tr",36)}function de(t,e){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const me=function(){return[20]};let be=(()=>{class t{constructor(t,e,i,o,n){this.logicalFormInfo=t,this.router=e,this.spinner=i,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/siteinspectiontable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(z.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getsiteInspectionHistory()}):this.getsiteInspection()}ngAfterViewInit(){}delete(t){Bt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteSiteInspection(t).subscribe(t=>{Bt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getsiteInspection()})})}getsiteInspection(t="",e=""){this.logicalFormInfo.getAllSiteInspection(t,e).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,console.log("res",this.showDatas),this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}getsiteInspectionHistory(t="",e="",i=this.id){this.logicalFormInfo.getAllSiteInspectionHistory(t,e,i).subscribe(t=>{console.log("res",t.result),this.showDatas=t.result,console.log("res",this.showDatas),this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/siteInspect/"+t])}sortData(t){this.isHistory?this.getsiteInspectionHistory(t.active,t.direction):this.getsiteInspection(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.clear(),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}])}view(t){this.router.navigate(["/admin/forms/siteinspectiontable/history/siteInspect/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob($.a),n.Ob(r.f),n.Ob(f.c),n.Ob(N.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-site-inspection-table"]],viewQuery:function(t,e){if(1&t&&(n.Sc(d.a,!0),n.Sc(b.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.paginator=t.first),n.xc(t=n.fc())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Mc(0,xt,2,3,"div",0),n.Mc(1,Pt,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Ft,2,0,"h1",2),n.Mc(4,_t,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return e.sortData(t)}),n.Sb(7,5),n.Mc(8,qt,2,0,"th",6),n.Mc(9,zt,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,$t,2,0,"th",6),n.Mc(12,Nt,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,Et,2,0,"th",6),n.Mc(15,Lt,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,jt,2,0,"th",11),n.Mc(18,Qt,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,Vt,2,0,"th",11),n.Mc(21,Wt,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Gt,2,0,"th",11),n.Mc(24,Jt,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,Xt,2,0,"th",11),n.Mc(27,Yt,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,Kt,2,0,"th",11),n.Mc(30,Zt,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,te,2,0,"th",11),n.Mc(33,ee,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,ie,2,0,"th",11),n.Mc(36,oe,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,ne,2,0,"th",11),n.Mc(39,se,3,2,"td",7),n.Rb(),n.Mc(40,re,1,0,"tr",19),n.Mc(41,le,1,0,"tr",20),n.Mc(42,de,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("dataSource",e.tempArray),n.Bb(34),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,me)))},directives:[o.n,m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,r.g,m.d,b.b,m.a,T.a,r.h,m.f,m.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const ue=function(t){return[t]};function fe(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,ue,"/admin/forms/fillConfigForm/0"))}const he=function(){return["/admin/forms/hazardTable"]};function pe(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,he))}function ge(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Hazard Form List"),n.Tb())}function Te(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Hazard Form History List"),n.Tb())}function ye(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function we(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.version)}}function Oe(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function De(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.formId)}}function Ce(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function Ue(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.fullName)}}function Me(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function ve(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.phone)}}function Ie(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function Se(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.email," ")}}function Re(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Position"),n.Tb())}function ke(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.position," ")}}function Be(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Ae(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function xe(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function He(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function Pe(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Fe(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function _e(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function qe(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function ze(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function $e(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().edit(e._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().printPage(e._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().delete(e._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,ue,"/admin/forms/hazardTable/history/"+t._id))}}function Ne(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().view(e._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function Ee(t,e){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,$e,9,3,"div",28),n.Mc(2,Ne,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function Le(t,e){1&t&&n.Pb(0,"tr",35)}function je(t,e){1&t&&n.Pb(0,"tr",36)}function Qe(t,e){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Ve=function(){return[20]};let We=(()=>{class t{constructor(t,e,i,o,n){this.logicalFormInfo=t,this.router=e,this.spinner=i,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","name","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/hazardTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(z.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","name","phone","email","site","createdTime","updatedTime","action"],this.getAllHazardFormDataHistory()}):this.getAllHazardFormData()}getAllHazardFormDataHistory(t="",e="",i=this.id){this.logicalFormInfo.getAllHazardFormDataHistory(t,e,i).subscribe(t=>{console.log("res",t.data),this.showDatas=t.result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),console.log("this.showDatas",this.showDatas),this.dataSource=new m.l(this.showDatas),console.log("get res",this.showDatas)})}delete(t){Bt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteHazardFormData(t).subscribe(t=>{Bt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllHazardFormData()})})}getAllHazardFormData(t="",e=""){this.logicalFormInfo.getAllHazardFormData(t,e).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),console.log("this.showDatas",this.showDatas),this.dataSource=new m.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/hazardRep/"+t])}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}])}sortData(t){this.isHistory?this.getAllHazardFormDataHistory(t.active,t.direction):this.getAllHazardFormData(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/hazardTable/history/hazardRep/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob($.a),n.Ob(r.f),n.Ob(f.c),n.Ob(N.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-hazard-form-table-details"]],viewQuery:function(t,e){if(1&t&&(n.Sc(d.a,!0),n.Sc(b.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.paginator=t.first),n.xc(t=n.fc())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Mc(0,fe,2,3,"div",0),n.Mc(1,pe,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,ge,2,0,"h1",2),n.Mc(4,Te,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return e.sortData(t)}),n.Sb(7,5),n.Mc(8,ye,2,0,"th",6),n.Mc(9,we,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,Oe,2,0,"th",6),n.Mc(12,De,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,Ce,2,0,"th",6),n.Mc(15,Ue,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,Me,2,0,"th",11),n.Mc(18,ve,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,Ie,2,0,"th",11),n.Mc(21,Se,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Re,2,0,"th",11),n.Mc(24,ke,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,Be,2,0,"th",11),n.Mc(27,Ae,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,xe,2,0,"th",11),n.Mc(30,He,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,Pe,2,0,"th",11),n.Mc(33,Fe,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,_e,2,0,"th",11),n.Mc(36,qe,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,ze,2,0,"th",11),n.Mc(39,Ee,3,2,"td",7),n.Rb(),n.Mc(40,Le,1,0,"tr",19),n.Mc(41,je,1,0,"tr",20),n.Mc(42,Qe,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("dataSource",e.dataSource),n.Bb(34),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Ve)))},directives:[o.n,m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,r.g,m.d,b.b,m.a,T.a,r.h,m.f,m.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const Ge=function(t){return[t]};function Je(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,Ge,"/admin/forms/fillConfigForm/0"))}const Xe=function(){return["/admin/forms/incidentsTable"]};function Ye(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Xe))}function Ke(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Accident Report List"),n.Tb())}function Ze(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Accident Report Form Histroy List"),n.Tb())}function ti(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function ei(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.version)}}function ii(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function oi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.formId)}}function ni(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Project Name "),n.Tb())}function ci(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.projectName)}}function ai(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Customer Name"),n.Tb())}function si(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.customerName)}}function ri(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function li(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.customerEmail," ")}}function di(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function mi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function bi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function ui(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function fi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function hi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function pi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function gi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function Ti(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function yi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function wi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function Oi(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",31),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().edit(e._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().printPage(e._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",33),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().delete(e._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",34),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,Ge,"/admin/forms/incidentsTable/history/"+t._id))}}function Di(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",35),n.Ub(1,"span",36),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().view(e._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function Ci(t,e){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,Oi,9,3,"div",28),n.Mc(2,Di,3,0,"div",29),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function Ui(t,e){1&t&&n.Pb(0,"tr",37)}function Mi(t,e){1&t&&n.Pb(0,"tr",38)}function vi(t,e){1&t&&(n.Ub(0,"tr",39),n.Ub(1,"td",40),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Ii=function(){return[20]};let Si=(()=>{class t{constructor(t,e,i,o,n){this.logicalFormInfo=t,this.router=e,this.shared=i,this.spinner=o,this.activatedRoute=n,this.displayedColumns=["formId","projectName","customerName","Email","Site","createdAt","updatedAt","Action"],this.isHistory=!1}ngOnInit(){this.isHistory=this.router.url.includes("/incidentsTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(z.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","projectName","customerName","Email","Site","createdTime","updatedTime","Action"],this.getIncidentReportHistory()}):this.getIncidentReport()}view(t){this.router.navigate(["/admin/forms/incidentsTable/history/incidentRep/"+t],{queryParams:{returnTo:this.router.url}})}getIncidentReportHistory(t="",e="",i=this.id){this.logicalFormInfo.getAllIncidentHistory(t,e,i).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Bt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteIncidentReport(t).subscribe(t=>{console.log("deleted",t),Bt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getIncidentReport()})})}getIncidentReport(t="",e=""){this.logicalFormInfo.getAllIncidentReport(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/incidentRep/"+t])}sortData(t){this.isHistory?this.getIncidentReportHistory(t.active,t.direction):this.getIncidentReport(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}])}}return t.\u0275fac=function(e){return new(e||t)(n.Ob($.a),n.Ob(r.f),n.Ob(N.a),n.Ob(f.c),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-incidents-table"]],viewQuery:function(t,e){if(1&t&&(n.Sc(d.a,!0),n.Sc(b.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.paginator=t.first),n.xc(t=n.fc())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","projectName"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["div","","style","display: flex; justify-content: space-around;",4,"ngIf"],["style","display: flex; justify-content: space-around;",4,"ngIf"],["div","",2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","Delete","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],[2,"display","flex","justify-content","space-around"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Mc(0,Je,2,3,"div",0),n.Mc(1,Ye,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Ke,2,0,"h1",2),n.Mc(4,Ze,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return e.sortData(t)}),n.Sb(7,5),n.Mc(8,ti,2,0,"th",6),n.Mc(9,ei,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,ii,2,0,"th",6),n.Mc(12,oi,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,ni,2,0,"th",6),n.Mc(15,ci,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,ai,2,0,"th",11),n.Mc(18,si,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,ri,2,0,"th",11),n.Mc(21,li,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,di,2,0,"th",11),n.Mc(24,mi,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,bi,2,0,"th",11),n.Mc(27,ui,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,fi,2,0,"th",11),n.Mc(30,hi,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,pi,2,0,"th",11),n.Mc(33,gi,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,Ti,2,0,"th",11),n.Mc(36,yi,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,wi,2,0,"th",11),n.Mc(39,Ci,3,2,"td",7),n.Rb(),n.Mc(40,Ui,1,0,"tr",19),n.Mc(41,Mi,1,0,"tr",20),n.Mc(42,vi,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("dataSource",e.tempArray),n.Bb(34),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Ii)))},directives:[o.n,m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,r.g,m.d,b.b,m.a,T.a,r.h,m.f,m.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const Ri=function(t){return[t]};function ki(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,Ri,"/admin/forms/fillConfigForm/0"))}const Bi=function(){return["/admin/forms/riskAssessTable"]};function Ai(t,e){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Bi))}function xi(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Risk Assessment List"),n.Tb())}function Hi(t,e){1&t&&(n.Ub(0,"h1"),n.Oc(1," Risk Assessment History List"),n.Tb())}function Pi(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function Fi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.version)}}function _i(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function qi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.formId)}}function zi(t,e){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function $i(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.customerName)}}function Ni(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function Ei(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Pc(t.custConct)}}function Li(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function ji(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function Qi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function Vi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function Wi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Gi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function Ji(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function Xi(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function Yi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Ki(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function Zi(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function to(t,e){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=e.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function eo(t,e){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function io(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().edit(e._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().printPage(e._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().delete(e)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,Ri,"/admin/forms/riskAssessTable/history/"+t._id))}}function oo(t,e){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const e=n.ic().$implicit;return n.ic().view(e._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function no(t,e){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,io,9,3,"div",28),n.Mc(2,oo,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function co(t,e){1&t&&n.Pb(0,"tr",35)}function ao(t,e){1&t&&n.Pb(0,"tr",36)}function so(t,e){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const ro=function(){return[20]};let lo=(()=>{class t{constructor(t,e,i,o,n){this.logicalFormInfo=t,this.router=e,this.spinner=i,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/riskAssessTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(z.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getAssesmentHistory()}):this.getAssesment()}getAssesmentHistory(t="",e="",i=this.id){this.logicalFormInfo.getAllassessmetHistory(t,e,i).subscribe(t=>{this.showDatas=t.result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Bt.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.customerName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&(this.spinner.show(),this.logicalFormInfo.deleteAssessment(t._id).subscribe(e=>{Bt.a.fire({title:`"${t.customerName}"? Deleted successfully`,showConfirmButton:!1,timer:1200}),this.getAssesment(),this.spinner.hide()}))})}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}])}getAssesment(t="",e=""){this.logicalFormInfo.getAllassessmet(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new m.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){localStorage.setItem("key"," "),this.router.navigate(["/admin/forms/riskAssessSWMS/"+t])}sortData(t){this.isHistory?this.getAssesmentHistory(t.active,t.direction):this.getAssesment(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/riskAssessTable/history/riskAssessSWMS/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(n.Ob($.a),n.Ob(r.f),n.Ob(f.c),n.Ob(N.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-risk-assesment-table"]],viewQuery:function(t,e){if(1&t&&(n.Sc(d.a,!0),n.Sc(b.a,!0)),2&t){let t;n.xc(t=n.fc())&&(e.paginator=t.first),n.xc(t=n.fc())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(n.Mc(0,ki,2,3,"div",0),n.Mc(1,Ai,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,xi,2,0,"h1",2),n.Mc(4,Hi,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return e.sortData(t)}),n.Sb(7,5),n.Mc(8,Pi,2,0,"th",6),n.Mc(9,Fi,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,_i,2,0,"th",6),n.Mc(12,qi,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,zi,2,0,"th",6),n.Mc(15,$i,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,Ni,2,0,"th",11),n.Mc(18,Ei,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,Li,2,0,"th",11),n.Mc(21,ji,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Qi,2,0,"th",11),n.Mc(24,Vi,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,Wi,2,0,"th",11),n.Mc(27,Gi,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,Ji,2,0,"th",11),n.Mc(30,Xi,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,Yi,2,0,"th",11),n.Mc(33,Ki,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,Zi,2,0,"th",11),n.Mc(36,to,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,eo,2,0,"th",11),n.Mc(39,no,3,2,"td",7),n.Rb(),n.Mc(40,co,1,0,"tr",19),n.Mc(41,ao,1,0,"tr",20),n.Mc(42,so,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("ngIf",!e.isHistory),n.Bb(1),n.qc("ngIf",e.isHistory),n.Bb(2),n.qc("dataSource",e.tempArray),n.Bb(34),n.qc("matHeaderRowDef",e.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",e.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,ro)))},directives:[o.n,m.k,b.a,m.c,m.e,m.b,m.g,m.j,m.h,d.a,r.g,m.d,b.b,m.a,T.a,r.h,m.f,m.i],pipes:[o.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const mo=[{path:"",component:F},{path:"forms",component:F},{path:"siteInspect/:id",component:St.a},{path:"toolboxTalk/:id",component:Rt.a},{path:"hazardRep/:id",component:Mt.a},{path:"incidentRep/:id",component:vt.a},{path:"riskAssessSWMS/:id",component:It.a},{path:"riskAssessTable",component:lo},{path:"tableData",component:Ut},{path:"tableData/history/:id",component:Ut},{path:"tableData/history/:id",component:Ut},{path:"riskAssessTable/history/:id",component:lo},{path:"siteinspectiontable/history/:id",component:be},{path:"hazardTable/history/:id",component:We},{path:"incidentsTable/history/:id",component:Si},{path:"tableData/history/toolboxTalk/:id",component:Rt.a},{path:"riskAssessTable/history/riskAssessSWMS/:id",component:It.a},{path:"siteinspectiontable/history/siteInspect/:id",component:St.a},{path:"hazardTable/history/hazardRep/:id",component:Mt.a},{path:"incidentsTable/history/incidentRep/:id",component:vt.a},{path:"siteinspectiontable",component:be},{path:"hazardTable",component:We},{path:"incidentsTable",component:Si},{path:"fillConfigForm/:index",component:q}];let bo=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},imports:[[r.j.forChild(mo)],r.j]}),t})();var uo=i("HnZm"),fo=i("PCNd"),ho=i("zioG"),po=i("tk/3"),go=i("0SJk"),To=i("kY4h"),yo=i("6bhV"),wo=i("qFsG"),Oo=i("iadO"),Do=i("tZ2A"),Co=i("x+4y");let Uo=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(e){return new(e||t)},providers:[a,{provide:po.a,useClass:go.a,multi:!0}],imports:[[o.c,c,bo,p.y,uo.b,fo.a,p.m,ho.b,To.b,yo.b,s.b,wo.c,Oo.c,Do.DynamicFormModule,Co.a,y.a,T.b]]}),t})()}}]);