(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"99tz":function(e,t,n){"use strict";n.r(t),n.d(t,"DepartmentModule",function(){return S});var a=n("SVse"),r=n("iInd"),i=n("m2BR"),l=n("8Y7J");const o=[{path:"",component:i.a}];let m=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.j.forChild(o)],r.j]}),e})();var c=n("OaSA"),d=n("Dxy4"),s=n("Tj54"),u=n("5QHs"),p=n("LUZP"),f=n("Q2Ze"),h=n("e6WT"),D=n("s7LF");let S=(()=>{class e{}return e.\u0275mod=l["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=l["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.c,D.m,D.y,m,c.m,d.b,s.b,u.b,p.c,f.e,h.c]]}),e})()},m2BR:function(e,t,n){"use strict";n.d(t,"a",function(){return T});var a=n("LUZP"),r=n("OaSA"),i=n("5QHs"),l=n("PSD3"),o=n.n(l),m=n("s7LF"),c=n("8Y7J"),d=n("iELJ"),s=n("8g75"),u=n("Q2Ze"),p=n("e6WT"),f=n("Dxy4");let h=(()=>{class e{constructor(e,t){this.matDialogRef=e,this.departmentService=t,this.departmentName=new m.g("")}ngOnInit(){this.closeDialog=e=>{this.matDialogRef.close(e)}}addDepartment(){this.departmentService.addDepartment({departmentName:this.departmentName.value}).subscribe(e=>{this.closeDialog(!0)})}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](d.f),c["\u0275\u0275directiveInject"](s.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-add-department"]],decls:11,vars:2,consts:[["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","",3,"formControl"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"h2"),c["\u0275\u0275text"](1,"Department"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](2,"mat-form-field",0),c["\u0275\u0275element"](3,"input",1),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"div",2),c["\u0275\u0275elementStart"](5,"div",3),c["\u0275\u0275elementStart"](6,"button",4),c["\u0275\u0275listener"]("click",function(){return t.closeDialog(!1)}),c["\u0275\u0275text"](7,"Close"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](8,"div",5),c["\u0275\u0275elementStart"](9,"button",6),c["\u0275\u0275listener"]("click",function(){return t.addDepartment()}),c["\u0275\u0275text"](10," Add "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](3),c["\u0275\u0275property"]("formControl",t.departmentName),c["\u0275\u0275advance"](6),c["\u0275\u0275property"]("disabled",!t.departmentName.valid))},directives:[u.c,p.b,m.d,m.r,m.h,f.a],styles:[""]}),e})();var D=n("p20J"),S=n("yZxC"),b=n("Tj54");function v(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",18),c["\u0275\u0275text"](1,"No."),c["\u0275\u0275elementEnd"]())}function w(e,t){if(1&e&&(c["\u0275\u0275elementStart"](0,"td",19),c["\u0275\u0275text"](1),c["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.index)}}function g(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",18),c["\u0275\u0275text"](1,"Name"),c["\u0275\u0275elementEnd"]())}function E(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td",19),c["\u0275\u0275elementStart"](1,"input",20),c["\u0275\u0275listener"]("change",function(n){c["\u0275\u0275restoreView"](e);const a=t.$implicit,r=c["\u0275\u0275nextContext"]();return a.updatedValue=n.target.value,r.log(n.target.value)}),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("value",e.departmentName)("disabled",e.isDisabled)}}function C(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"th",21),c["\u0275\u0275text"](1,"Action"),c["\u0275\u0275elementEnd"]())}function y(e,t){if(1&e){const e=c["\u0275\u0275getCurrentView"]();c["\u0275\u0275elementStart"](0,"td",22),c["\u0275\u0275elementStart"](1,"button",23),c["\u0275\u0275elementStart"](2,"mat-icon",24),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().edit(n),n.isDisabled=!n.isDisabled}),c["\u0275\u0275text"](3),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](4,"button",25),c["\u0275\u0275listener"]("click",function(){c["\u0275\u0275restoreView"](e);const n=t.$implicit;return c["\u0275\u0275nextContext"]().delete(n)}),c["\u0275\u0275elementStart"](5,"mat-icon",26),c["\u0275\u0275text"](6,"delete"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit;c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("matTooltip",e.isDisabled?"Edit":"Save"),c["\u0275\u0275advance"](1),c["\u0275\u0275textInterpolate"](e.isDisabled?"edit":"save")}}function x(e,t){1&e&&c["\u0275\u0275element"](0,"tr",27)}function A(e,t){1&e&&c["\u0275\u0275element"](0,"tr",28)}function j(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"tr",29),c["\u0275\u0275elementStart"](1,"td",30),c["\u0275\u0275text"](2,"Data Not Found"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"]())}const k=function(){return[20]};let T=(()=>{class e{constructor(e,t,n,a){this.snack=e,this.departmentService=t,this.dialog=n,this.setTitle=a,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new r.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllDepartment(),this.setTitle.setTitle("WHS-Control And Action Required List")}getAllDepartment(e="",t=""){this.departmentService.getAllDepartment().subscribe(e=>{const t=e.data;t.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=t.map(e=>Object.assign({},Object.assign(Object.assign({},e),{isDisabled:!0}))),this.dataSource=new r.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(e){e.isDisabled||e.title!==e.updatedValue&&this.departmentService.updateDepartment(e._id,{departmentName:e.updatedValue}).subscribe(e=>{this.getAllDepartment(),o.a.fire({title:"Parameter Edited successfully",showConfirmButton:!1,timer:1200})})}delete(e){o.a.fire({title:"Are you sure?",text:`Do you want to delete "${e.departmentName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(t=>{t.value&&this.departmentService.deleteDepartment(e._id).subscribe(e=>{o.a.fire({title:"Parameter Deleted successfully",showConfirmButton:!1,timer:1200}),this.getAllDepartment()})})}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}copySuccess(){this.snack.openSnackBar("Copied to clipboard")}sortData(e){this.getAllDepartment(e.active,e.direction)}addDepartment(){this.dialog.open(h,{}).afterClosed().subscribe(e=>{e&&(o.a.fire({title:"Deparment Added successfully",showConfirmButton:!1,timer:1200}),this.getAllDepartment())})}log(e){console.log(e)}}return e.\u0275fac=function(t){return new(t||e)(c["\u0275\u0275directiveInject"](D.a),c["\u0275\u0275directiveInject"](s.a),c["\u0275\u0275directiveInject"](d.b),c["\u0275\u0275directiveInject"](S.a))},e.\u0275cmp=c["\u0275\u0275defineComponent"]({type:e,selectors:[["app-department"]],viewQuery:function(e,t){if(1&e&&(c["\u0275\u0275viewQuery"](i.a,!0),c["\u0275\u0275viewQuery"](a.a,!0)),2&e){let e;c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.paginator=e.first),c["\u0275\u0275queryRefresh"](e=c["\u0275\u0275loadQuery"]())&&(t.sort=e.first)}},decls:23,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,"col-6"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","","style","width: 10%",4,"matHeaderCellDef"],["mat-cell","","style","width: 15%",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"form-control",3,"value","disabled","change"],["mat-header-cell","",2,"width","10%"],["mat-cell","",2,"width","15%"],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2"],[3,"matTooltip","click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(c["\u0275\u0275elementStart"](0,"div",0),c["\u0275\u0275elementStart"](1,"h1"),c["\u0275\u0275text"](2,"Department List"),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementStart"](3,"div",1),c["\u0275\u0275elementStart"](4,"button",2),c["\u0275\u0275listener"]("click",function(){return t.addDepartment()}),c["\u0275\u0275element"](5,"i",3),c["\u0275\u0275text"](6,"Add Department "),c["\u0275\u0275elementEnd"](),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](7,"div",4),c["\u0275\u0275elementStart"](8,"div",5),c["\u0275\u0275elementStart"](9,"table",6),c["\u0275\u0275listener"]("matSortChange",function(e){return t.sortData(e)}),c["\u0275\u0275elementContainerStart"](10,7),c["\u0275\u0275template"](11,v,2,0,"th",8),c["\u0275\u0275template"](12,w,2,1,"td",9),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](13,10),c["\u0275\u0275template"](14,g,2,0,"th",8),c["\u0275\u0275template"](15,E,2,2,"td",9),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275elementContainerStart"](16,11),c["\u0275\u0275template"](17,C,2,0,"th",12),c["\u0275\u0275template"](18,y,7,2,"td",13),c["\u0275\u0275elementContainerEnd"](),c["\u0275\u0275template"](19,x,1,0,"tr",14),c["\u0275\u0275template"](20,A,1,0,"tr",15),c["\u0275\u0275template"](21,j,3,0,"tr",16),c["\u0275\u0275elementEnd"](),c["\u0275\u0275element"](22,"mat-paginator",17),c["\u0275\u0275elementEnd"]()),2&e&&(c["\u0275\u0275advance"](9),c["\u0275\u0275property"]("dataSource",t.dataSource),c["\u0275\u0275advance"](10),c["\u0275\u0275property"]("matHeaderRowDef",t.displayedColumns),c["\u0275\u0275advance"](1),c["\u0275\u0275property"]("matRowDefColumns",t.displayedColumns),c["\u0275\u0275advance"](2),c["\u0275\u0275property"]("pageSizeOptions",c["\u0275\u0275pureFunction0"](4,k)))},directives:[r.k,a.a,r.c,r.e,r.b,r.g,r.j,r.h,i.a,r.d,a.b,r.a,f.a,b.a,r.f,r.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),e})()},p20J:function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n("mrSG"),n("VfN6");var a=n("8Y7J"),r=n("zHaW");let i=(()=>{class e{constructor(e){this.snackbar=e}openSnackBar(e,t="close"){return this.snackbar.open(e,t,{duration:3e3,horizontalPosition:"right"})}}return e.\u0275fac=function(t){return new(t||e)(a["\u0275\u0275inject"](r.a))},e.\u0275prov=a["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);