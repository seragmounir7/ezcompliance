!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function n(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{m7j2:function(e,a,i){"use strict";i.r(a),i.d(a,"StateRelModule",function(){return qe});var r=i("ofXK"),l=i("mrSG"),o=i("M9IT"),c=i("Dh3D"),d=i("+0xr"),s=i("PSD3"),m=i.n(s),u=i("3Pt+"),f=i("0IaG"),p=i("VfN6"),h=i("fXoL"),g=i("wbBK"),v=i("kmnG"),S=i("qFsG"),b=i("bTqV");function y(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Add Regulator"),h["\u0275\u0275elementEnd"]())}function E(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Edit Regulator"),h["\u0275\u0275elementEnd"]())}function C(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().onFormSubmit()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}function w(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().addForm()}),h["\u0275\u0275text"](1," Add "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}var x,I=((x=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.dialogRef=i,this.data=r,this.dataRec=r}return n(e,[{key:"ngOnInit",value:function(){this.editTitle=this.fb.group({title:[this.dataRec.title,u.C.required]})}},{key:"onFormSubmit",value:function(){var t=this,e={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateRegulator(e,this.dataRec._id).subscribe(function(e){t.dialogRef.close("true"),m.a.fire({title:"Regulator Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"addForm",value:function(){var t=this,e={title:this.editTitle.get("title").value};this.logicalFormInfo.addRegulator(e).subscribe(function(e){t.dialogRef.close("true"),m.a.fire(t.dataRec?{title:"Regulator Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Regulator Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}}]),e}()).\u0275fac=function(t){return new(t||x)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.f),h["\u0275\u0275directiveInject"](f.a))},x.\u0275cmp=h["\u0275\u0275defineComponent"]({type:x,selectors:[["app-add-and-edit-reg"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"form",0),h["\u0275\u0275template"](1,y,2,0,"h2",1),h["\u0275\u0275template"](2,E,2,0,"h2",1),h["\u0275\u0275elementStart"](3,"mat-form-field",2),h["\u0275\u0275element"](4,"input",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"div",5),h["\u0275\u0275elementStart"](7,"button",6),h["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),h["\u0275\u0275text"](8,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275template"](10,C,2,1,"button",8),h["\u0275\u0275template"](11,w,2,1,"button",8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("formGroup",e.editTitle),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[u.E,u.s,u.k,r.n,v.c,S.b,u.d,u.r,u.i,b.a],styles:[""]}),x=Object(l.b)([Object(p.a)({checkProperties:!0})],x)),k=i("yZxC"),A=i("NFeN"),R=i("Qu3c");function D(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function F(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function T(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"Name"),h["\u0275\u0275elementEnd"]())}function j(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.title)}}function O(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",18),h["\u0275\u0275text"](1,"Action"),h["\u0275\u0275elementEnd"]())}function N(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275elementStart"](1,"button",19),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().edit(t)}),h["\u0275\u0275elementStart"](2,"mat-icon",20),h["\u0275\u0275text"](3,"edit"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"button",21),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().delete(t)}),h["\u0275\u0275elementStart"](5,"mat-icon",22),h["\u0275\u0275text"](6,"delete"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function _(t,e){1&t&&h["\u0275\u0275element"](0,"tr",23)}function L(t,e){1&t&&h["\u0275\u0275element"](0,"tr",24)}function B(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"tr",25),h["\u0275\u0275elementStart"](1,"td",26),h["\u0275\u0275text"](2,"Data Not Found"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}var P,V=function(){return[20]},M=((P=function(){function e(n,a,i){t(this,e),this.logicalFormInfo=n,this.setTitle=a,this.dialog=i,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllRegulator(),this.setTitle.setTitle("WHS-Regulator List")}},{key:"getAllRegulator",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllRegulator(e,n).subscribe(function(e){var n=e.data;n.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=n,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"edit",value:function(t){var e=this;this.dialog.open(I,{width:"550px",data:t}).afterClosed().subscribe(function(t){"true"==t&&e.getAllRegulator()})}},{key:"delete",value:function(t){var e=this;m.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.title,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&e.logicalFormInfo.deleteRegulator(t._id).subscribe(function(t){m.a.fire({title:"Regulator Deleted successfully",showConfirmButton:!1,timer:1200}),e.getAllRegulator()})})}},{key:"sortData",value:function(t){this.getAllRegulator(t.active,t.direction)}}]),e}()).\u0275fac=function(t){return new(t||P)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](k.a),h["\u0275\u0275directiveInject"](f.b))},P.\u0275cmp=h["\u0275\u0275defineComponent"]({type:P,selectors:[["app-regulator"]],viewQuery:function(t,e){var n;1&t&&(h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](c.a,!0)),2&t&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.sort=n.first))},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"h1"),h["\u0275\u0275text"](2,"Regulator List"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",1),h["\u0275\u0275elementStart"](4,"button",2),h["\u0275\u0275listener"]("click",function(){return e.edit("")}),h["\u0275\u0275element"](5,"i",3),h["\u0275\u0275text"](6,"Add Regulator "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",4),h["\u0275\u0275elementStart"](8,"table",5),h["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),h["\u0275\u0275elementContainerStart"](9,6),h["\u0275\u0275template"](10,D,2,0,"th",7),h["\u0275\u0275template"](11,F,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](12,9),h["\u0275\u0275template"](13,T,2,0,"th",7),h["\u0275\u0275template"](14,j,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,10),h["\u0275\u0275template"](16,O,2,0,"th",11),h["\u0275\u0275template"](17,N,7,0,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](18,_,1,0,"tr",12),h["\u0275\u0275template"](19,L,1,0,"tr",13),h["\u0275\u0275template"](20,B,3,0,"tr",14),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](21,"mat-paginator",15),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,V)))},directives:[d.k,c.a,d.c,d.e,d.b,d.g,d.j,d.h,o.a,d.d,c.b,d.a,b.a,A.a,R.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),P=Object(l.b)([Object(p.a)({checkProperties:!0})],P));function J(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Add Safety Legislation"),h["\u0275\u0275elementEnd"]())}function Q(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Edit Safety Legislation"),h["\u0275\u0275elementEnd"]())}function q(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",10),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().onFormSubmit()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}function $(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",10),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().addForm()}),h["\u0275\u0275text"](1," Add "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}var H,G=((H=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.dialogRef=i,this.data=r,this.dataRec=r}return n(e,[{key:"ngOnInit",value:function(){this.editTitle=this.fb.group({act:[this.dataRec.act,u.C.required],regulation:[this.dataRec.regulation,u.C.required]})}},{key:"onFormSubmit",value:function(){var t=this,e={act:this.editTitle.get("act").value,regulation:this.editTitle.get("regulation").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateSafety(e,this.dataRec._id).subscribe(function(e){t.dialogRef.close("true"),m.a.fire({title:"Safety Legislation Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"addForm",value:function(){var t=this,e={act:this.editTitle.get("act").value,regulation:this.editTitle.get("regulation").value};this.logicalFormInfo.addSafety(e).subscribe(function(e){t.dialogRef.close("true"),m.a.fire(t.dataRec?{title:"Safety Legislation Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Safety Legislation Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}}]),e}()).\u0275fac=function(t){return new(t||H)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.f),h["\u0275\u0275directiveInject"](f.a))},H.\u0275cmp=h["\u0275\u0275defineComponent"]({type:H,selectors:[["app-add-and-edit-safety"]],decls:14,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","placeholder","Act","formControlName","act"],["matInput","","placeholder","Regulation","formControlName","regulation"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"form",0),h["\u0275\u0275template"](1,J,2,0,"h2",1),h["\u0275\u0275template"](2,Q,2,0,"h2",1),h["\u0275\u0275elementStart"](3,"mat-form-field",2),h["\u0275\u0275element"](4,"input",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"mat-form-field",2),h["\u0275\u0275element"](6,"input",4),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",5),h["\u0275\u0275elementStart"](8,"div",6),h["\u0275\u0275elementStart"](9,"button",7),h["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),h["\u0275\u0275text"](10,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](11,"div",8),h["\u0275\u0275template"](12,q,2,1,"button",9),h["\u0275\u0275template"](13,$,2,1,"button",9),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("formGroup",e.editTitle),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[u.E,u.s,u.k,r.n,v.c,S.b,u.d,u.r,u.i,b.a],styles:[""]}),H=Object(l.b)([Object(p.a)({checkProperties:!0})],H));function z(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",17),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function U(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",18),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function W(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",17),h["\u0275\u0275text"](1,"Act"),h["\u0275\u0275elementEnd"]())}function Y(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",18),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.act)}}function K(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",19),h["\u0275\u0275text"](1,"Regulation"),h["\u0275\u0275elementEnd"]())}function X(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",18),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.regulation)}}function Z(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",19),h["\u0275\u0275text"](1,"Action"),h["\u0275\u0275elementEnd"]())}function tt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",18),h["\u0275\u0275elementStart"](1,"button",20),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().edit(t)}),h["\u0275\u0275elementStart"](2,"mat-icon",21),h["\u0275\u0275text"](3,"edit"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"button",22),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().delete(t)}),h["\u0275\u0275elementStart"](5,"mat-icon",23),h["\u0275\u0275text"](6,"delete"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function et(t,e){1&t&&h["\u0275\u0275element"](0,"tr",24)}function nt(t,e){1&t&&h["\u0275\u0275element"](0,"tr",25)}function at(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"tr",26),h["\u0275\u0275elementStart"](1,"td",27),h["\u0275\u0275text"](2,"Data Not Found"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}var it,rt=function(){return[20]},lt=((it=function(){function e(n,a,i){t(this,e),this.logicalFormInfo=n,this.setTitle=a,this.dialog=i,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","act","regulation","action"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllSafetyReg(),this.setTitle.setTitle("WHS-Safety Legislation List")}},{key:"getAllSafetyReg",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllSafety(e,n).subscribe(function(e){var n=e.data;n.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=n,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"edit",value:function(t){var e=this;this.dialog.open(G,{width:"550px",data:t}).afterClosed().subscribe(function(t){"true"==t&&e.getAllSafetyReg()})}},{key:"delete",value:function(t){var e=this;m.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.act,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&e.logicalFormInfo.deleteSafety(t._id).subscribe(function(t){m.a.fire({title:"Safety Legislation Deleted successfully",showConfirmButton:!1,timer:1200}),e.getAllSafetyReg()})})}},{key:"sortData",value:function(t){this.getAllSafetyReg(t.active,t.direction)}}]),e}()).\u0275fac=function(t){return new(t||it)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](k.a),h["\u0275\u0275directiveInject"](f.b))},it.\u0275cmp=h["\u0275\u0275defineComponent"]({type:it,selectors:[["app-safety-legislation"]],viewQuery:function(t,e){var n;1&t&&(h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](c.a,!0)),2&t&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.sort=n.first))},decls:25,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","act"],["matColumnDef","regulation"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"h1"),h["\u0275\u0275text"](2,"Safety Legislation List"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",1),h["\u0275\u0275elementStart"](4,"button",2),h["\u0275\u0275listener"]("click",function(){return e.edit("")}),h["\u0275\u0275element"](5,"i",3),h["\u0275\u0275text"](6,"Add Regulator "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",4),h["\u0275\u0275elementStart"](8,"table",5),h["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),h["\u0275\u0275elementContainerStart"](9,6),h["\u0275\u0275template"](10,z,2,0,"th",7),h["\u0275\u0275template"](11,U,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](12,9),h["\u0275\u0275template"](13,W,2,0,"th",7),h["\u0275\u0275template"](14,Y,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,10),h["\u0275\u0275template"](16,K,2,0,"th",11),h["\u0275\u0275template"](17,X,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](18,12),h["\u0275\u0275template"](19,Z,2,0,"th",11),h["\u0275\u0275template"](20,tt,7,0,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](21,et,1,0,"tr",13),h["\u0275\u0275template"](22,nt,1,0,"tr",14),h["\u0275\u0275template"](23,at,3,0,"tr",15),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](24,"mat-paginator",16),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](13),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,rt)))},directives:[d.k,c.a,d.c,d.e,d.b,d.g,d.j,d.h,o.a,d.d,c.b,d.a,b.a,A.a,R.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),it=Object(l.b)([Object(p.a)({checkProperties:!0})],it));function ot(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Add Jurisdiction"),h["\u0275\u0275elementEnd"]())}function ct(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Edit Jurisdiction"),h["\u0275\u0275elementEnd"]())}function dt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().onFormSubmit()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}function st(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().addForm()}),h["\u0275\u0275text"](1," Add "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}var mt,ut=((mt=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.dialogRef=i,this.data=r,this.dataRec=r}return n(e,[{key:"ngOnInit",value:function(){this.editTitle=this.fb.group({title:[this.dataRec.title,u.C.required]})}},{key:"onFormSubmit",value:function(){var t=this,e={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateJurisdiction(e,this.dataRec._id).subscribe(function(e){t.dialogRef.close("true"),m.a.fire({title:"Jurisdiction Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"addForm",value:function(){var t=this,e={title:this.editTitle.get("title").value};this.logicalFormInfo.addJurisdiction(e).subscribe(function(e){t.dialogRef.close("true"),m.a.fire(t.dataRec?{title:"Jurisdiction Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Jurisdiction Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}}]),e}()).\u0275fac=function(t){return new(t||mt)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.f),h["\u0275\u0275directiveInject"](f.a))},mt.\u0275cmp=h["\u0275\u0275defineComponent"]({type:mt,selectors:[["app-add-and-edit-juri"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"form",0),h["\u0275\u0275template"](1,ot,2,0,"h2",1),h["\u0275\u0275template"](2,ct,2,0,"h2",1),h["\u0275\u0275elementStart"](3,"mat-form-field",2),h["\u0275\u0275element"](4,"input",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"div",5),h["\u0275\u0275elementStart"](7,"button",6),h["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),h["\u0275\u0275text"](8,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275template"](10,dt,2,1,"button",8),h["\u0275\u0275template"](11,st,2,1,"button",8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("formGroup",e.editTitle),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[u.E,u.s,u.k,r.n,v.c,S.b,u.d,u.r,u.i,b.a],styles:[""]}),mt=Object(l.b)([Object(p.a)({checkProperties:!0})],mt));function ft(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function pt(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function ht(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"Name"),h["\u0275\u0275elementEnd"]())}function gt(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.title)}}function vt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",18),h["\u0275\u0275text"](1,"Action"),h["\u0275\u0275elementEnd"]())}function St(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275elementStart"](1,"button",19),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().edit(t)}),h["\u0275\u0275elementStart"](2,"mat-icon",20),h["\u0275\u0275text"](3,"edit"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"button",21),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().delete(t)}),h["\u0275\u0275elementStart"](5,"mat-icon",22),h["\u0275\u0275text"](6,"delete"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function bt(t,e){1&t&&h["\u0275\u0275element"](0,"tr",23)}function yt(t,e){1&t&&h["\u0275\u0275element"](0,"tr",24)}function Et(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"tr",25),h["\u0275\u0275elementStart"](1,"td",26),h["\u0275\u0275text"](2,"Data Not Found"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}var Ct,wt=function(){return[20]},xt=((Ct=function(){function e(n,a,i){t(this,e),this.logicalFormInfo=n,this.setTitle=a,this.dialog=i,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllJurisdiction(),this.setTitle.setTitle("WHS-Jurisdiction List")}},{key:"getAllJurisdiction",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllJurisdiction(e,n).subscribe(function(e){var n=e.data;n.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=n,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"edit",value:function(t){var e=this;this.dialog.open(ut,{width:"550px",data:t}).afterClosed().subscribe(function(t){"true"==t&&e.getAllJurisdiction()})}},{key:"delete",value:function(t){var e=this;m.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.title,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&e.logicalFormInfo.deleteJurisdiction(t._id).subscribe(function(t){m.a.fire({title:"Jurisdiction Deleted successfully",showConfirmButton:!1,timer:1200}),e.getAllJurisdiction()})})}},{key:"sortData",value:function(t){this.getAllJurisdiction(t.active,t.direction)}}]),e}()).\u0275fac=function(t){return new(t||Ct)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](k.a),h["\u0275\u0275directiveInject"](f.b))},Ct.\u0275cmp=h["\u0275\u0275defineComponent"]({type:Ct,selectors:[["app-juridiction"]],viewQuery:function(t,e){var n;1&t&&(h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](c.a,!0)),2&t&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.sort=n.first))},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit Juri"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete Juri"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"h1"),h["\u0275\u0275text"](2,"Jurisdiction List"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",1),h["\u0275\u0275elementStart"](4,"button",2),h["\u0275\u0275listener"]("click",function(){return e.edit("")}),h["\u0275\u0275element"](5,"i",3),h["\u0275\u0275text"](6,"Add Jurisdiction "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",4),h["\u0275\u0275elementStart"](8,"table",5),h["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),h["\u0275\u0275elementContainerStart"](9,6),h["\u0275\u0275template"](10,ft,2,0,"th",7),h["\u0275\u0275template"](11,pt,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](12,9),h["\u0275\u0275template"](13,ht,2,0,"th",7),h["\u0275\u0275template"](14,gt,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,10),h["\u0275\u0275template"](16,vt,2,0,"th",11),h["\u0275\u0275template"](17,St,7,0,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](18,bt,1,0,"tr",12),h["\u0275\u0275template"](19,yt,1,0,"tr",13),h["\u0275\u0275template"](20,Et,3,0,"tr",14),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](21,"mat-paginator",15),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,wt)))},directives:[d.k,c.a,d.c,d.e,d.b,d.g,d.j,d.h,o.a,d.d,c.b,d.a,b.a,A.a,R.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),Ct=Object(l.b)([Object(p.a)({checkProperties:!0})],Ct)),It=i("tyNb");function kt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Add Code Of Practice"),h["\u0275\u0275elementEnd"]())}function At(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Edit Code Of Practice"),h["\u0275\u0275elementEnd"]())}function Rt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().onFormSubmit()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}function Dt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().addForm()}),h["\u0275\u0275text"](1," Add "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}var Ft,Tt=((Ft=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.dialogRef=i,this.data=r,this.dataRec=r}return n(e,[{key:"ngOnInit",value:function(){this.editTitle=this.fb.group({title:[this.dataRec.title,u.C.required]})}},{key:"onFormSubmit",value:function(){var t=this,e={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateCode(e,this.dataRec._id).subscribe(function(e){t.dialogRef.close("true"),m.a.fire({title:"COP Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"addForm",value:function(){var t=this,e={title:this.editTitle.get("title").value};this.logicalFormInfo.addCode(e).subscribe(function(e){t.dialogRef.close("true"),m.a.fire(t.dataRec?{title:"COP Edited successfully",showConfirmButton:!1,timer:1200}:{title:"COP Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}}]),e}()).\u0275fac=function(t){return new(t||Ft)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.f),h["\u0275\u0275directiveInject"](f.a))},Ft.\u0275cmp=h["\u0275\u0275defineComponent"]({type:Ft,selectors:[["app-add-and-edit-code"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"form",0),h["\u0275\u0275template"](1,kt,2,0,"h2",1),h["\u0275\u0275template"](2,At,2,0,"h2",1),h["\u0275\u0275elementStart"](3,"mat-form-field",2),h["\u0275\u0275element"](4,"input",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"div",5),h["\u0275\u0275elementStart"](7,"button",6),h["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),h["\u0275\u0275text"](8,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275template"](10,Rt,2,1,"button",8),h["\u0275\u0275template"](11,Dt,2,1,"button",8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("formGroup",e.editTitle),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[u.E,u.s,u.k,r.n,v.c,S.b,u.d,u.r,u.i,b.a],styles:[""]}),Ft=Object(l.b)([Object(p.a)({checkProperties:!0})],Ft));function jt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",14),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function Ot(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",15),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function Nt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",14),h["\u0275\u0275text"](1,"Name"),h["\u0275\u0275elementEnd"]())}function _t(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",15),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.title)}}function Lt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",14),h["\u0275\u0275text"](1,"Action"),h["\u0275\u0275elementEnd"]())}function Bt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",15),h["\u0275\u0275elementStart"](1,"button",16),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().edit(t)}),h["\u0275\u0275elementStart"](2,"mat-icon"),h["\u0275\u0275text"](3,"edit"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"button",17),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().delete(t)}),h["\u0275\u0275elementStart"](5,"mat-icon"),h["\u0275\u0275text"](6,"delete"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function Pt(t,e){1&t&&h["\u0275\u0275element"](0,"tr",18)}function Vt(t,e){1&t&&h["\u0275\u0275element"](0,"tr",19)}var Mt,Jt=function(){return[20]},Qt=((Mt=function(){function e(n,a){t(this,e),this.logicalFormInfo=n,this.dialog=a,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllCode()}},{key:"getAllCode",value:function(){var t=this;this.logicalFormInfo.getAllCode().subscribe(function(e){var n=e.data;n.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=n,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"edit",value:function(t){var e=this;this.dialog.open(Tt,{width:"550px",data:t}).afterClosed().subscribe(function(t){"true"==t&&e.getAllCode()})}},{key:"delete",value:function(t){var e=this;m.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.title,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&e.logicalFormInfo.deleteCode(t._id).subscribe(function(t){m.a.fire({title:"COP Deleted successfully",showConfirmButton:!1,timer:1200}),e.getAllCode()})})}}]),e}()).\u0275fac=function(t){return new(t||Mt)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.b))},Mt.\u0275cmp=h["\u0275\u0275defineComponent"]({type:Mt,selectors:[["app-code-of-pract"]],viewQuery:function(t,e){var n;1&t&&h["\u0275\u0275viewQuery"](o.a,!0),2&t&&h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first)},decls:21,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"h1"),h["\u0275\u0275text"](2,"Code Of Practice List"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",1),h["\u0275\u0275elementStart"](4,"button",2),h["\u0275\u0275listener"]("click",function(){return e.edit("")}),h["\u0275\u0275element"](5,"i",3),h["\u0275\u0275text"](6,"Add Code Of Practice "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",4),h["\u0275\u0275elementStart"](8,"table",5),h["\u0275\u0275elementContainerStart"](9,6),h["\u0275\u0275template"](10,jt,2,0,"th",7),h["\u0275\u0275template"](11,Ot,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](12,9),h["\u0275\u0275template"](13,Nt,2,0,"th",7),h["\u0275\u0275template"](14,_t,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,10),h["\u0275\u0275template"](16,Lt,2,0,"th",7),h["\u0275\u0275template"](17,Bt,7,0,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](18,Pt,1,0,"tr",11),h["\u0275\u0275template"](19,Vt,1,0,"tr",12),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](20,"mat-paginator",13),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,Jt)))},directives:[d.k,d.c,d.e,d.b,d.g,d.j,o.a,d.d,d.a,b.a,A.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),Mt=Object(l.b)([Object(p.a)({checkProperties:!0})],Mt));function qt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Add States"),h["\u0275\u0275elementEnd"]())}function $t(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2"),h["\u0275\u0275text"](1,"Edit States"),h["\u0275\u0275elementEnd"]())}function Ht(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().onFormSubmit()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}function Gt(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",9),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().addForm()}),h["\u0275\u0275text"](1," Add "),h["\u0275\u0275elementEnd"]()}if(2&t){var a=h["\u0275\u0275nextContext"]();h["\u0275\u0275property"]("disabled",!a.editTitle.valid)}}var zt,Ut=((zt=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.dialogRef=i,this.data=r,this.dataRec=r}return n(e,[{key:"ngOnInit",value:function(){this.editTitle=this.fb.group({title:[this.dataRec.title,u.C.required]})}},{key:"onFormSubmit",value:function(){var t=this,e={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateStates(e,this.dataRec._id).subscribe(function(e){t.dialogRef.close("true"),m.a.fire({title:"States Edited successfully",showConfirmButton:!1,timer:1200})})}},{key:"addForm",value:function(){var t=this,e={title:this.editTitle.get("title").value};this.logicalFormInfo.addStates(e).subscribe(function(e){t.dialogRef.close("true"),m.a.fire(t.dataRec?{title:"States Edited successfully",showConfirmButton:!1,timer:1200}:{title:"States Added successfully",showConfirmButton:!1,timer:1200})})}},{key:"closeDialog",value:function(){this.dialogRef.close("false")}}]),e}()).\u0275fac=function(t){return new(t||zt)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](f.f),h["\u0275\u0275directiveInject"](f.a))},zt.\u0275cmp=h["\u0275\u0275defineComponent"]({type:zt,selectors:[["app-add-and-edit-states"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"form",0),h["\u0275\u0275template"](1,qt,2,0,"h2",1),h["\u0275\u0275template"](2,$t,2,0,"h2",1),h["\u0275\u0275elementStart"](3,"mat-form-field",2),h["\u0275\u0275element"](4,"input",3),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",4),h["\u0275\u0275elementStart"](6,"div",5),h["\u0275\u0275elementStart"](7,"button",6),h["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),h["\u0275\u0275text"](8,"Close"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](9,"div",7),h["\u0275\u0275template"](10,Ht,2,1,"button",8),h["\u0275\u0275template"](11,Gt,2,1,"button",8),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("formGroup",e.editTitle),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("ngIf",e.dataRec),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[u.E,u.s,u.k,r.n,v.c,S.b,u.d,u.r,u.i,b.a],styles:[""]}),zt=Object(l.b)([Object(p.a)({checkProperties:!0})],zt));function Wt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function Yt(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function Kt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"Name"),h["\u0275\u0275elementEnd"]())}function Xt(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.title)}}function Zt(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",18),h["\u0275\u0275text"](1,"Action"),h["\u0275\u0275elementEnd"]())}function te(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275elementStart"](1,"button",19),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().edit(t)}),h["\u0275\u0275elementStart"](2,"mat-icon",20),h["\u0275\u0275text"](3,"edit"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"button",21),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().delete(t)}),h["\u0275\u0275elementStart"](5,"mat-icon",22),h["\u0275\u0275text"](6,"delete"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()}}function ee(t,e){1&t&&h["\u0275\u0275element"](0,"tr",23)}function ne(t,e){1&t&&h["\u0275\u0275element"](0,"tr",24)}function ae(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"tr",25),h["\u0275\u0275elementStart"](1,"td",26),h["\u0275\u0275text"](2,"Data Not Found"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}var ie,re=function(){return[20]},le=((ie=function(){function e(n,a,i){t(this,e),this.logicalFormInfo=n,this.setTitle=a,this.dialog=i,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllStates(),this.setTitle.setTitle("WHS-States List")}},{key:"getAllStates",value:function(){var t=this;this.logicalFormInfo.getAllStates().subscribe(function(e){var n=e.data;n.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=n,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"edit",value:function(t){var e=this;this.dialog.open(Ut,{width:"550px",data:t}).afterClosed().subscribe(function(t){"true"==t&&e.getAllStates()})}},{key:"delete",value:function(t){var e=this;m.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.title,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(n){n.value&&e.logicalFormInfo.deleteStates(t._id).subscribe(function(t){m.a.fire({title:"States Deleted successfully",showConfirmButton:!1,timer:1200}),e.getAllStates()})})}}]),e}()).\u0275fac=function(t){return new(t||ie)(h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](k.a),h["\u0275\u0275directiveInject"](f.b))},ie.\u0275cmp=h["\u0275\u0275defineComponent"]({type:ie,selectors:[["app-states"]],viewQuery:function(t,e){var n;1&t&&(h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](c.a,!0)),2&t&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.sort=n.first))},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit State"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete State"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275elementStart"](1,"h1"),h["\u0275\u0275text"](2,"States List"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](3,"div",1),h["\u0275\u0275elementStart"](4,"button",2),h["\u0275\u0275listener"]("click",function(){return e.edit("")}),h["\u0275\u0275element"](5,"i",3),h["\u0275\u0275text"](6,"Add States "),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](7,"div",4),h["\u0275\u0275elementStart"](8,"table",5),h["\u0275\u0275elementContainerStart"](9,6),h["\u0275\u0275template"](10,Wt,2,0,"th",7),h["\u0275\u0275template"](11,Yt,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](12,9),h["\u0275\u0275template"](13,Kt,2,0,"th",7),h["\u0275\u0275template"](14,Xt,2,1,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](15,10),h["\u0275\u0275template"](16,Zt,2,0,"th",11),h["\u0275\u0275template"](17,te,7,0,"td",8),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](18,ee,1,0,"tr",12),h["\u0275\u0275template"](19,ne,1,0,"tr",13),h["\u0275\u0275template"](20,ae,3,0,"tr",14),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](21,"mat-paginator",15),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](8),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,re)))},directives:[d.k,c.a,d.c,d.e,d.b,d.g,d.j,d.h,o.a,d.d,c.b,d.a,b.a,A.a,R.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),ie=Object(l.b)([Object(p.a)({checkProperties:!0})],ie)),oe=["risk"];function ce(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",14),h["\u0275\u0275text"](1,"No."),h["\u0275\u0275elementEnd"]())}function de(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",15),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.index)}}function se(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",14),h["\u0275\u0275text"](1,"Name"),h["\u0275\u0275elementEnd"]())}function me(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"td",15),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate"](n.title)}}function ue(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"th",16),h["\u0275\u0275text"](1,"Set"),h["\u0275\u0275elementEnd"]())}function fe(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"button",19),h["\u0275\u0275text"](1," Set "),h["\u0275\u0275elementEnd"]())}function pe(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"button",19),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]())}function he(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"td",17),h["\u0275\u0275listener"]("click",function(){h["\u0275\u0275restoreView"](n);var t=e.$implicit;return h["\u0275\u0275nextContext"]().setRelation_2(t._id)}),h["\u0275\u0275template"](1,fe,2,0,"button",18),h["\u0275\u0275template"](2,pe,2,0,"button",18),h["\u0275\u0275elementEnd"]()}if(2&t){var a=e.$implicit;h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",!a.set),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",a.set)}}function ge(t,e){1&t&&h["\u0275\u0275element"](0,"tr",20)}function ve(t,e){1&t&&h["\u0275\u0275element"](0,"tr",21)}function Se(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"tr",22),h["\u0275\u0275elementStart"](1,"td",23),h["\u0275\u0275text"](2,"Data Not Found"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]())}var be,ye=function(){return[20]},Ee=((be=function(){function e(n,a,i,r){t(this,e),this.fb=n,this.logicalFormInfo=a,this.setTitle=i,this.router=r,this.StatesData=[],this.Jurisdiction=[],this.COP=[],this.SafetyData=[],this.regulator=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new d.l(this.ELEMENT_DATA)}return n(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.setTitle.setTitle("WHS-Set States Relation"),this.setStatesDetail=this.fb.group({jurisdiction:this.fb.array([]),safe:this.fb.array([]),COP:this.fb.array([]),regulator:this.fb.array([])}),this.getStates()}},{key:"addActionJurisdiction",value:function(){this.jurisdictionFA().push(this.jurisdictionFG())}},{key:"addActionCOP",value:function(){this.COP_FA().push(this.COP_FG())}},{key:"addActionSafety",value:function(){this.safetyFA().push(this.safetyFG())}},{key:"addActionRegulator",value:function(){this.regulatorFA().push(this.regulatorFG())}},{key:"jurisdictionFA",value:function(){return this.setStatesDetail.get("jurisdiction")}},{key:"COP_FA",value:function(){return this.setStatesDetail.get(" COP")}},{key:"safetyFA",value:function(){return this.setStatesDetail.get("safety")}},{key:"regulatorFA",value:function(){return this.setStatesDetail.get("regulator")}},{key:"jurisdictionFG",value:function(){return this.fb.group({jurisdictionkArr:[""]})}},{key:"COP_FG",value:function(){return this.fb.group({ppeArr:[""]})}},{key:"safetyFG",value:function(){return this.fb.group({licenceArr:[""]})}},{key:"regulatorFG",value:function(){return this.fb.group({contrActReqArr:[""]})}},{key:"onFormSubmit",value:function(){}},{key:"getStates",value:function(){var t=this;this.logicalFormInfo.getAllStates().subscribe(function(e){t.StatesData=e.data,t.StatesData.forEach(function(t,e){t.index=e+1}),t.ELEMENT_DATA=t.StatesData,t.dataSource=new d.l(t.ELEMENT_DATA),t.dataSource.paginator=t.paginator})}},{key:"getJurisdiction",value:function(){var t=this;this.logicalFormInfo.getAllJurisdiction().subscribe(function(e){t.Jurisdiction=e.data})}},{key:"getSafety",value:function(){var t=this;this.logicalFormInfo.getAllSafety().subscribe(function(e){t.SafetyData=e.data})}},{key:"getCode",value:function(){var t=this;this.logicalFormInfo.getAllCode().subscribe(function(e){t.COP=e.data})}},{key:"getRegulator",value:function(){var t=this;this.logicalFormInfo.getAllRegulator().subscribe(function(e){t.regulator=e.data})}},{key:"setRelation_2",value:function(t){this.router.navigate(["/admin/stateRel/addState"],{queryParams:{id:t}})}},{key:"setRelation",value:function(t,e,n){var a=this,i=[],r=[],l=[],o=[];this.jurisdictionFA().controls[n].get("jurisdictionArr").value&&this.jurisdictionFA().controls[n].get("jurisdictionArr").value.forEach(function(t){i.push(t._id)}),this.COP_FA().controls[n].get("COPArr").value&&this.COP_FA().controls[n].get("COPArr").value.forEach(function(t){r.push(t._id)}),this.safetyFA().controls[n].get("safetyArr").value&&this.safetyFA().controls[n].get("safetyArr").value.forEach(function(t){l.push(t._id)}),this.regulatorFA().controls[n].get("contrActReqArr").value&&this.regulatorFA().controls[n].get("contrActReqArr").value.forEach(function(t){o.push(t._id)});var c={title:t,jurisdiction:this.jurisdictionFA().controls[n].get("jurisdictionArr").value,COP:this.COP_FA().controls[n].get("COPArr").value,safety:this.safetyFA().controls[n].get("safetyArr").value,regulator:this.regulatorFA().controls[n].get("regulatorArr").value,set:!0};this.logicalFormInfo.updateStates(c,e).subscribe(function(t){a.getStates(),m.a.fire({title:"States Relation set successfully",showConfirmButton:!1,timer:1200})})}}]),e}()).\u0275fac=function(t){return new(t||be)(h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](k.a),h["\u0275\u0275directiveInject"](It.f))},be.\u0275cmp=h["\u0275\u0275defineComponent"]({type:be,selectors:[["app-set-state-relation"]],viewQuery:function(t,e){var n;1&t&&(h["\u0275\u0275viewQuery"](o.a,!0),h["\u0275\u0275viewQuery"](c.a,!0),h["\u0275\u0275viewQuery"](oe,!0)),2&t&&(h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.paginator=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.sort=n.first),h["\u0275\u0275queryRefresh"](n=h["\u0275\u0275loadQuery"]())&&(e.Risk=n))},decls:17,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-stroked-button","","color","primary","class","myBtn",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"h2",0),h["\u0275\u0275text"](1,"Set States Relation"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](2,"div",1),h["\u0275\u0275elementStart"](3,"table",2),h["\u0275\u0275elementContainerStart"](4,3),h["\u0275\u0275template"](5,ce,2,0,"th",4),h["\u0275\u0275template"](6,de,2,1,"td",5),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](7,6),h["\u0275\u0275template"](8,se,2,0,"th",4),h["\u0275\u0275template"](9,me,2,1,"td",5),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275elementContainerStart"](10,7),h["\u0275\u0275template"](11,ue,2,0,"th",8),h["\u0275\u0275template"](12,he,3,2,"td",9),h["\u0275\u0275elementContainerEnd"](),h["\u0275\u0275template"](13,ge,1,0,"tr",10),h["\u0275\u0275template"](14,ve,1,0,"tr",11),h["\u0275\u0275template"](15,Se,3,0,"tr",12),h["\u0275\u0275elementEnd"](),h["\u0275\u0275element"](16,"mat-paginator",13),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275advance"](3),h["\u0275\u0275property"]("dataSource",e.dataSource),h["\u0275\u0275advance"](10),h["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("pageSizeOptions",h["\u0275\u0275pureFunction0"](4,ye)))},directives:[d.k,c.a,d.c,d.e,d.b,d.g,d.j,d.h,o.a,d.d,c.b,d.a,r.n,b.a,d.f,d.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),be=Object(l.b)([Object(p.a)({checkProperties:!0})],be));function Ce(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"option",12),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275property"]("value",n._id),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function we(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"option",12),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275property"]("value",n._id),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate2"](" ",n.act,"",n.regulation," ")}}function xe(t,e){if(1&t&&(h["\u0275\u0275elementStart"](0,"option",12),h["\u0275\u0275text"](1),h["\u0275\u0275elementEnd"]()),2&t){var n=e.$implicit;h["\u0275\u0275property"]("value",n._id),h["\u0275\u0275advance"](1),h["\u0275\u0275textInterpolate1"](" ",n.title," ")}}function Ie(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",13),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().setRelation()}),h["\u0275\u0275text"](1," Set "),h["\u0275\u0275elementEnd"]()}}function ke(t,e){if(1&t){var n=h["\u0275\u0275getCurrentView"]();h["\u0275\u0275elementStart"](0,"button",13),h["\u0275\u0275listener"]("click",function(){return h["\u0275\u0275restoreView"](n),h["\u0275\u0275nextContext"]().setRelation()}),h["\u0275\u0275text"](1," Update "),h["\u0275\u0275elementEnd"]()}}var Ae,Re=function(){return["/admin/stateRel/setState"]},De=((Ae=function(){function e(n,a,i,r){t(this,e),this.route=n,this.fb=a,this.logicalFormInfo=i,this.router=r,this.states=null,this.stateId=null,this.isLinear=!1}return n(e,[{key:"ngOnInit",value:function(){var t=this;this.SetState=this.fb.group({jurisdictionId:["",u.C.required],safetyLegislationId:["",u.C.required],regulatorId:["",u.C.required]}),this.route.queryParams.subscribe(function(e){t.stateId=e.id,t.logicalFormInfo.getstatesById(t.stateId).subscribe(function(e){t.states=e.data,1==t.states.set&&t.SetState.patchValue({jurisdictionId:t.states.jurisdictionId,safetyLegislationId:t.states.safetyLegislationId,regulatorId:t.states.regulatorId})})}),this.getAllJurisdiction(),this.getAllSafe(),this.getAllRegulator()}},{key:"getAllRegulator",value:function(){var t=this;this.logicalFormInfo.getAllRegulator().subscribe(function(e){t.regulatorData=e.data})}},{key:"getAllSafe",value:function(){var t=this;this.logicalFormInfo.getAllSafety().subscribe(function(e){t.safety=e.data})}},{key:"getAllJurisdiction",value:function(){var t=this;this.logicalFormInfo.getAllJurisdiction().subscribe(function(e){t.JurisdictionData=e.data})}},{key:"setRelation",value:function(){var t=this,e={set:!0,title:this.states.title,jurisdictionId:this.SetState.get("jurisdictionId").value,safetyLegislationId:this.SetState.get("safetyLegislationId").value,regulatorId:this.SetState.get("regulatorId").value};this.logicalFormInfo.updateStates(e,this.stateId).subscribe(function(e){m.a.fire({title:"Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/stateRel/setState"])})}}]),e}()).\u0275fac=function(t){return new(t||Ae)(h["\u0275\u0275directiveInject"](It.a),h["\u0275\u0275directiveInject"](u.f),h["\u0275\u0275directiveInject"](g.a),h["\u0275\u0275directiveInject"](It.f))},Ae.\u0275cmp=h["\u0275\u0275defineComponent"]({type:Ae,selectors:[["app-add-state-relation"]],decls:24,vars:9,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,"row",3,"formGroup"],[1,"col-4"],["aria-label","Default select example","formControlName","jurisdictionId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","safetyLegislationId",1,"form-select","form-control"],["aria-label","Default select example","formControlName","regulatorId",1,"form-select","form-control"],[1,"ml-3","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"div",0),h["\u0275\u0275element"](1,"i",1),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](2,"div",2),h["\u0275\u0275elementStart"](3,"h2"),h["\u0275\u0275text"](4),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](5,"div",3),h["\u0275\u0275elementStart"](6,"div",4),h["\u0275\u0275elementStart"](7,"select",5),h["\u0275\u0275elementStart"](8,"option",6),h["\u0275\u0275text"](9,"Select Jurisdiction"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](10,Ce,2,2,"option",7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](11,"div",4),h["\u0275\u0275elementStart"](12,"select",8),h["\u0275\u0275elementStart"](13,"option",6),h["\u0275\u0275text"](14,"Select Safety Legislation"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](15,we,2,3,"option",7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](16,"div",4),h["\u0275\u0275elementStart"](17,"select",9),h["\u0275\u0275elementStart"](18,"option",6),h["\u0275\u0275text"](19,"Select Regulator"),h["\u0275\u0275elementEnd"](),h["\u0275\u0275template"](20,xe,2,2,"option",7),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](21,"div",10),h["\u0275\u0275template"](22,Ie,2,0,"button",11),h["\u0275\u0275template"](23,ke,2,0,"button",11),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&(h["\u0275\u0275property"]("routerLink",h["\u0275\u0275pureFunction0"](8,Re)),h["\u0275\u0275advance"](4),h["\u0275\u0275textInterpolate1"]("States Relation :\xa0",null==e.states?null:e.states.title,""),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("formGroup",e.SetState),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("ngForOf",e.JurisdictionData),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("ngForOf",e.safety),h["\u0275\u0275advance"](5),h["\u0275\u0275property"]("ngForOf",e.regulatorData),h["\u0275\u0275advance"](2),h["\u0275\u0275property"]("ngIf",!(null!=e.states&&e.states.set)),h["\u0275\u0275advance"](1),h["\u0275\u0275property"]("ngIf",null==e.states?null:e.states.set))},directives:[It.g,u.s,u.k,u.A,u.r,u.i,u.v,u.D,r.m,r.n],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),Ae=Object(l.b)([Object(p.a)({checkProperties:!0})],Ae)),Fe=i("lJxs"),Te=i("wZkO");function je(t,e){1&t&&h["\u0275\u0275element"](0,"app-states")}function Oe(t,e){1&t&&h["\u0275\u0275element"](0,"app-juridiction")}function Ne(t,e){1&t&&h["\u0275\u0275element"](0,"app-safety-legislation")}function _e(t,e){1&t&&h["\u0275\u0275element"](0,"app-regulator")}function Le(t,e){1&t&&h["\u0275\u0275element"](0,"app-set-state-relation")}var Be,Pe,Ve,Me=[{path:"stateRelationSetting",component:(Be=function(){function e(n,a){t(this,e),this.router=n,this.activatedRoute=a}return n(e,[{key:"ngOnInit",value:function(){this.selectedIndex$=this.activatedRoute.queryParams.pipe(Object(Fe.a)(function(t){return t.selectedTab}))}},{key:"selectedIndexChange",value:function(t){this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{selectedTab:t}})}}]),e}(),Be.\u0275fac=function(t){return new(t||Be)(h["\u0275\u0275directiveInject"](It.f),h["\u0275\u0275directiveInject"](It.a))},Be.\u0275cmp=h["\u0275\u0275defineComponent"]({type:Be,selectors:[["app-state-relation-setting"]],decls:12,vars:3,consts:[[3,"selectedIndex","selectedIndexChange"],["label","States"],["matTabContent",""],["label","Jurisdiction"],["label","Safety Legislation"],["label","Regulator"],["label","Set State Relation"]],template:function(t,e){1&t&&(h["\u0275\u0275elementStart"](0,"mat-tab-group",0),h["\u0275\u0275listener"]("selectedIndexChange",function(t){return e.selectedIndexChange(t)}),h["\u0275\u0275pipe"](1,"async"),h["\u0275\u0275elementStart"](2,"mat-tab",1),h["\u0275\u0275template"](3,je,1,0,"ng-template",2),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](4,"mat-tab",3),h["\u0275\u0275template"](5,Oe,1,0,"ng-template",2),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](6,"mat-tab",4),h["\u0275\u0275template"](7,Ne,1,0,"ng-template",2),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](8,"mat-tab",5),h["\u0275\u0275template"](9,_e,1,0,"ng-template",2),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementStart"](10,"mat-tab",6),h["\u0275\u0275template"](11,Le,1,0,"ng-template",2),h["\u0275\u0275elementEnd"](),h["\u0275\u0275elementEnd"]()),2&t&&h["\u0275\u0275property"]("selectedIndex",h["\u0275\u0275pipeBind1"](1,1,e.selectedIndex$))},directives:[Te.c,Te.a,Te.b,le,xt,lt,M,Ee],pipes:[r.b],styles:[""]}),Be=Object(l.b)([Object(p.a)({checkProperties:!0})],Be))},{path:"juridiction",component:xt},{path:"safetyLegislation",component:lt},{path:"codeOfPract",component:Qt},{path:"regulator",component:M},{path:"states",component:le},{path:"setState",component:Ee},{path:"addState",component:De}],Je=((Pe=function e(){t(this,e)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:Pe}),Pe.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||Pe)},imports:[[It.j.forChild(Me)],It.j]}),Pe),Qe=i("PCNd"),qe=((Ve=function e(){t(this,e)}).\u0275mod=h["\u0275\u0275defineNgModule"]({type:Ve}),Ve.\u0275inj=h["\u0275\u0275defineInjector"]({factory:function(t){return new(t||Ve)},imports:[[c.c,r.c,Je,u.m,u.y,o.b,d.m,v.e,Qe.a]]}),Ve)}}])}();