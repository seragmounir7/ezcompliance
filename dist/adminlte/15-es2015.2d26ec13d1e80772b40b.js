(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{QX5w:function(t,e,i){"use strict";i.r(e),i.d(e,"SavedFormsModule",function(){return z});var a=i("s7LF"),n=i("SVse"),o=i("5QHs"),r=i("LUZP"),s=i("OaSA"),c=i("VRyK"),l=i("8Y7J"),m=i("KFfU"),p=i("7g+E"),d=i("zXlT"),b=i("iInd"),h=i("Q2Ze"),u=i("e6WT"),f=i("ZFy/");function g(t,e){1&t&&(l.Ub(0,"th",19),l.Oc(1," Form Id "),l.Tb())}function w(t,e){if(1&t&&(l.Ub(0,"td",20),l.Oc(1),l.Tb()),2&t){const t=e.$implicit;l.Bb(1),l.Pc(t.formId)}}function T(t,e){1&t&&(l.Ub(0,"th",19),l.Oc(1,"Form Name "),l.Tb())}function S(t,e){1&t&&(l.Ub(0,"td",20),l.Oc(1,"Form Name"),l.Tb())}function y(t,e){1&t&&(l.Ub(0,"th",21),l.Oc(1,"Form Type"),l.Tb())}function v(t,e){if(1&t&&(l.Ub(0,"td",20),l.Oc(1),l.Tb()),2&t){const t=e.$implicit;l.Bb(1),l.Pc(t.fileType)}}function C(t,e){1&t&&(l.Ub(0,"th",19),l.Oc(1,"Created Date"),l.Tb())}function O(t,e){if(1&t&&(l.Ub(0,"td",20),l.Oc(1),l.jc(2,"date"),l.Tb()),2&t){const t=e.$implicit;l.Bb(1),l.Qc(" ",l.lc(2,1,t.createdAt,"mediumDate")," ")}}function U(t,e){1&t&&(l.Ub(0,"th",19),l.Oc(1,"Updated Date"),l.Tb())}function D(t,e){if(1&t&&(l.Ub(0,"td",20),l.Oc(1),l.jc(2,"date"),l.Tb()),2&t){const t=e.$implicit;l.Bb(1),l.Qc(" ",l.lc(2,1,t.updatedAt,"mediumDate")," ")}}function M(t,e){1&t&&(l.Ub(0,"th",21),l.Oc(1," Action "),l.Tb())}function k(t,e){if(1&t){const t=l.Vb();l.Ub(0,"td",20),l.Ub(1,"div",22),l.Ub(2,"span",23),l.ec("click",function(){l.Cc(t);const i=e.$implicit;return l.ic().edit(i._id,i.fileType)}),l.Oc(3," edit "),l.Tb(),l.Ub(4,"span",24),l.ec("click",function(){l.Cc(t);const i=e.$implicit;return l.ic().printPage(i._id,i.fileType)}),l.Oc(5," print "),l.Tb(),l.Tb(),l.Tb()}}function I(t,e){1&t&&l.Pb(0,"tr",25)}function R(t,e){1&t&&l.Pb(0,"tr",26)}function P(t,e){1&t&&(l.Ub(0,"tr",27),l.Ub(1,"td",28),l.Oc(2,"Data Not Found "),l.Tb(),l.Tb())}const A=function(){return[5,10,20,30]},x=[{path:"",component:(()=>{class t{constructor(t,e,i,a){this.forms=t,this.spinner=e,this.shared=i,this.router=a,this.displayedColumns=["formId","Phone","Email","Site","Action"],this.page=1,this.limit=5,this.searchString=""}ngAfterViewInit(){this.sort.sortChange.subscribe(()=>this.paginator1.pageIndex=0),Object(c.a)(this.sort.sortChange,this.paginator1.page).subscribe(()=>{console.log({sort:this.sort.active||"",order:this.sort.direction||"",pageNumber:this.paginator1.pageIndex+1})})}ngOnInit(){this.getSavedforms()}getSavedforms(t=this.page,e=this.limit,i=this.searchString){this.forms.getAllSavedForms(t,e,i).subscribe(t=>{this.showDatas=t.data,this.totalCount=t.totalCount,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new s.l(this.showDatas),this.tempArray.sort=this.sort,console.log("get res",this.showDatas)})}edit(t,e){let i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/admin/forms/hazardRep/"+t],i):"Incident"==e?this.router.navigate(["/admin/forms/incidentRep/"+t],i):"Site Inspection"==e?this.router.navigate(["/admin/forms/siteInspect/"+t],i):"Tool Box"==e?this.router.navigate(["/admin/forms/toolboxTalk/"+t],i):"Risk Assessment"==e&&this.router.navigate(["/admin/forms/riskAssessSWMS/"+t],i)}printPage(t,e){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader");let i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}],i):"Incident"==e?this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}],i):"Site Inspection"==e?this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}],i):"Tool Box"==e?this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}],i):"Risk Assessment"==e&&this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}],i)}paginator(t){this.page=t.pageIndex,this.limit=t.pageSize,this.getSavedforms()}applyFilter(t){this.searchString=t.target.value.trim().toLowerCase(),this.getSavedforms()}}return t.\u0275fac=function(e){return new(e||t)(l.Ob(m.a),l.Ob(p.c),l.Ob(d.a),l.Ob(b.f))},t.\u0275cmp=l.Ib({type:t,selectors:[["app-saved-forms"]],viewQuery:function(t,e){if(1&t&&(l.Sc(o.a,!0),l.Sc(r.a,!0)),2&t){let t;l.xc(t=l.fc())&&(e.paginator1=t.first),l.xc(t=l.fc())&&(e.sort=t.first)}},decls:31,vars:6,consts:[[1,"col","ml-2","pt-3"],[1,"row"],["matInput","","placeholder","Search",3,"keyup"],["input",""],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","formId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(l.Ub(0,"div",0),l.Ub(1,"h1"),l.Oc(2," All Saved Forms Table"),l.Tb(),l.Tb(),l.Ub(3,"div",1),l.Ub(4,"mat-form-field"),l.Ub(5,"input",2,3),l.ec("keyup",function(t){return e.applyFilter(t)}),l.Tb(),l.Tb(),l.Tb(),l.Ub(7,"div",4),l.Ub(8,"table",5),l.Sb(9,6),l.Mc(10,g,2,0,"th",7),l.Mc(11,w,2,1,"td",8),l.Rb(),l.Sb(12,9),l.Mc(13,T,2,0,"th",7),l.Mc(14,S,2,0,"td",8),l.Rb(),l.Sb(15,10),l.Mc(16,y,2,0,"th",11),l.Mc(17,v,2,1,"td",8),l.Rb(),l.Sb(18,12),l.Mc(19,C,2,0,"th",7),l.Mc(20,O,3,4,"td",8),l.Rb(),l.Sb(21,13),l.Mc(22,U,2,0,"th",7),l.Mc(23,D,3,4,"td",8),l.Rb(),l.Sb(24,14),l.Mc(25,M,2,0,"th",11),l.Mc(26,k,6,0,"td",8),l.Rb(),l.Mc(27,I,1,0,"tr",15),l.Mc(28,R,1,0,"tr",16),l.Mc(29,P,3,0,"tr",17),l.Tb(),l.Ub(30,"mat-paginator",18),l.ec("page",function(t){return e.paginator(t)}),l.Tb(),l.Tb()),2&t&&(l.Bb(8),l.qc("dataSource",e.tempArray),l.Bb(19),l.qc("matHeaderRowDef",e.displayedColumns),l.Bb(1),l.qc("matRowDefColumns",e.displayedColumns),l.Bb(2),l.qc("pageSizeOptions",l.tc(5,A))("length",e.totalCount))},directives:[h.b,u.b,s.k,r.a,s.c,s.e,s.b,s.g,s.j,s.h,o.a,s.d,r.b,s.a,f.a,s.f,s.i],pipes:[n.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})()}];let F=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[b.j.forChild(x)],b.j]}),t})();var B=i("PCNd");let z=(()=>{class t{}return t.\u0275mod=l.Mb({type:t}),t.\u0275inj=l.Lb({factory:function(e){return new(e||t)},imports:[[n.c,a.y,B.a,F]]}),t})()}}]);