(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{"3qhI":function(t,e,a){"use strict";a.r(e),a.d(e,"ConfiLogiModule",function(){return ca});var i=a("Dxy4"),o=a("Tj54"),l=a("SVse"),n=a("PCNd"),s=a("s7LF"),c=a("PSD3"),r=a.n(c),b=a("iELJ"),d=a("+z1p"),u=a("8Y7J"),m=a("wbBK"),f=a("6bhV"),h=a("zioG");function g(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add High Risk Construction parameter"),u.Tb())}function p(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add PPE"),u.Tb())}function T(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Licence "),u.Tb())}function v(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Identify Hazards "),u.Tb())}function k(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Risk Level"),u.Tb())}function C(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Control Action Required"),u.Tb())}function O(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Residual Risk"),u.Tb())}function R(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Person Responsible "),u.Tb())}function U(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Add Code of Practice "),u.Tb())}function y(t,e){1&t&&u.Pb(0,"textarea",8)}function P(t,e){if(1&t&&(u.Sb(0),u.Pb(1,"ckeditor",9),u.Oc(2,"` "),u.Rb()),2&t){const t=u.ic();u.Bb(1),u.qc("editor",t.Editor)}}let A=(()=>{class t{constructor(t,e,a,i){this.fb=t,this.logicalFormInfo=e,this.dialogRef=a,this.data=i,this.Editor=d,this.dataRec=i}ngOnInit(){console.log(this.dataRec),this.addItem=this.fb.group({title:["",s.C.required]})}onFormSubmit(){let t={title:this.addItem.get("title").value};switch(this.dataRec.type){case"highRisk":this.addHighRisk(t);break;case"ppe":this.addPPE(t);break;case"licence":this.addLicence(t);break;case"identifyHazards":this.addHazard(t);break;case"codeOfPract":this.addCOP(t);break;case"riskLevel":this.addRiskLevel(t);break;case"ctrlActreq":this.addControlActReq(t);break;case"resRiskLevel":this.addResidRiskLevel(t);break;case"perResbl":this.addStaff(t)}}closeDialog(){this.dialogRef.close("false")}addHighRisk(t){this.logicalFormInfo.addRisk(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("highRisk"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addPPE(t){this.logicalFormInfo.addPPE(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("ppe"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addRiskLevel(t){this.logicalFormInfo.addRiskLevel(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("riskLevel"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addResidRiskLevel(t){this.logicalFormInfo.addResidual(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("resRiskLevel"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addHazard(t){this.logicalFormInfo.addHazards(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("identifyHazards"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addLicence(t){this.logicalFormInfo.addLicence({title:t.title,tradeCategoryId:this.dataRec.tradeCategoryId}).subscribe(t=>{console.log("resData",t),this.dialogRef.close("licence"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addControlActReq(t){this.logicalFormInfo.addContrlActReq(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("ctrlActreq"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addStaff(t){this.logicalFormInfo.addStaff(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("perResbl"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}addCOP(t){this.logicalFormInfo.addCode(t).subscribe(t=>{console.log("resData",t),this.dialogRef.close("codeOfPract"),r.a.fire({title:"Item  Added successfully",showConfirmButton:!1,timer:1200})})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.f),u.Ob(m.a),u.Ob(b.f),u.Ob(b.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-add-item"]],decls:20,vars:13,consts:[[3,"formGroup"],[4,"ngIf"],["autosize","","class","form-control sign","placeholder","Enter your text......","formControlName","title",4,"ngIf"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click"],["autosize","","placeholder","Enter your text......","formControlName","title",1,"form-control","sign"],["formControlName","title",3,"editor"]],template:function(t,e){1&t&&(u.Ub(0,"form",0),u.Mc(1,g,2,0,"h2",1),u.Mc(2,p,2,0,"h2",1),u.Mc(3,T,2,0,"h2",1),u.Mc(4,v,2,0,"h2",1),u.Mc(5,k,2,0,"h2",1),u.Mc(6,C,2,0,"h2",1),u.Mc(7,O,2,0,"h2",1),u.Mc(8,R,2,0,"h2",1),u.Mc(9,U,2,0,"h2",1),u.Mc(10,y,1,0,"textarea",2),u.Mc(11,P,3,1,"ng-container",1),u.Pb(12,"br"),u.Ub(13,"div",3),u.Ub(14,"div",4),u.Ub(15,"button",5),u.ec("click",function(){return e.closeDialog()}),u.Oc(16,"Close"),u.Tb(),u.Tb(),u.Ub(17,"div",6),u.Ub(18,"button",7),u.ec("click",function(){return e.onFormSubmit()}),u.Oc(19,"Add"),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t&&(u.qc("formGroup",e.addItem),u.Bb(1),u.qc("ngIf","highRisk"===e.dataRec.type),u.Bb(1),u.qc("ngIf","ppe"===e.dataRec.type),u.Bb(1),u.qc("ngIf","licence"===e.dataRec.type),u.Bb(1),u.qc("ngIf","identifyHazards"===e.dataRec.type),u.Bb(1),u.qc("ngIf","riskLevel"===e.dataRec.type),u.Bb(1),u.qc("ngIf","ctrlActreq"===e.dataRec.type),u.Bb(1),u.qc("ngIf","resRiskLevel"===e.dataRec.type),u.Bb(1),u.qc("ngIf","perResbl"===e.dataRec.type),u.Bb(1),u.qc("ngIf","codeOfPract"===e.dataRec.type),u.Bb(1),u.qc("ngIf","identifyHazards"!==e.dataRec.type&&"ctrlActreq"!==e.dataRec.type),u.Bb(1),u.qc("ngIf","ctrlActreq"===e.dataRec.type||"identifyHazards"===e.dataRec.type),u.Bb(7),u.qc("disabled",!e.addItem.valid))},directives:[s.E,s.s,s.k,l.n,i.a,s.d,f.a,s.r,s.i,h.a],styles:[""]}),t})();var I=a("iInd"),D=a("Q2Ze"),q=a("ZTz/"),M=a("UhP/"),w=a("ZFy/");function B(t,e){if(1&t){const t=u.Vb();u.Ub(0,"p",13),u.ec("click",function(){u.Cc(t);const a=e.index;return u.ic().handleClick(a)}),u.Pb(1,"i",14),u.Ub(2,"span",15),u.Oc(3),u.Tb(),u.Tb()}if(2&t){const t=e.$implicit,a=e.index,i=u.ic();u.Gb("active",i.stepperList[a].i),u.Bb(3),u.Pc(t.name)}}function S(t,e){if(1&t){const t=u.Vb();u.Ub(0,"span",21),u.ec("click",function(){u.Cc(t);const e=u.ic().$implicit;return u.ic().addItem(e.code)}),u.Oc(1,"add_circle_outline"),u.Tb()}}function L(t,e){1&t&&u.Qb(0)}const N=function(t){return{name:t}};function J(t,e){if(1&t&&(u.Ub(0,"div",16),u.Ub(1,"h2",17),u.Oc(2),u.Mc(3,S,2,0,"span",18),u.Tb(),u.Ub(4,"p",19),u.Mc(5,L,1,0,"ng-container",20),u.Tb(),u.Pb(6,"div"),u.Tb()),2&t){const t=e.$implicit,a=e.index,i=u.ic(),o=u.yc(15);u.Gb("active",i.stepperList[a].i)("show",i.stepperList[a].i),u.Bb(2),u.Pc(t.name),u.Bb(1),u.qc("ngIf",t.code),u.Bb(2),u.qc("ngTemplateOutlet",o)("ngTemplateOutletContext",u.uc(8,N,t.name))}}function F(t,e){1&t&&u.Pb(0,"span",34)}function x(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function z(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function E(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc(" ",t.title,"")}}function H(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",27),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label",30),u.Oc(5,"HighRiskConstruction"),u.Tb(),u.Ub(6,"mat-select",31),u.Ub(7,"mat-select-trigger"),u.Mc(8,F,1,0,"span",32),u.Mc(9,x,2,0,"span",32),u.Mc(10,z,2,0,"span",32),u.Tb(),u.Mc(11,E,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("highRiskConstr").value&&t.JobTaskDetail.get("highRiskConstr").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("highRiskConstr").value?null:t.JobTaskDetail.get("highRiskConstr").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("highRiskConstr").value?null:t.JobTaskDetail.get("highRiskConstr").value.length)>1),u.Bb(1),u.qc("ngForOf",t.highRiskConstructionData)}}function j(t,e){1&t&&u.Pb(0,"span",34)}function _(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function V(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function $(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc("",t.title," ")}}function Q(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"PPE selection"),u.Tb(),u.Ub(6,"mat-select",37),u.Ub(7,"mat-select-trigger"),u.Mc(8,j,1,0,"span",32),u.Mc(9,_,2,0,"span",32),u.Mc(10,V,2,0,"span",32),u.Tb(),u.Mc(11,$,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("PPE").value&&t.JobTaskDetail.get("PPE").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("PPE").value?null:t.JobTaskDetail.get("PPE").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("PPE").value?null:t.JobTaskDetail.get("PPE").value.length)>1),u.Bb(1),u.qc("ngForOf",t.PPESelectionData)}}function W(t,e){1&t&&u.Pb(0,"span",34)}function G(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function Y(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function Z(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc("",t.title," ")}}function X(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Licences"),u.Tb(),u.Ub(6,"mat-select",38),u.Ub(7,"mat-select-trigger"),u.Mc(8,W,1,0,"span",32),u.Mc(9,G,2,0,"span",32),u.Mc(10,Y,2,0,"span",32),u.Tb(),u.Mc(11,Z,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("LicenceCat").value&&t.JobTaskDetail.get("LicenceCat").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("LicenceCat").value?null:t.JobTaskDetail.get("LicenceCat").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("LicenceCat").value?null:t.JobTaskDetail.get("LicenceCat").value.length)>1),u.Bb(1),u.qc("ngForOf",t.licenceByTradecat)}}function K(t,e){1&t&&u.Pb(0,"span",34)}function tt(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function et(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function at(t,e){if(1&t&&(u.Ub(0,"mat-option",41),u.Pb(1,"span",42,43),u.Oc(3),u.Tb()),2&t){const t=e.$implicit,a=u.yc(2);u.qc("value",t._id)("matTooltip",a.innerText),u.Bb(1),u.qc("innerHTML",t.title,u.Dc),u.Bb(2),u.Qc(" ",a.innerText," ")}}function it(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Identify Hazards"),u.Tb(),u.Ub(6,"mat-select",39),u.Ub(7,"mat-select-trigger"),u.Mc(8,K,1,0,"span",32),u.Mc(9,tt,2,0,"span",32),u.Mc(10,et,2,0,"span",32),u.Tb(),u.Mc(11,at,4,4,"mat-option",40),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("identifyHazrds").value&&t.JobTaskDetail.get("identifyHazrds").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("identifyHazrds").value?null:t.JobTaskDetail.get("identifyHazrds").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("identifyHazrds").value?null:t.JobTaskDetail.get("identifyHazrds").value.length)>1),u.Bb(1),u.qc("ngForOf",t.allHazards)}}function ot(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc(" ",t.title," ")}}function lt(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Risk Level"),u.Tb(),u.Ub(6,"mat-select",44),u.Mc(7,ot,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(7),u.qc("ngForOf",t.riskLevelData)}}function nt(t,e){1&t&&u.Pb(0,"span",34)}function st(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function ct(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function rt(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc("",t.title," ")}}function bt(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Control Action Required"),u.Tb(),u.Ub(6,"mat-select",45),u.Ub(7,"mat-select-trigger"),u.Mc(8,nt,1,0,"span",32),u.Mc(9,st,2,0,"span",32),u.Mc(10,ct,2,0,"span",32),u.Tb(),u.Mc(11,rt,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("contrActReq").value&&t.JobTaskDetail.get("contrActReq").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("contrActReq").value?null:t.JobTaskDetail.get("contrActReq").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("contrActReq").value?null:t.JobTaskDetail.get("contrActReq").value.length)>1),u.Bb(1),u.qc("ngForOf",t.allContrlActReq)}}function dt(t,e){1&t&&u.Pb(0,"span",34)}function ut(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function mt(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function ft(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc("",t.title," ")}}function ht(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Code of Practice"),u.Tb(),u.Ub(6,"mat-select",46),u.Ub(7,"mat-select-trigger"),u.Mc(8,dt,1,0,"span",32),u.Mc(9,ut,2,0,"span",32),u.Mc(10,mt,2,0,"span",32),u.Tb(),u.Mc(11,ft,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("codeOfPract").value&&t.JobTaskDetail.get("codeOfPract").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("codeOfPract").value?null:t.JobTaskDetail.get("codeOfPract").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("codeOfPract").value?null:t.JobTaskDetail.get("codeOfPract").value.length)>1),u.Bb(1),u.qc("ngForOf",t.allCodeOfPract)}}function gt(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc(" ",t.title," ")}}function pt(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",28),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Residule Risk Level"),u.Tb(),u.Ub(6,"mat-select",47),u.Mc(7,gt,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(7),u.qc("ngForOf",t.resiRiskLevelData)}}function Tt(t,e){1&t&&(u.Sb(0),u.Ub(1,"div",36),u.Ub(2,"div",48),u.Ub(3,"div",49),u.Pb(4,"input",50),u.Ub(5,"label",51),u.Oc(6,"Yes"),u.Tb(),u.Tb(),u.Ub(7,"div",49),u.Pb(8,"input",52),u.Ub(9,"label",53),u.Oc(10,"No"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Rb())}function vt(t,e){1&t&&u.Pb(0,"span",34)}function kt(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," One Item selected "),u.Tb())}function Ct(t,e){1&t&&(u.Ub(0,"span",34),u.Oc(1," More than one selected "),u.Tb())}function Ot(t,e){if(1&t&&(u.Ub(0,"mat-option",35),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Qc("",t.title," ")}}function Rt(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",60),u.ec("click",function(){return u.Cc(t),u.ic(3).setRelation()}),u.Oc(1," Set "),u.Tb()}}function Ut(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",60),u.ec("click",function(){return u.Cc(t),u.ic(3).setRelation()}),u.Oc(1," Update "),u.Tb()}}function yt(t,e){if(1&t&&(u.Sb(0),u.Ub(1,"div",54),u.Ub(2,"div",55),u.Ub(3,"mat-form-field",29),u.Ub(4,"mat-label"),u.Oc(5,"Person Responsible"),u.Tb(),u.Ub(6,"mat-select",56),u.Ub(7,"mat-select-trigger"),u.Mc(8,vt,1,0,"span",32),u.Mc(9,kt,2,0,"span",32),u.Mc(10,Ct,2,0,"span",32),u.Tb(),u.Mc(11,Ot,2,2,"mat-option",33),u.Tb(),u.Tb(),u.Tb(),u.Pb(12,"div",57),u.Tb(),u.Ub(13,"div",58),u.Mc(14,Rt,2,0,"button",59),u.Mc(15,Ut,2,0,"button",59),u.Tb(),u.Rb()),2&t){const t=u.ic(2);u.Bb(8),u.qc("ngIf",!(null!=t.JobTaskDetail.get("personResp").value&&t.JobTaskDetail.get("personResp").value.length)),u.Bb(1),u.qc("ngIf",1==(null==t.JobTaskDetail.get("personResp").value?null:t.JobTaskDetail.get("personResp").value.length)),u.Bb(1),u.qc("ngIf",(null==t.JobTaskDetail.get("personResp").value?null:t.JobTaskDetail.get("personResp").value.length)>1),u.Bb(1),u.qc("ngForOf",t.staff),u.Bb(3),u.qc("ngIf",!(null!=t.jobTask&&t.jobTask.set)),u.Bb(1),u.qc("ngIf",null==t.jobTask?null:t.jobTask.set)}}function Pt(t,e){if(1&t){const t=u.Vb();u.Mc(0,H,12,4,"ng-container",22),u.Mc(1,Q,12,4,"ng-container",22),u.Mc(2,X,12,4,"ng-container",22),u.Mc(3,it,12,4,"ng-container",22),u.Mc(4,lt,8,1,"ng-container",22),u.Mc(5,bt,12,4,"ng-container",22),u.Mc(6,ht,12,4,"ng-container",22),u.Mc(7,pt,8,1,"ng-container",22),u.Mc(8,Tt,11,0,"ng-container",22),u.Mc(9,yt,16,6,"ng-container",22),u.Ub(10,"div",23),u.Ub(11,"button",24),u.ec("click",function(){return u.Cc(t),u.ic().prev()}),u.Pb(12,"i",25),u.Tb(),u.Ub(13,"button",24),u.ec("click",function(){return u.Cc(t),u.ic().next()}),u.Pb(14,"i",26),u.Tb(),u.Tb()}if(2&t){const t=e.name;u.qc("ngIf",t.toLowerCase()=="HighRisk Construction".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="PPE".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Licence".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Identify Hazards".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Risk Level".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Control Action Required".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Code of Practice".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Residule Risk Level".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Chemical related Task".toLowerCase()),u.Bb(1),u.qc("ngIf",t.toLowerCase()=="Person Responsible".toLowerCase())}}const At=function(){return["/admin/confiLogi/setLogic"]};let It=(()=>{class t{constructor(t,e,a,i,o){this.route=t,this.dialog=e,this.router=a,this.fb=i,this.logicalFormInfo=o,this.jobTask=null,this.highRiskConstructionData=[],this.PPESelectionData=[],this.licenseAndQual=[],this.allHazards=[],this.allContrlActReq=[],this.licenceByTradecat=[],this.resiRiskLevelData=[],this.riskLevelData=[],this.staff=[],this.allCodeOfPract=[],this.isLinear=!1,this.jobTaskId=null,this.stepperList=[{name:"HighRisk Construction",i:1,code:"highRisk"},{name:"PPE",i:0,code:"ppe"},{name:"Licence",i:0,code:"licence"},{name:"Identify Hazards",i:0,code:"identifyHazards"},{name:"Risk Level",i:0,code:"riskLevel"},{name:"Control Action Required",i:0,code:"ctrlActreq"},{name:"Code of Practice",i:0,code:"codeOfPract"},{name:"Residule Risk Level",i:0,code:"resRiskLevel"},{name:"Chemical related Task",i:0,code:""},{name:"Person Responsible",i:0,code:"perResbl"}],this.count=0}ngOnInit(){this.JobTaskDetail=this.fb.group({highRiskConstr:[],PPE:[],codeOfPract:[],LicenceCat:[],identifyHazrds:[],contrActReq:[],riskLevel:[],residualRiskL:[],personResp:[],chemical:[]}),this.route.queryParams.subscribe(t=>{console.log(t),this.jobTaskId=t.id,this.logicalFormInfo.getJobtaskById(t.id).subscribe(t=>{var e;this.jobTask=t.data,console.log("this.jobTask ",this.jobTask),this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),1==this.jobTask.set&&this.JobTaskDetail.patchValue({highRiskConstr:this.jobTask.risk,PPE:this.jobTask.PPE,codeOfPract:this.jobTask.codeOfPractice,LicenceCat:this.jobTask.licence,identifyHazrds:this.jobTask.identifyHazard,contrActReq:this.jobTask.controlActionRequired,riskLevel:this.jobTask.riskLevel,residualRiskL:this.jobTask.residualRisk,personResp:this.jobTask.staff,chemical:this.jobTask.chemical}),"YES"===(null===(e=this.jobTask)||void 0===e?void 0:e.chemical)?this.JobTaskDetail.get("chemical").setValue("YES"):this.JobTaskDetail.get("chemical").setValue("NO")})}),this.getAllHighRisk(),this.getAllPPE(),this.getAllHazard(),this.getAllContrActReq(),this.getAllStaff(),this.getAllResidualRiskLevel(),this.getAllRiskLevel(),this.getAllCodeOfPractice()}getAllResidualRiskLevel(){this.logicalFormInfo.getAllResidual().subscribe(t=>{this.resiRiskLevelData=t.data})}getAllRiskLevel(){this.logicalFormInfo.getAllRiskLevel().subscribe(t=>{this.riskLevelData=t.data})}getAllStaff(){this.logicalFormInfo.getAllStaff().subscribe(t=>{console.log(t),this.staff=t.data})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(t=>{this.highRiskConstructionData=t.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(t=>{this.PPESelectionData=t.data})}getAllCodeOfPractice(){this.logicalFormInfo.getAllCOP().subscribe(t=>{this.allCodeOfPract=t.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(t=>{this.allHazards=t.data})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(t=>{this.allContrlActReq=t.data})}getLicenceByTradeCat(t){console.log("getLicenceByTradeCat",t),this.logicalFormInfo.getLicenceByTradeCat(t).subscribe(t=>{this.licenceByTradecat=t.data.licenceData})}setRelation(){console.log(this.JobTaskDetail.value);let t=[],e=this.JobTaskDetail.get("contrActReq").value;null!=e&&this.allContrlActReq.forEach(a=>{e.forEach(e=>{a._id===e&&t.push({title:a.title,id:a._id})})});let a=[],i=this.JobTaskDetail.get("identifyHazrds").value;null!=i&&this.allHazards.forEach(t=>{i.forEach(e=>{t._id===e&&a.push({title:t.title,id:t._id})})});let o=[],l=this.JobTaskDetail.get("codeOfPract").value;null!=l&&this.allCodeOfPract.forEach(t=>{l.forEach(e=>{t._id===e&&o.push({title:t.title,id:t._id})})});let n=[],s=this.JobTaskDetail.get("personResp").value;null!=s&&(console.log(s),this.staff.forEach(t=>{s.forEach(e=>{t._id===e&&n.push({title:t.title,id:t._id})})}));let c={title:this.jobTask.title,risk:this.JobTaskDetail.get("highRiskConstr").value||[],codeOfPractice:this.JobTaskDetail.get("codeOfPract").value||[],PPE:this.JobTaskDetail.get("PPE").value||[],tradeCategoryId:this.jobTask.tradeCategoryId,licence:this.JobTaskDetail.get("LicenceCat").value||[],identifyHazard:this.JobTaskDetail.get("identifyHazrds").value||[],controlActionRequired:this.JobTaskDetail.get("contrActReq").value||[],riskLevel:this.JobTaskDetail.get("riskLevel").value,residualRisk:this.JobTaskDetail.get("residualRiskL").value,staff:this.JobTaskDetail.get("personResp").value,chemical:this.JobTaskDetail.get("chemical").value,allHazardsTitle:a,allContrlActReqTitle:t,allCOPTitle:o,staffTitle:n,set:!0};console.log("send data",c),this.logicalFormInfo.updateJobTask(c,this.jobTaskId).subscribe(t=>{console.log("resJob Task=>",t),r.a.fire({title:"Relation set successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/confiLogi/setLogic"])})}addItem(t){let e={type:t,tradeCategoryId:this.jobTask.tradeCategoryId};e="licence"===t?{type:t,tradeCategoryId:this.jobTask.tradeCategoryId}:{type:t,tradeCategoryId:""},this.dialog.open(A,{width:"550px",data:e}).afterClosed().subscribe(t=>{switch(t){case"highRisk":{let t=this.JobTaskDetail.get("highRiskConstr").value;this.getAllHighRisk(),this.JobTaskDetail.get("highRiskConstr").patchValue(t);break}case"ppe":{let t=this.JobTaskDetail.get("PPE").value;this.getAllPPE(),this.JobTaskDetail.get("PPE").patchValue(t);break}case"codeOfPract":{let t=this.JobTaskDetail.get("codeOfPract").value;this.getAllCodeOfPractice(),this.JobTaskDetail.get("codeOfPract").patchValue(t);break}case"licence":{let t=this.JobTaskDetail.get("LicenceCat").value;this.getLicenceByTradeCat(this.jobTask.tradeCategoryId),this.JobTaskDetail.get("LicenceCat").patchValue(t);break}case"identifyHazards":{let t=this.JobTaskDetail.get("identifyHazrds").value;this.getAllHazard(),this.JobTaskDetail.get("identifyHazrds").patchValue(t);break}case"riskLevel":{let t=this.JobTaskDetail.get("riskLevel").value;this.getAllRiskLevel(),this.JobTaskDetail.get("riskLevel").patchValue(t);break}case"ctrlActreq":{let t=this.JobTaskDetail.get("contrActReq").value;this.getAllContrActReq(),this.JobTaskDetail.get("contrActReq").patchValue(t);break}case"resRiskLevel":{let t=this.JobTaskDetail.get("residualRiskL").value;this.getAllResidualRiskLevel(),this.JobTaskDetail.get("residualRiskL").patchValue(t);break}case"perResbl":{let t=this.JobTaskDetail.get("personResp").value;this.getAllStaff(),this.JobTaskDetail.get("personResp").patchValue(t);break}}console.log("The dialog was closed")})}prev(){this.count!=this.stepperList.length+1&&0!=this.count&&(this.count--,this.stepperList.map(t=>{t.i=0}),this.stepperList[this.count].i=1)}next(){this.count!=this.stepperList.length-1&&(this.count++,this.stepperList.map(t=>{t.i=0}),this.stepperList[this.count].i=1)}handleClick(t){console.log(t),this.count=t,this.stepperList.map(t=>{t.i=0}),this.stepperList[this.count].i=1}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(I.a),u.Ob(b.b),u.Ob(I.f),u.Ob(s.f),u.Ob(m.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-set-relation"]],decls:16,vars:6,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,""],[1,"row"],[1,"col-md-3"],["id","v-pills-tab","role","tablist","aria-orientation","vertical",1,"nav","flex-column","nav-pills","nav-pills-custom"],["class","nav-link mb-3 p-3 shadow","id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",3,"active","click",4,"ngFor","ngForOf"],[1,"col-md-9"],["id","v-pills-tabContent",1,"tab-content"],["class","tab-pane fade shadow rounded bg-white p-5","id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",3,"active","show",4,"ngFor","ngForOf"],["let","","class","my-auto",3,"formGroup"],["test",""],["id","v-pills-home-tab","data-toggle","pill","role","tab","aria-controls","v-pills-home","aria-selected","true",1,"nav-link","mb-3","p-3","shadow",3,"click"],[1,"fa","fa-user-circle-o","mr-2"],[1,"font-weight-bold","small","text-uppercase"],["id","v-pills-home","role","tabpanel","aria-labelledby","v-pills-home-tab",1,"tab-pane","fade","shadow","rounded","bg-white","p-5"],[1,"font-italic","mb-4"],["class","material-icons ml-3 my-auto p-0",3,"click",4,"ngIf"],[1,"font-italic","text-muted","mb-2"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"material-icons","ml-3","my-auto","p-0",3,"click"],[4,"ngIf"],[1,"buttons"],["mat-icon-button","",3,"click"],[1,"fas","fa-arrow-left",2,"font-size","25px"],[1,"fas","fa-arrow-right",2,"font-size","25px"],[1,"row","justify-content-center",2,"margin-top","auto"],[1,"col-7"],["appearance","fill",1,"container"],[1,"text-center"],["formControlName","highRiskConstr","multiple",""],["class","example-additional-selection",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[1,"example-additional-selection"],[3,"value"],[1,"row","justify-content-center"],["formControlName","PPE","multiple",""],["formControlName","LicenceCat","multiple",""],["formControlName","identifyHazrds","multiple",""],[3,"value","matTooltip",4,"ngFor","ngForOf"],[3,"value","matTooltip"],[2,"display","none",3,"innerHTML"],["span",""],["formControlName","riskLevel"],["formControlName","contrActReq","multiple",""],["formControlName","codeOfPract","multiple",""],["formControlName","residualRiskL"],[1,"col-7","text-center"],[1,"form-check","form-check-inline"],["type","radio","value","YES","formControlName","chemical",1,"form-check-input"],["for","inlineRadio1",1,"form-check-label"],["type","radio","value","NO","formControlName","chemical",1,"form-check-input"],["for","inlineRadio2",1,"form-check-label"],[1,"row","justify-content-center","mt-3"],[1,"col-6"],["formControlName","personResp","multiple",""],[1,"col-1","my-auto"],[1,"text-center","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Pb(1,"i",1),u.Tb(),u.Ub(2,"div",2),u.Ub(3,"h2"),u.Oc(4),u.Tb(),u.Tb(),u.Ub(5,"section",3),u.Ub(6,"div",3),u.Ub(7,"div",4),u.Ub(8,"div",5),u.Ub(9,"div",6),u.Mc(10,B,4,3,"p",7),u.Tb(),u.Tb(),u.Ub(11,"div",8),u.Ub(12,"div",9),u.Mc(13,J,7,10,"div",10),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Mc(14,Pt,15,10,"ng-template",11,12,u.Nc)),2&t&&(u.qc("routerLink",u.tc(5,At)),u.Bb(4),u.Qc("Job Task :\xa0",null==e.jobTask?null:e.jobTask.title,""),u.Bb(6),u.qc("ngForOf",e.stepperList),u.Bb(3),u.qc("ngForOf",e.stepperList),u.Bb(1),u.qc("formGroup",e.JobTaskDetail))},directives:[I.g,l.m,s.s,s.k,l.n,l.s,i.a,D.b,D.e,q.a,s.r,s.i,q.c,M.n,w.a,s.x,s.d],styles:['@import "https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.3.1/css/bootstrap.min.css";@import "https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css";.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#aaa;background:#fff;position:relative}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#45b649;background:#fff}.buttons[_ngcontent-%COMP%]{display:flex;justify-content:space-evenly}@media (min-width:992px){.nav-pills-custom[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";display:block;border-top:8px solid transparent;border-left:10px solid #fff;border-bottom:8px solid transparent;position:absolute;top:50%;right:-10px;transform:translateY(-50%);opacity:0}}.nav-pills-custom[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{opacity:1}body[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(270deg,#dce35b,#45b649)}']}),t})();var Dt=a("Sgjq"),qt=a("2xAX"),Mt=a("IheW"),wt=a("EApP"),Bt=a("pMoy");function St(t,e){if(1&t&&(u.Ub(0,"option",30),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("ngValue",t),u.Bb(1),u.Pc(t.siteName)}}const Lt=function(t){return{"is-invalid":t}};function Nt(t,e){if(1&t&&u.Pb(0,"input",31),2&t){const t=u.ic();u.qc("ngClass",u.uc(1,Lt,t.jobHasError))}}function Jt(t,e){if(1&t&&(u.Ub(0,"option",32),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Pc(t.title)}}function Ft(t,e){if(1&t&&(u.Ub(0,"option",30),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("ngValue",t),u.Bb(1),u.Pc(t.customerName)}}let xt=(()=>{class t{constructor(t,e,a,i,o,l){this.dialog=t,this.dialogRef=e,this.data=a,this.logicalFormInfoService=i,this.fb=o,this.toastrService=l,this.jobHasError=!1,this.allSites=[],this.allCustomers=[],this.allState=[]}ngAfterViewInit(){}ngOnInit(){this.addJobNumberForm=this.fb.group({siteName:["",s.C.required],streetNumber:[{value:"",disabled:!0},s.C.required],streetAddress:[{value:"",disabled:!0},s.C.required],suburb:[{value:"",disabled:!0},s.C.required],state:[{value:"",disabled:!0},s.C.required],customerName:["",s.C.required],customerContact:[{value:"",disabled:!0},s.C.required],customerContactPhone:[{value:"",disabled:!0},s.C.required],customerEmail:[{value:"",disabled:!0},s.C.required]}),this.addJobNumberForm.get("siteName").valueChanges.subscribe(t=>{console.log(t),this.addJobNumberForm.get("streetNumber").setValue(t.streetNumber),this.addJobNumberForm.get("streetAddress").setValue(t.streetAddress),this.addJobNumberForm.get("suburb").setValue(t.suburb),this.addJobNumberForm.get("state").setValue(t.stateId._id)}),this.addJobNumberForm.get("customerName").valueChanges.subscribe(t=>{var e,a;console.log(t),this.addJobNumberForm.get("customerContact").setValue(t.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(e=t.contacts[0])||void 0===e?void 0:e.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(a=t.contacts[0])||void 0===a?void 0:a.email)}),this.getAllSites(),this.getAllCustomer(),this.getAllStates()}getAllCustomer(){this.logicalFormInfoService.getAllCustomer().subscribe(t=>{this.allCustomers=t.data})}getAllSites(){this.logicalFormInfoService.getAllSite().subscribe(t=>{this.jobHasError=!1,this.allSites=t.data,console.log(t.data)},t=>{t instanceof Mt.d&&422===t.status&&(this.jobHasError=!0),console.error(t)})}get f(){return this.addJobNumberForm.controls}onSubmit(){let t;console.log(this.addJobNumberForm.value),t={arrObj:[Object.assign({customerContact:this.f.customerContact.value,customerContactPhone:this.f.customerContactPhone.value,customerEmail:this.f.customerEmail.value,customerName:this.f.customerName.value.customerName,siteName:this.f.siteName.value.siteName,stateId:this.f.state.value,streetAddress:this.f.streetAddress.value,streetNumber:this.f.streetNumber.value,suburb:this.f.suburb.value},this.f.jobNumber.value?{jobNumber:this.f.jobNumber.value}:"")]},console.log(t),this.logicalFormInfoService.addJobNumber(t).subscribe(t=>{console.log(t),this.dialogRef.close("success")},t=>{t instanceof Mt.d&&(422===t.status&&this.toastrService.error("Job Number Already exists!"),console.error(t))})}setSite(t){console.log(t),this.addJobNumberForm.get("streetNumber").setValue(t.streetNumber),this.addJobNumberForm.get("streetAddress").setValue(t.streetAddress),this.addJobNumberForm.get("suburb").setValue(t.suburb),this.addJobNumberForm.get("state").setValue(t.stateId._id)}setCustomer(t){var e,a;this.addJobNumberForm.get("customerContact").setValue(t.customerContact),this.addJobNumberForm.get("customerContactPhone").setValue(null===(e=t.contacts[0])||void 0===e?void 0:e.phone),this.addJobNumberForm.get("customerEmail").setValue(null===(a=t.contacts[0])||void 0===a?void 0:a.email)}close(){this.dialogRef.close()}getAllStates(){this.logicalFormInfoService.getAllStates().subscribe(t=>{console.log("getAllStates=>",t),this.allState=t.data})}jobNumberChecked(t){console.log(t),t.checked?this.addJobNumberForm.addControl("jobNumber",new s.g("",s.C.required)):this.addJobNumberForm.removeControl("jobNumber"),console.log("this.addJobNumberForm.controls.jobNumber",this.addJobNumberForm.controls.jobNumber.errors,this.addJobNumberForm.invalid)}addSite(){this.dialog.open(qt.a,{}).afterClosed().subscribe(t=>{"true"===t&&this.getAllSites()})}addCustomer(){this.dialog.open(Dt.a,{}).afterClosed().subscribe(t=>{"ok"===t&&this.getAllCustomer()})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(b.b),u.Ob(b.f),u.Ob(b.a),u.Ob(m.a),u.Ob(s.f),u.Ob(wt.b))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-create-job-no"]],decls:70,vars:6,consts:[[3,"formGroup"],["mat-dialog-title","",1,"dialog-title"],[1,"btn","btn-outline-primary","mt-1","mr-2",3,"click"],["type","button","aria-label","Close",1,"close",2,"font-size","25px",3,"click"],["aria-hidden","true"],[1,"row"],[1,"my-3","col-6"],["for","exampleFormControlInput1",1,"form-Label"],["type","text","formControlName","siteName","id","siteName",1,"form-control"],[3,"ngValue",4,"ngFor","ngForOf"],[2,"display","flex"],[2,"margin","3%",3,"change"],["check",""],["type","text","class","form-control","formControlName","jobNumber","val","",3,"ngClass",4,"ngIf"],[1,"invalid-feedback"],[1,"my-3","col-2"],["type","text","formControlName","streetNumber","id","siteName",1,"form-control"],[1,"my-3","col-4"],["type","text","formControlName","streetAddress","id","siteName",1,"form-control"],["type","text","formControlName","suburb","id","siteName",1,"form-control"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[1,"my-3","col"],["type","text","formControlName","customerName","id","siteName",1,"form-control"],["type","text","id","siteName","formControlName","customerContact",1,"form-control"],["type","text","id","siteName","formControlName","customerContactPhone",1,"form-control"],["type","text","id","siteName","formControlName","customerEmail",1,"form-control"],[1,"btn","btn-primary",3,"disabled","click"],[3,"ngValue"],["type","text","formControlName","jobNumber","val","",1,"form-control",3,"ngClass"],[3,"value"]],template:function(t,e){if(1&t&&(u.Ub(0,"section",0),u.Ub(1,"div"),u.Ub(2,"div",1),u.Ub(3,"h1"),u.Oc(4,"Create Job Number"),u.Tb(),u.Ub(5,"button",2),u.ec("click",function(){return e.addSite()}),u.Oc(6,"Add Site"),u.Tb(),u.Ub(7,"button",2),u.ec("click",function(){return e.addCustomer()}),u.Oc(8,"Add Customer"),u.Tb(),u.Ub(9,"button",3),u.ec("click",function(){return e.close()}),u.Ub(10,"span",4),u.Oc(11,"\xd7"),u.Tb(),u.Tb(),u.Tb(),u.Ub(12,"div",5),u.Ub(13,"div",6),u.Ub(14,"p",7),u.Oc(15,"Site Name"),u.Tb(),u.Ub(16,"select",8),u.Mc(17,St,2,2,"option",9),u.Tb(),u.Tb(),u.Ub(18,"div",6),u.Ub(19,"p",7),u.Oc(20,"Enter Custom Job No:"),u.Tb(),u.Ub(21,"div",10),u.Ub(22,"mat-checkbox",11,12),u.ec("change",function(t){return e.jobNumberChecked(t)}),u.Tb(),u.Mc(24,Nt,1,3,"input",13),u.Ub(25,"div",14),u.Ub(26,"div"),u.Oc(27,"Job Number Is Required!"),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Tb(),u.Ub(28,"div",5),u.Ub(29,"div",15),u.Ub(30,"p",7),u.Oc(31,"Street Number"),u.Tb(),u.Pb(32,"input",16),u.Tb(),u.Ub(33,"div",17),u.Ub(34,"p",7),u.Oc(35,"Street Address"),u.Tb(),u.Pb(36,"input",18),u.Tb(),u.Ub(37,"div",15),u.Ub(38,"p",7),u.Oc(39,"Suburb"),u.Tb(),u.Pb(40,"input",19),u.Tb(),u.Ub(41,"div",17),u.Ub(42,"p",20),u.Oc(43,"State"),u.Tb(),u.Ub(44,"select",21),u.Ub(45,"option",22),u.Oc(46,"Select"),u.Tb(),u.Mc(47,Jt,2,2,"option",23),u.Tb(),u.Tb(),u.Tb(),u.Ub(48,"div",5),u.Ub(49,"div",24),u.Ub(50,"p",7),u.Oc(51,"Customer Name"),u.Tb(),u.Ub(52,"select",25),u.Mc(53,Ft,2,2,"option",9),u.Tb(),u.Tb(),u.Ub(54,"div",24),u.Ub(55,"p",7),u.Oc(56,"Customer Contact"),u.Tb(),u.Pb(57,"input",26),u.Tb(),u.Tb(),u.Ub(58,"div",5),u.Ub(59,"div",24),u.Ub(60,"p",7),u.Oc(61,"Customer Contact Phone"),u.Tb(),u.Pb(62,"input",27),u.Tb(),u.Ub(63,"div",24),u.Ub(64,"p",7),u.Oc(65,"Customer Email"),u.Tb(),u.Pb(66,"input",28),u.Tb(),u.Tb(),u.Ub(67,"div"),u.Ub(68,"button",29),u.ec("click",function(){return e.onSubmit()}),u.Oc(69," Create "),u.Tb(),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.yc(23);u.qc("formGroup",e.addJobNumberForm),u.Bb(17),u.qc("ngForOf",e.allSites),u.Bb(7),u.qc("ngIf",t.checked),u.Bb(23),u.qc("ngForOf",e.allState),u.Bb(6),u.qc("ngForOf",e.allCustomers),u.Bb(15),u.qc("disabled",e.addJobNumberForm.invalid)}},directives:[s.s,s.k,b.g,s.A,s.r,s.i,l.m,Bt.a,l.n,s.d,s.v,s.D,l.l],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}.dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t})();var zt=a("5QHs"),Et=a("OaSA"),Ht=a("2X0P"),jt=a("LUZP"),_t=a("yZxC");function Vt(t,e){1&t&&(u.Ub(0,"th",23),u.Oc(1," No. "),u.Tb())}function $t(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1),u.Tb()),2&t){const t=e.index;u.Bb(1),u.Pc(t+1)}}function Qt(t,e){1&t&&(u.Ub(0,"th",23),u.Oc(1," Job Number "),u.Tb())}function Wt(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Qc(" ",t.jobNumber," ")}}function Gt(t,e){1&t&&(u.Ub(0,"th",23),u.Oc(1," Site Name "),u.Tb())}function Yt(t,e){if(1&t&&(u.Ub(0,"td",24),u.Ub(1,"span",25),u.Oc(2),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Bb(2),u.Qc("",t.siteName," ")}}function Zt(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Street Number "),u.Tb())}function Xt(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Qc(" ",t.streetNumber," ")}}function Kt(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Street Address "),u.Tb())}function te(t,e){if(1&t&&(u.Ub(0,"td",24),u.Ub(1,"span",25),u.Oc(2),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Bb(2),u.Pc(t.streetAddress)}}function ee(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Suburb "),u.Tb())}function ae(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Qc(" ",t.suburb," ")}}function ie(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," State "),u.Tb())}function oe(t,e){if(1&t&&(u.Ub(0,"td",24),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Qc(" ",null==t.stateId?null:t.stateId.title," ")}}function le(t,e){1&t&&(u.Ub(0,"th",23),u.Oc(1," Customer Name "),u.Tb())}function ne(t,e){if(1&t&&(u.Ub(0,"td",24),u.Ub(1,"span",25),u.Oc(2),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Bb(2),u.Qc(" ",t.customerName,"")}}function se(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Customer Contact "),u.Tb())}function ce(t,e){if(1&t&&(u.Ub(0,"td",24),u.Ub(1,"span",25),u.Oc(2),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Bb(2),u.Pc(t.customerContact)}}function re(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Edit "),u.Tb())}function be(t,e){if(1&t){const t=u.Vb();u.Ub(0,"td",27),u.ec("click",function(){u.Cc(t);const a=e.$implicit;return u.ic().edit(a)}),u.Pb(1,"i",28),u.Tb()}}function de(t,e){1&t&&(u.Ub(0,"th",26),u.Oc(1," Action "),u.Tb())}function ue(t,e){if(1&t){const t=u.Vb();u.Ub(0,"td",24),u.Ub(1,"button",29),u.ec("click",function(){u.Cc(t);const a=e.$implicit;return u.ic().delete(a)}),u.Ub(2,"mat-icon",30),u.Oc(3,"delete"),u.Tb(),u.Tb(),u.Tb()}}function me(t,e){1&t&&u.Pb(0,"tr",31)}function fe(t,e){1&t&&u.Pb(0,"tr",32)}function he(t,e){1&t&&(u.Ub(0,"tr",33),u.Ub(1,"td",34),u.Oc(2,"Data Not Found "),u.Tb(),u.Tb())}const ge=function(){return[20]};let pe=(()=>{class t{constructor(t,e,a){this.dialog=t,this.setTitle=e,this.logicalFormInfoService=a,this.jobTaskData=[],this.ELEMENT_DATA=[],this.displayedColumns=["jobNumber","siteName","streetNumber","streetAddress","suburb","state","customerName","customerContact","action"],this.dataSource=new Et.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Add Site Info"),this.getAllJobNumber()}getAllJobNumber(t="",e=""){this.logicalFormInfoService.getAllJobNumber(t,e).subscribe(t=>{console.log(t),this.dataSource=t.data,console.log("getAllJobNumber",this.dataSource),this.dataSource.paginator=this.paginator})}getAllJobTask(){}openDialog(t){this.dialog.open(xt,{height:"80%",data:{action:"new",userId:t}}).afterClosed().subscribe(t=>{console.log("CustomerInfoComponent -> openDialog -> result",t),console.log("result",t),"success"===t&&(this.getAllJobNumber(),r.a.fire({title:"Job Number created successfully",showConfirmButton:!1,timer:1200})),console.log("The dialog was closed")})}edit(t){this.dialog.open(Ht.a,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllJobTask(),console.log("The dialog was closed")})}delete(t){r.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.jobNumber}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfoService.deleteJobNumber(t._id).subscribe(t=>{r.a.fire({title:"Job Number Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllJobNumber()})})}sortData(t){this.getAllJobNumber(t.active,t.direction)}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(b.b),u.Ob(_t.a),u.Ob(m.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-job-number"]],viewQuery:function(t,e){if(1&t&&(u.Sc(jt.a,!0),u.Sc(zt.a,!0)),2&t){let t;u.xc(t=u.fc())&&(e.sort=t.first),u.xc(t=u.fc())&&(e.paginator=t.first)}},decls:44,vars:5,consts:[["_ngcontent-hqi-c400","","type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],["_ngcontent-hqi-c400","",1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","jobNumber"],["matColumnDef","siteName"],["matColumnDef","streetNumber"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","streetAddress"],["matColumnDef","suburb"],["matColumnDef","state"],["matColumnDef","customerName"],["matColumnDef","customerContact"],["matColumnDef","edit"],["mat-cell","",3,"click",4,"matCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["mat-cell","",3,"click"],[1,"fas","fa-pencil-alt"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1," Job Number List "),u.Ub(2,"button",0),u.ec("click",function(){return e.openDialog("abcd")}),u.Pb(3,"i",1),u.Oc(4," Create "),u.Tb(),u.Tb(),u.Ub(5,"div",2),u.Ub(6,"table",3),u.ec("matSortChange",function(t){return e.sortData(t)}),u.Sb(7,4),u.Mc(8,Vt,2,0,"th",5),u.Mc(9,$t,2,1,"td",6),u.Rb(),u.Sb(10,7),u.Mc(11,Qt,2,0,"th",5),u.Mc(12,Wt,2,1,"td",6),u.Rb(),u.Sb(13,8),u.Mc(14,Gt,2,0,"th",5),u.Mc(15,Yt,3,1,"td",6),u.Rb(),u.Sb(16,9),u.Mc(17,Zt,2,0,"th",10),u.Mc(18,Xt,2,1,"td",6),u.Rb(),u.Sb(19,11),u.Mc(20,Kt,2,0,"th",10),u.Mc(21,te,3,1,"td",6),u.Rb(),u.Sb(22,12),u.Mc(23,ee,2,0,"th",10),u.Mc(24,ae,2,1,"td",6),u.Rb(),u.Sb(25,13),u.Mc(26,ie,2,0,"th",10),u.Mc(27,oe,2,1,"td",6),u.Rb(),u.Sb(28,14),u.Mc(29,le,2,0,"th",5),u.Mc(30,ne,3,1,"td",6),u.Rb(),u.Sb(31,15),u.Mc(32,se,2,0,"th",10),u.Mc(33,ce,3,1,"td",6),u.Rb(),u.Sb(34,16),u.Mc(35,re,2,0,"th",10),u.Mc(36,be,2,0,"td",17),u.Rb(),u.Sb(37,18),u.Mc(38,de,2,0,"th",10),u.Mc(39,ue,4,0,"td",6),u.Rb(),u.Mc(40,me,1,0,"tr",19),u.Mc(41,fe,1,0,"tr",20),u.Mc(42,he,3,0,"tr",21),u.Tb(),u.Pb(43,"mat-paginator",22),u.Tb()),2&t&&(u.Bb(6),u.qc("dataSource",e.dataSource),u.Bb(34),u.qc("matHeaderRowDef",e.displayedColumns),u.Bb(1),u.qc("matRowDefColumns",e.displayedColumns),u.Bb(2),u.qc("pageSizeOptions",u.tc(4,ge)))},directives:[Et.k,jt.a,Et.c,Et.e,Et.b,Et.g,Et.j,Et.h,zt.a,Et.d,jt.b,Et.a,i.a,o.a,w.a,Et.f,Et.i],styles:["abel[_ngcontent-%COMP%]:not(.form-check-label):not(.custom-file-label){font-weight:500}input[_ngcontent-%COMP%]:focus{border:2px solid #1e90ff}label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif}.form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}.container[_ngcontent-%COMP%]{background-color:#fff}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.imgStyle[_ngcontent-%COMP%]{border:2px solid rgba(46,105,255,.25098039215686274);border-radius:10px}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}table[_ngcontent-%COMP%]{width:100%}"]}),t})();var Te=a("X72n");const ve=["risk"];function ke(t,e){1&t&&(u.Ub(0,"th",16),u.Oc(1," No. "),u.Tb())}function Ce(t,e){if(1&t&&(u.Ub(0,"td",17),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Pc(t.index)}}function Oe(t,e){1&t&&(u.Ub(0,"th",16),u.Oc(1," Name "),u.Tb())}function Re(t,e){if(1&t&&(u.Ub(0,"td",17),u.Ub(1,"span",18),u.Ub(2,"pre",19),u.Oc(3),u.Tb(),u.Tb(),u.Tb()),2&t){const t=e.$implicit;u.Bb(3),u.Qc("",t.title," ")}}function Ue(t,e){1&t&&(u.Ub(0,"th",20),u.Oc(1," Set "),u.Tb())}function ye(t,e){1&t&&(u.Ub(0,"button",23),u.Oc(1,"Set"),u.Tb())}function Pe(t,e){1&t&&(u.Ub(0,"button",23),u.Oc(1,"Update"),u.Tb())}function Ae(t,e){if(1&t){const t=u.Vb();u.Ub(0,"td",21),u.ec("click",function(){u.Cc(t);const a=e.$implicit;return u.ic().setRelation_2(a._id)}),u.Mc(1,ye,2,0,"button",22),u.Mc(2,Pe,2,0,"button",22),u.Tb()}if(2&t){const t=e.$implicit;u.Bb(1),u.qc("ngIf",!t.set),u.Bb(1),u.qc("ngIf",t.set)}}function Ie(t,e){1&t&&u.Pb(0,"tr",24)}function De(t,e){1&t&&u.Pb(0,"tr",25)}function qe(t,e){1&t&&(u.Ub(0,"tr",26),u.Ub(1,"td",27),u.Oc(2,"Data Not Found "),u.Tb(),u.Tb())}const Me=function(){return[20]};let we=(()=>{class t{constructor(t,e,a,i,o){this.fb=t,this.dialog=e,this.logicalFormInfo=a,this.setTitle=i,this.router=o,this.allHazards=[],this.allContrlActReq=[],this.jobTaskData=[],this.highRiskData=[],this.PPESelectionData=[],this.codeOfPract=[],this.licenseAndQual=[],this.licenseAndQualificationData=[],this.licenceCatAll=[],this.highRiskConstructionData=[],this.task=[],this.riskLevel="",this.residuleRiskL="",this.PPEselection=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.licenseAndQualification=[{label:"Open Cable Licence",value:""},{label:"White Card",value:""},{label:"EWP Licence",value:""},{label:"Working At Heights",value:""},{label:"Security Licence",value:""},{label:"Asbestos Awarness",value:""},{label:"Working In Confined Space",value:""}],this.highRiskConstruction2=[{label:"Working in or near trenches or shafts deeper than 1.5metres",value:""},{label:"Work in or near a confined space",value:""},{label:"Work in an area that may have a contaminated or flammable atmosphere",value:""},{label:"Working around or near mobile plant",value:""},{label:"Work with near or near asbestos",value:""},{label:"Working with hazardous substances",value:""},{label:"Working with or near tilt-up/precast concrete",value:""},{label:"Risk of falls higher than 2 metres",value:""},{label:"Working near on or adjacent to a road or rail corridor",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Working on or near telecommunication tower",value:""},{label:"Work near explosives",value:""},{label:"Work in or near water or other liquid that involves a risk of drowning",value:""},{label:"Demolition of load-bearing structure",value:""},{label:"Diving work",value:""}],this.PPEselection2=[{label:"Disposable dust mask",value:""},{label:"Dust Mas",value:""},{label:"Face shield",value:""},{label:"Full face respirator",value:""},{label:"Gttors",value:""},{label:"Half face respirator",value:""},{label:"Hard Hat",value:""},{label:"Hearing protection",value:""},{label:"High-Vis Clothing",value:""},{label:"Lock Out Tags",value:""},{label:"Long sleeve/Long pants",value:""},{label:"Out of Service Tags",value:""},{label:"Protective gloves",value:""},{label:"Rescue kit",value:""},{label:"Safety boots",value:""},{label:"Safety glasses",value:""},{label:"Sun Screen",value:""},{label:"torch",value:""},{label:"Wide Brim Hat",value:""}],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new Et.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set Relation"),this.getJobTask()}onFormSubmit(){console.log(this.JobTaskDetail)}getJobTask(){this.logicalFormInfo.getAllJobtask().subscribe(t=>{console.log("jobTaskDetails=>",t),this.jobTaskData=t.data,this.jobTaskData.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=this.jobTaskData,this.dataSource=new Et.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}getAllHighRisk(){this.logicalFormInfo.getAllRisk().subscribe(t=>{console.log("Risk=>",t),this.highRiskConstructionData=t.data})}getAllPPE(){this.logicalFormInfo.getAllPPE().subscribe(t=>{console.log("PPE=>",t),this.PPESelectionData=t.data})}getAllLicence(){this.logicalFormInfo.getAllLicence().subscribe(t=>{console.log("Licence=>",t),this.licenseAndQual=t.data})}getAllHazard(){this.logicalFormInfo.getAllHazards().subscribe(t=>{console.log("getAllHazards=>",t),this.allHazards=t.data})}getAllContrActReq(){this.logicalFormInfo.getAllContrlActReq().subscribe(t=>{console.log("getAllHazards=>",t),this.allContrlActReq=t.data})}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(t=>{console.log("getAllLicenceCat=>",t),this.licenceCatAll=t.data})}setRelation_2(t){this.router.navigate(["/admin/confiLogi/setRelation"],{queryParams:{id:t}})}categorySel(t){this.licenseAndQualificationData=[],console.log(t),t.forEach(t=>{this.licenseAndQual.forEach(e=>{t===e.licenceCategoryId._id&&this.licenseAndQualificationData.push(e)})}),console.log(" this.licenseAndQualificationData",this.licenseAndQualificationData)}addJobTask(){this.dialog.open(Te.a,{width:"70%"}).afterClosed().subscribe(t=>{"ok"===t&&this.getJobTask()})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.f),u.Ob(b.b),u.Ob(m.a),u.Ob(_t.a),u.Ob(I.f))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-set-logic"]],viewQuery:function(t,e){if(1&t&&(u.Sc(jt.a,!0),u.Sc(zt.a,!0),u.Sc(ve,!0)),2&t){let t;u.xc(t=u.fc())&&(e.sort=t.first),u.xc(t=u.fc())&&(e.paginator=t.first),u.xc(t=u.fc())&&(e.Risk=t)}},decls:20,vars:5,consts:[[1,"ml-2"],["type","button",1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-plus"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],[2,"font-family","Roboto, Helvetica Neue, sans-serif","font-size","14px"],["mat-header-cell",""],["mat-cell","",3,"click"],["class","myBtn","mat-stroked-button","","color","primary",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(u.Ub(0,"h2",0),u.Oc(1," Set Relation "),u.Ub(2,"button",1),u.ec("click",function(){return e.addJobTask()}),u.Pb(3,"i",2),u.Oc(4," Add JobTask "),u.Tb(),u.Tb(),u.Ub(5,"div",3),u.Ub(6,"table",4),u.Sb(7,5),u.Mc(8,ke,2,0,"th",6),u.Mc(9,Ce,2,1,"td",7),u.Rb(),u.Sb(10,8),u.Mc(11,Oe,2,0,"th",6),u.Mc(12,Re,4,1,"td",7),u.Rb(),u.Sb(13,9),u.Mc(14,Ue,2,0,"th",10),u.Mc(15,Ae,3,2,"td",11),u.Rb(),u.Mc(16,Ie,1,0,"tr",12),u.Mc(17,De,1,0,"tr",13),u.Mc(18,qe,3,0,"tr",14),u.Tb(),u.Pb(19,"mat-paginator",15),u.Tb()),2&t&&(u.Bb(6),u.qc("dataSource",e.dataSource),u.Bb(10),u.qc("matHeaderRowDef",e.displayedColumns),u.Bb(1),u.qc("matRowDefColumns",e.displayedColumns),u.Bb(2),u.qc("pageSizeOptions",u.tc(4,Me)))},directives:[Et.k,jt.a,Et.c,Et.e,Et.b,Et.g,Et.j,Et.h,zt.a,Et.d,jt.b,Et.a,l.n,i.a,Et.f,Et.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();function Be(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1,"Add Job Task "),u.Tb())}function Se(t,e){1&t&&(u.Ub(0,"h2"),u.Oc(1,"Edit Job Task"),u.Tb())}function Le(t,e){if(1&t&&(u.Ub(0,"option",14),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Pc(t.title)}}function Ne(t,e){if(1&t&&(u.Ub(0,"div",8),u.Ub(1,"div",9),u.Pb(2,"input",10),u.Tb(),u.Ub(3,"div",9),u.Ub(4,"select",11),u.Ub(5,"option",12),u.Oc(6,"Select category"),u.Tb(),u.Mc(7,Le,2,2,"option",13),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.ic();u.qc("formGroup",t.addjob),u.Bb(7),u.qc("ngForOf",t.licenceCatAll)}}function Je(t,e){if(1&t&&(u.Ub(0,"option",14),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t._id),u.Bb(1),u.Pc(t.title)}}function Fe(t,e){if(1&t&&(u.Ub(0,"div",8),u.Ub(1,"div",9),u.Pb(2,"input",10),u.Tb(),u.Ub(3,"div",9),u.Ub(4,"select",11),u.Ub(5,"option",12),u.Oc(6,"Select category"),u.Tb(),u.Mc(7,Je,2,2,"option",13),u.Tb(),u.Tb(),u.Tb()),2&t){const t=u.ic();u.qc("formGroup",t.jobTaskDetails),u.Bb(7),u.qc("ngForOf",t.licenceCatAll)}}function xe(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",15),u.ec("click",function(){return u.Cc(t),u.ic().onFormSubmit()}),u.Oc(1,"Update"),u.Tb()}if(2&t){const t=u.ic();u.qc("disabled",!t.jobTaskDetails.valid)}}function ze(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",15),u.ec("click",function(){return u.Cc(t),u.ic().addForm()}),u.Oc(1,"Add"),u.Tb()}if(2&t){const t=u.ic();u.qc("disabled",!t.addjob.valid)}}const Ee=["risk"];function He(t,e){1&t&&(u.Ub(0,"th",14),u.Oc(1," No. "),u.Tb())}function je(t,e){if(1&t&&(u.Ub(0,"td",15),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Pc(t.index)}}function _e(t,e){1&t&&(u.Ub(0,"th",14),u.Oc(1," Title "),u.Tb())}function Ve(t,e){if(1&t&&(u.Ub(0,"td",15),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.Bb(1),u.Qc(" ",t.title," ")}}function $e(t,e){1&t&&(u.Ub(0,"th",16),u.Oc(1," Set "),u.Tb())}function Qe(t,e){1&t&&(u.Ub(0,"button",19),u.Oc(1,"Set"),u.Tb())}function We(t,e){1&t&&(u.Ub(0,"button",19),u.Oc(1,"Update"),u.Tb())}function Ge(t,e){if(1&t){const t=u.Vb();u.Ub(0,"td",17),u.ec("click",function(){u.Cc(t);const a=e.$implicit;return u.ic().setRelation_2(a._id)}),u.Mc(1,Qe,2,0,"button",18),u.Mc(2,We,2,0,"button",18),u.Tb()}if(2&t){const t=e.$implicit;u.Bb(1),u.qc("ngIf",!t.set),u.Bb(1),u.qc("ngIf",t.set)}}function Ye(t,e){1&t&&u.Pb(0,"tr",20)}function Ze(t,e){1&t&&u.Pb(0,"tr",21)}function Xe(t,e){1&t&&(u.Ub(0,"tr",22),u.Ub(1,"td",23),u.Oc(2,"Data Not Found "),u.Tb(),u.Tb())}const Ke=function(){return[20]};function ta(t,e){if(1&t&&(u.Ub(0,"option",11),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t.value),u.Bb(1),u.Pc(t.name)}}function ea(t,e){if(1&t&&(u.Ub(0,"option",11),u.Oc(1),u.Tb()),2&t){const t=e.$implicit;u.qc("value",t.value),u.Bb(1),u.Pc(t.name)}}function aa(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",12),u.ec("click",function(){return u.Cc(t),u.ic().setRelation()}),u.Oc(1,"Set"),u.Tb()}}function ia(t,e){if(1&t){const t=u.Vb();u.Ub(0,"button",12),u.ec("click",function(){return u.Cc(t),u.ic().setRelation()}),u.Oc(1,"Update"),u.Tb()}}const oa=function(){return["/admin/confiLogi/setHazard"]},la=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=u.Ib({type:t,selectors:[["app-confi-logi"]],decls:1,vars:0,template:function(t,e){1&t&&u.Pb(0,"router-outlet")},directives:[I.k],styles:[""]}),t})()},{path:"setLogic",component:we},{path:"setJobNumber",component:pe},{path:"setRelation",component:It},{path:"addTask",component:(()=>{class t{constructor(t,e,a,i,o){this.fb=t,this.router=e,this.logicalFormInfo=a,this.dialogRef=i,this.data=o,this.Edit=!1,this.Add=!0,this.licenceCatAll=[],this.dataRec=o,console.log("datarec",this.dataRec),this.addjob=this.fb.group({title:["",s.C.required],tradeCategory:["",s.C.required]})}ngOnInit(){this.getAllCategories(),""!=this.Id?this.Eddit():this.Added()}Added(){1==this.Edit?(this.Edit=!1,this.Add=!0,this.addjob=this.fb.group({title:["",s.C.required],tradeCategory:["",s.C.required]})):this.Add=!0}Eddit(){1==this.Add?(this.Add=!1,this.Edit=!0,this.jobTaskDetails=this.fb.group({title:[this.dataRec.title,s.C.required],tradeCategoryId:[this.dataRec.tradeCategoryId._id,s.C.required]})):this.Edit=!0}getAllCategories(){this.logicalFormInfo.getAllLicenceCat().subscribe(t=>{console.log("getAllLicenceCat=>",t),this.licenceCatAll=t.data})}onFormSubmit(){console.log(this.jobTaskDetails.get("title").value);let t={title:this.jobTaskDetails.get("title").value,tradeCategoryId:this.jobTaskDetails.get("tradeCategoryId").value};console.log("edit",t),this.logicalFormInfo.updateJobTask(t,this.dataRec._id).subscribe(t=>{console.log("JOBTask=>",t),this.dialogRef.close("true"),r.a.fire({title:"JobTask Updated successfully",showConfirmButton:!1,timer:1200})},t=>{console.error(t)})}addForm(){console.log("addForm",this.addjob.value),this.logicalFormInfo.addJobTask(this.addjob.value).subscribe(t=>{console.log("JOBTask=>",t),this.dialogRef.close("true"),r.a.fire({title:"Parameter Added successfully",showConfirmButton:!1,timer:1200})},t=>{console.error(t)})}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.f),u.Ob(I.f),u.Ob(m.a),u.Ob(b.f),u.Ob(b.a))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-add-job-task"]],decls:15,vars:6,consts:[[1,"container","px-4","py-4","bg-white"],["mat-dialog-title","",1,"dialog-title"],[4,"ngIf"],["type","button","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],["aria-hidden","true"],["class","row ",3,"formGroup",4,"ngIf"],[1,"col-md-2"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],[1,"row",3,"formGroup"],[1,"col-6"],["type","text","formControlName","title","id","title",1,"form-control","sign"],["aria-label","Default select example","formControlName","tradeCategoryId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Ub(1,"div",1),u.Mc(2,Be,2,0,"h2",2),u.Mc(3,Se,2,0,"h2",2),u.Ub(4,"button",3),u.ec("click",function(){return e.close()}),u.Ub(5,"span",4),u.Oc(6,"\xd7"),u.Tb(),u.Tb(),u.Tb(),u.Pb(7,"br"),u.Mc(8,Ne,8,2,"div",5),u.Mc(9,Fe,8,2,"div",5),u.Pb(10,"br"),u.Pb(11,"hr"),u.Ub(12,"div",6),u.Mc(13,xe,2,1,"button",7),u.Mc(14,ze,2,1,"button",7),u.Tb(),u.Tb()),2&t&&(u.Bb(2),u.qc("ngIf",!e.dataRec),u.Bb(1),u.qc("ngIf",e.dataRec),u.Bb(5),u.qc("ngIf",e.Add),u.Bb(1),u.qc("ngIf",e.Edit),u.Bb(4),u.qc("ngIf",e.Edit),u.Bb(1),u.qc("ngIf",e.Add))},directives:[b.g,l.n,s.s,s.k,s.d,s.r,s.i,s.A,s.v,s.D,l.m,i.a],styles:[".dialog-title[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),t})()},{path:"setHazard",component:(()=>{class t{constructor(t,e,a,i){this.fb=t,this.logicalFormInfo=e,this.setTitle=a,this.router=i,this.hazardData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new Et.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set Hazard Relation"),this.getAllHazardTreatmentRelation()}onFormSubmit(){console.log(this.setStatesDetail)}getAllHazardTreatmentRelation(){this.logicalFormInfo.getAllHazardTreatmentRelation().subscribe(t=>{console.log("getAllHazardTreatmentRelation=>",t),this.hazardData=t.data,this.hazardData.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=this.hazardData,this.dataSource=new Et.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}setRelation_2(t){this.router.navigate(["/admin/confiLogi/setHazardRelation"],{queryParams:{id:t}})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(s.f),u.Ob(m.a),u.Ob(_t.a),u.Ob(I.f))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-hazard-treatment"]],viewQuery:function(t,e){if(1&t&&(u.Sc(zt.a,!0),u.Sc(jt.a,!0),u.Sc(Ee,!0)),2&t){let t;u.xc(t=u.fc())&&(e.paginator=t.first),u.xc(t=u.fc())&&(e.sort=t.first),u.xc(t=u.fc())&&(e.Risk=t)}},decls:17,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-stroked-button","","color","primary","class","myBtn",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(u.Ub(0,"h2",0),u.Oc(1," Set Hazard's Relation"),u.Tb(),u.Ub(2,"div",1),u.Ub(3,"table",2),u.Sb(4,3),u.Mc(5,He,2,0,"th",4),u.Mc(6,je,2,1,"td",5),u.Rb(),u.Sb(7,6),u.Mc(8,_e,2,0,"th",4),u.Mc(9,Ve,2,1,"td",5),u.Rb(),u.Sb(10,7),u.Mc(11,$e,2,0,"th",8),u.Mc(12,Ge,3,2,"td",9),u.Rb(),u.Mc(13,Ye,1,0,"tr",10),u.Mc(14,Ze,1,0,"tr",11),u.Mc(15,Xe,3,0,"tr",12),u.Tb(),u.Pb(16,"mat-paginator",13),u.Tb()),2&t&&(u.Bb(3),u.qc("dataSource",e.dataSource),u.Bb(10),u.qc("matHeaderRowDef",e.displayedColumns),u.Bb(1),u.qc("matRowDefColumns",e.displayedColumns),u.Bb(2),u.qc("pageSizeOptions",u.tc(4,Ke)))},directives:[Et.k,jt.a,Et.c,Et.e,Et.b,Et.g,Et.j,Et.h,zt.a,Et.d,jt.b,Et.a,l.n,i.a,Et.f,Et.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),t})()},{path:"setHazardRelation",component:(()=>{class t{constructor(t,e,a,i){this.route=t,this.fb=e,this.logicalFormInfo=a,this.router=i,this.hazard=null,this.hazardId=null,this.isLinear=!1,this.Consequences=[{name:"1-Insignificant",value:1},{name:"2-Moderate",value:2},{name:"4-Minor",value:4},{name:"3-Major",value:3},{name:"5-Catastrophic",value:5}],this.Likelihood=[{name:"1-Insignificant",value:1},{name:"3-Moderate",value:3},{name:"2-Minor",value:2},{name:"4-Major",value:4},{name:"5-Catastrophic",value:5}],this.RiskRating=[{name:"Low",value:"low"},{name:"Medium",value:"medium"},{name:"High",value:"high"}],this.ActionRequired=[{name:"Immediately",value:"immediately"},{name:"Today",value:"today"},{name:"This week",value:"thisWeek"},{name:"This Month",value:"thisMonth"}]}ngOnInit(){this.setHazard=this.fb.group({riskRating:["",s.C.required],actionRequired:["",s.C.required]}),this.route.queryParams.subscribe(t=>{console.log(t),this.hazardId=t.id,this.logicalFormInfo.getHazardTreatmentById(this.hazardId).subscribe(t=>{console.log("getHazardTreatmentById=>",t),this.hazard=t.data,console.log("hazard",this.hazard),1==this.hazard.set&&this.setHazard.patchValue({riskRating:this.hazard.riskRating,actionRequired:this.hazard.actionRequired})})})}setRelation(){console.log(this.setHazard.value);let t={set:!0,title:this.hazard.title,riskRating:this.setHazard.get("riskRating").value,actionRequired:this.setHazard.get("actionRequired").value};console.log("data=>",t),console.log("hazardId=>",this.hazardId),this.logicalFormInfo.updateHazardTreatmentRelation(this.hazardId,t).subscribe(t=>{console.log("updateStates=>",t),r.a.fire({title:"Updated successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/confiLogi/setHazard"])})}}return t.\u0275fac=function(e){return new(e||t)(u.Ob(I.a),u.Ob(s.f),u.Ob(m.a),u.Ob(I.f))},t.\u0275cmp=u.Ib({type:t,selectors:[["app-add-hazard-relation"]],decls:19,vars:8,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,"row",3,"formGroup"],[1,"col-6"],["aria-label","Default select example","formControlName","riskRating",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","actionRequired",1,"form-select","form-control"],[1,"ml-3","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(u.Ub(0,"div",0),u.Pb(1,"i",1),u.Tb(),u.Ub(2,"div",2),u.Ub(3,"h2"),u.Oc(4),u.Tb(),u.Tb(),u.Ub(5,"div",3),u.Ub(6,"div",4),u.Ub(7,"select",5),u.Ub(8,"option",6),u.Oc(9," Select Rating"),u.Tb(),u.Mc(10,ta,2,2,"option",7),u.Tb(),u.Tb(),u.Ub(11,"div",4),u.Ub(12,"select",8),u.Ub(13,"option",6),u.Oc(14," Action Required"),u.Tb(),u.Mc(15,ea,2,2,"option",7),u.Tb(),u.Tb(),u.Ub(16,"div",9),u.Mc(17,aa,2,0,"button",10),u.Mc(18,ia,2,0,"button",10),u.Tb(),u.Tb()),2&t&&(u.qc("routerLink",u.tc(7,oa)),u.Bb(4),u.Qc("Hazrad Treatment Relation :\xa0",null==e.hazard?null:e.hazard.title,""),u.Bb(1),u.qc("formGroup",e.setHazard),u.Bb(5),u.qc("ngForOf",e.RiskRating),u.Bb(5),u.qc("ngForOf",e.ActionRequired),u.Bb(2),u.qc("ngIf",!(null!=e.hazard&&e.hazard.set)),u.Bb(1),u.qc("ngIf",null==e.hazard?null:e.hazard.set))},directives:[I.g,s.s,s.k,s.A,s.r,s.i,s.v,s.D,l.m,l.n],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),t})()}];let na=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[I.j.forChild(la)],I.j]}),t})();var sa=a("hzfI");let ca=(()=>{class t{}return t.\u0275mod=u.Mb({type:t}),t.\u0275inj=u.Lb({factory:function(e){return new(e||t)},imports:[[l.c,na,n.a,s.m,s.y,sa.a,o.b,i.b,f.b,h.b]]}),t})()}}]);