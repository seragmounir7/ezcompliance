!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{DNuw:function(t,i,n){"use strict";n.r(i),n.d(i,"RegistrationModule",function(){return ni});var o=n("ofXK"),a=n("+0xr"),l=n("Dh3D"),c=n("M9IT"),s=n("fXoL"),u=n("wbBK"),b=n("3Pt+"),m=n("yZxC"),d=n("0IaG"),p=n("tyNb"),f=n("JqCM"),g=n("bTqV"),h=n("NFeN"),v=n("Qu3c");function y(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," No. "),s.Tb())}function T(e,t){if(1&e&&(s.Ub(0,"td",18),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.Bb(1),s.Pc(r.index)}}function U(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Employee Name "),s.Tb())}function C(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",19),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc((null==r||null==r.employeeId?null:r.employeeId.firstName)+" "+(null==r||null==r.employeeId?null:r.employeeId.lastName))}}function P(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Email "),s.Tb())}function D(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",19),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(null==r||null==r.employeeId?null:r.employeeId.email)}}function O(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Return "),s.Tb())}function N(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",20),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.fileType)}}function E(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Date "),s.Tb())}function x(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",20),s.Oc(2),s.jc(3,"date"),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(s.lc(3,1,r.date,"dd/MM/yyyy"))}}function k(e,t){1&e&&(s.Ub(0,"th",21),s.Oc(1," Action "),s.Tb())}function w(e,t){if(1&e){var r=s.Vb();s.Ub(0,"td",18),s.Ub(1,"button",22),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().view(e._id)}),s.Ub(2,"mat-icon",23),s.Oc(3,"visibility "),s.Tb(),s.Tb(),s.Tb()}}function F(e,t){1&e&&s.Pb(0,"tr",24)}function q(e,t){1&e&&s.Pb(0,"tr",25)}function S(e,t){1&e&&(s.Ub(0,"tr",26),s.Ub(1,"td",27),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var A,I=function(){return["/admin/registration/employeeRegistration"]},M=function(){return[20]},B=((A=function(){function t(r,i,n,o,l,c,s,u){e(this,t),this.logicalervice=r,this.fb=i,this.setTitle=n,this.dialog=o,this.activatedRoute=l,this.spinner=c,this.router=s,this.datePipe=u,this.ELEMENT_DATA=[],this.displayedColumns=["index","employeeName","email","fileType","date","action"],this.dataSource=new a.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.id=this.activatedRoute.snapshot.params.id,this.getData(),this.setTitle.setTitle("WHS-Employee Details")}},{key:"getData",value:function(){var e=this;this.logicalervice.getSubmitedPPEPlantEmpId(this.id).subscribe(function(t){console.log(t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,console.log("this.ELEMENT_DATA",e.ELEMENT_DATA),e.dataSource=new a.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"view",value:function(e){this.router.navigate(["/admin/registration/plantRegistration/history/"+e])}}]),t}()).\u0275fac=function(e){return new(e||A)(s.Ob(u.a),s.Ob(b.f),s.Ob(m.a),s.Ob(d.b),s.Ob(p.a),s.Ob(f.c),s.Ob(p.f),s.Ob(o.e))},A.\u0275cmp=s.Ib({type:A,selectors:[["app-plant-registion-table"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(c.a,!0),s.Sc(l.a,!0)),2&e&&(s.xc(r=s.fc())&&(t.paginator=r.first),s.xc(r=s.fc())&&(t.sort=r.first))},decls:29,vars:7,consts:[[1,"col","ml-2","pt-1"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","employeeName"],["matColumnDef","email"],["matColumnDef","fileType"],["matColumnDef","date"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],[1,"flex"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","View"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h1"),s.Oc(2," PPE And Plant/Equipment Return History List "),s.Tb(),s.Tb(),s.Ub(3,"div",1),s.Pb(4,"i",2),s.Tb(),s.Ub(5,"div"),s.Ub(6,"table",3),s.Sb(7,4),s.Mc(8,y,2,0,"th",5),s.Mc(9,T,2,1,"td",6),s.Rb(),s.Sb(10,7),s.Mc(11,U,2,0,"th",5),s.Mc(12,C,3,1,"td",6),s.Rb(),s.Sb(13,8),s.Mc(14,P,2,0,"th",5),s.Mc(15,D,3,1,"td",6),s.Rb(),s.Sb(16,9),s.Mc(17,O,2,0,"th",5),s.Mc(18,N,3,1,"td",6),s.Rb(),s.Sb(19,10),s.Mc(20,E,2,0,"th",5),s.Mc(21,x,4,4,"td",6),s.Rb(),s.Sb(22,11),s.Mc(23,k,2,0,"th",12),s.Mc(24,w,4,0,"td",6),s.Rb(),s.Mc(25,F,1,0,"tr",13),s.Mc(26,q,1,0,"tr",14),s.Mc(27,S,3,0,"tr",15),s.Tb(),s.Pb(28,"mat-paginator",16),s.Tb()),2&e&&(s.Bb(3),s.qc("routerLink",s.tc(5,I)),s.Bb(3),s.qc("dataSource",t.dataSource),s.Bb(19),s.qc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",t.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(6,M)))},directives:[p.g,a.k,l.a,a.c,a.e,a.b,a.g,a.j,a.h,c.a,a.d,l.b,a.a,g.a,h.a,v.a,a.f,a.i],pipes:[o.e],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),A),R=n("PSD3"),L=n.n(R),_=n("jPky");function j(e,t){1&e&&(s.Ub(0,"th",16),s.Oc(1,"No."),s.Tb())}function H(e,t){if(1&e&&(s.Ub(0,"td",17),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.Bb(1),s.Qc(" ",r.index," ")}}function V(e,t){1&e&&(s.Ub(0,"th",16),s.Oc(1," Company Name "),s.Tb())}function G(e,t){if(1&e&&(s.Ub(0,"td",17),s.Ub(1,"span",18),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(null==r.customerDetails?null:r.customerDetails.companyName)}}function Q(e,t){1&e&&(s.Ub(0,"th",16),s.Oc(1,"Phone"),s.Tb())}function z(e,t){if(1&e&&(s.Ub(0,"td",17),s.Ub(1,"span",19),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(null==r.customerDetails?null:r.customerDetails.phone)}}function $(e,t){1&e&&(s.Ub(0,"th",16),s.Oc(1,"Email"),s.Tb())}function W(e,t){if(1&e&&(s.Ub(0,"td",17),s.Ub(1,"span",19),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(null==r.customerDetails?null:r.customerDetails.email)}}function K(e,t){1&e&&(s.Ub(0,"th",20),s.Oc(1,"Action"),s.Tb())}function J(e,t){if(1&e){var r=s.Vb();s.Ub(0,"td",17),s.Ub(1,"button",21),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().edit(e._id)}),s.Ub(2,"mat-icon",22),s.Oc(3,"edit"),s.Tb(),s.Tb(),s.Ub(4,"button",23),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().delete(e)}),s.Ub(5,"mat-icon",24),s.Oc(6,"delete"),s.Tb(),s.Tb(),s.Tb()}}function Y(e,t){1&e&&s.Pb(0,"tr",25)}function X(e,t){1&e&&s.Pb(0,"tr",26)}function Z(e,t){1&e&&(s.Ub(0,"tr",27),s.Ub(1,"td",28),s.Oc(2,"Data Not Found"),s.Tb(),s.Tb())}var ee,te,re,ie,ne=function(e){return[e]},oe=function(){return[20]},ae=((ee=function(){function t(r,i,n,o,l,c){e(this,t),this.subscript=r,this.fb=i,this.setTitle=n,this.dialog=o,this.spinner=l,this.router=c,this.ELEMENT_DATA=[],this.displayedColumns=["index","companyName","phone","email","action"],this.dataSource=new a.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllSubscription(),this.setTitle.setTitle("WHS-Company Details")}},{key:"getAllSubscription",value:function(){var e=this;this.subscript.getAllsubscription().subscribe(function(t){console.log("getAll",t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,e.dataSource=new a.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"delete",value:function(e){var t,r=this;L.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(null===(t=e.customerDetails)||void 0===t?void 0:t.companyName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(t){t.value&&(console.log(t),r.spinner.show(),r.subscript.deletesubscription(e._id).subscribe(function(e){r.getAllSubscription(),r.spinner.hide()}))})}},{key:"edit",value:function(e){this.router.navigate(["/admin/registration/addCompanyInfo/"+e])}}]),t}()).\u0275fac=function(e){return new(e||ee)(s.Ob(_.a),s.Ob(b.f),s.Ob(m.a),s.Ob(d.b),s.Ob(f.c),s.Ob(p.f))},ee.\u0275cmp=s.Ib({type:ee,selectors:[["app-company-details"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(c.a,!0),s.Sc(l.a,!0)),2&e&&(s.xc(r=s.fc())&&(t.paginator=r.first),s.xc(r=s.fc())&&(t.sort=r.first))},decls:28,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","companyName"],["matColumnDef","phone"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h1"),s.Oc(2,"Company Details"),s.Tb(),s.Tb(),s.Ub(3,"div"),s.Ub(4,"button",1),s.Pb(5,"i",2),s.Oc(6," Add Company Details "),s.Tb(),s.Tb(),s.Ub(7,"div"),s.Ub(8,"table",3),s.Sb(9,4),s.Mc(10,j,2,0,"th",5),s.Mc(11,H,2,1,"td",6),s.Rb(),s.Sb(12,7),s.Mc(13,V,2,0,"th",5),s.Mc(14,G,3,1,"td",6),s.Rb(),s.Sb(15,8),s.Mc(16,Q,2,0,"th",5),s.Mc(17,z,3,1,"td",6),s.Rb(),s.Sb(18,9),s.Mc(19,$,2,0,"th",5),s.Mc(20,W,3,1,"td",6),s.Rb(),s.Sb(21,10),s.Mc(22,K,2,0,"th",11),s.Mc(23,J,7,0,"td",6),s.Rb(),s.Mc(24,Y,1,0,"tr",12),s.Mc(25,X,1,0,"tr",13),s.Mc(26,Z,3,0,"tr",14),s.Tb(),s.Pb(27,"mat-paginator",15),s.Tb()),2&e&&(s.Bb(4),s.qc("routerLink",s.uc(5,ne,"/admin/registration/addCompanyInfo/form")),s.Bb(4),s.qc("dataSource",t.dataSource),s.Bb(16),s.qc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",t.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(7,oe)))},directives:[p.g,a.k,l.a,a.c,a.e,a.b,a.g,a.j,a.h,c.a,a.d,l.b,a.a,g.a,h.a,v.a,a.f,a.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),ee),le=n("AytR"),ce=n("lJxs"),se=n("tk/3"),ue=((re=function(){function t(r){e(this,t),this.https=r,this.apiUrl=le.a.apiUrl}return r(t,[{key:"upload",value:function(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(ce.a)(function(e){return console.log("res.data=>",e.data),e}))}},{key:"addCompanyInfo",value:function(e){return this.https.post(this.apiUrl+"company/add",e).pipe(Object(ce.a)(function(e){return console.log("res.data=>",e.data),e}))}}]),t}()).\u0275fac=function(e){return new(e||re)(s.bc(se.b))},re.\u0275prov=s.Kb({token:re,factory:re.\u0275fac,providedIn:"root"}),re),be=((te=function(){function t(r,i){e(this,t),this.fb=r,this.company=i,this.companyInfo=r.group({companyName:[null,b.C.required],ABN:[null,b.C.required],ACN:[null,b.C.required],website:[null,b.C.required],email:[null,b.C.required],phone:[null,b.C.required],customerType:[null,b.C.required],businessLicense:[null,b.C.required],streetAddress:[null,b.C.required],suburb:[null,b.C.required],state:[null,b.C.required],postcode:[null,b.C.required],sameAsStreet:[null,b.C.required],PObox:[null,b.C.required],postalSuburb:[null,b.C.required],postalState:[null,b.C.required],postalPostcode:[null,b.C.required],file:[null,b.C.required]})}return r(t,[{key:"ngOnInit",value:function(){}},{key:"browser",value:function(e){var t=this;console.log("event=>",e);var r=e.target.files[0];console.log("event.target=>",e.target.files[0]);var i=new FormData;i.append("",r),console.log(r),this.company.upload(i).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),t.selectedImage=e.files,console.log("AddProductComponent -> browse -> this.selectedImage",t.selectedImage)})}},{key:"onFormSubmit",value:function(){var e=this;console.log("this.companyInfo.value",this.companyInfo.value),this.company.addCompanyInfo(this.companyInfo.value).subscribe(function(t){console.log("data=>",t),e.browser(event)})}}]),t}()).\u0275fac=function(e){return new(e||te)(s.Ob(b.f),s.Ob(ue))},te.\u0275cmp=s.Ib({type:te,selectors:[["app-company-registration"]],decls:123,vars:1,consts:[[1,"container","card","p-5"],[1,"px-4","py-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"title"],[1,"col-md-4"],[1,"mb-3"],["for","exampleInputFullname",1,"form-Label"],["type","text","formControlName","companyName","id","exampleInputFullname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputSurname",1,"form-Label"],["type","text","formControlName","ABN","id","exampleInputSurname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputEmail1",1,"form-Label"],["type","text","formControlName","ACN","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPhone",1,"form-Label"],["type","email","formControlName","website","id","exampleInputPhone","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputDepartment",1,"form-Label"],["type","department","formControlName","email","id","exampleInputDepartment","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPosition",1,"form-Label"],["type","text","formControlName","phone","id","exampleInputPosition","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputProjectNumber",1,"form-Label"],["type","text","formControlName","customerType","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","businessLicense","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"subtitel"],["type","text","formControlName","streetAddress","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","suburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-md-2"],["type","text","formControlName","state","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"mt-2","col-4"],["type","checkbox","value","no","formControlName","sameAsStreet",1,"mr-1"],["type","email","formControlName","PObox","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalSuburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalState","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalPostcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-10","offset-1","col-3","mt-1"],["src","../../../assets/img/whsLogo.png","alt","","width","100%"],[1,"my-3"],["for","formFile",1,"form-Label"],["formControlName","file","type","file","id","formFile",1,"form-control",3,"change"],[1,"offset-10","col-2"],["type","submit",1,"btn","btn-primary","mb-3"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"form",1),s.ec("ngSubmit",function(){return t.onFormSubmit()}),s.Ub(2,"div",2),s.Ub(3,"div",3),s.Ub(4,"h2",4),s.Ub(5,"p",5),s.Oc(6,"Company Information"),s.Tb(),s.Tb(),s.Tb(),s.Ub(7,"div",6),s.Ub(8,"div",7),s.Ub(9,"p",8),s.Oc(10,"Company Name"),s.Tb(),s.Pb(11,"input",9),s.Tb(),s.Tb(),s.Ub(12,"div",6),s.Ub(13,"div",7),s.Ub(14,"p",10),s.Oc(15,"ABN"),s.Tb(),s.Pb(16,"input",11),s.Tb(),s.Tb(),s.Ub(17,"div",6),s.Ub(18,"div",7),s.Ub(19,"p",12),s.Oc(20,"ACN"),s.Tb(),s.Pb(21,"input",13),s.Tb(),s.Tb(),s.Ub(22,"div",6),s.Ub(23,"div",7),s.Ub(24,"p",14),s.Oc(25,"Website"),s.Tb(),s.Pb(26,"input",15),s.Tb(),s.Tb(),s.Ub(27,"div",6),s.Ub(28,"div",7),s.Ub(29,"p",16),s.Oc(30,"Email"),s.Tb(),s.Pb(31,"input",17),s.Tb(),s.Tb(),s.Ub(32,"div",6),s.Ub(33,"div",7),s.Ub(34,"p",18),s.Oc(35,"Phone"),s.Tb(),s.Pb(36,"input",19),s.Tb(),s.Tb(),s.Ub(37,"div",6),s.Ub(38,"div",7),s.Ub(39,"p",20),s.Oc(40," Customer Type "),s.Tb(),s.Pb(41,"input",21),s.Tb(),s.Tb(),s.Ub(42,"div",6),s.Ub(43,"div",7),s.Ub(44,"p",20),s.Oc(45," Business license "),s.Tb(),s.Pb(46,"input",22),s.Tb(),s.Tb(),s.Tb(),s.Pb(47,"hr"),s.Ub(48,"div",2),s.Ub(49,"div",3),s.Ub(50,"h3"),s.Ub(51,"p",23),s.Oc(52,"Company Address"),s.Tb(),s.Tb(),s.Tb(),s.Ub(53,"div",6),s.Ub(54,"div",7),s.Ub(55,"p",20),s.Oc(56," Street Address "),s.Tb(),s.Pb(57,"input",24),s.Tb(),s.Tb(),s.Ub(58,"div",6),s.Ub(59,"div",7),s.Ub(60,"p",20),s.Oc(61,"Suburb"),s.Tb(),s.Pb(62,"input",25),s.Tb(),s.Tb(),s.Ub(63,"div",26),s.Ub(64,"div",7),s.Ub(65,"p",20),s.Oc(66,"State"),s.Tb(),s.Pb(67,"input",27),s.Tb(),s.Tb(),s.Ub(68,"div",26),s.Ub(69,"div",7),s.Ub(70,"p",20),s.Oc(71,"Postcode"),s.Tb(),s.Pb(72,"input",28),s.Tb(),s.Tb(),s.Tb(),s.Pb(73,"hr"),s.Ub(74,"div",2),s.Ub(75,"div",3),s.Ub(76,"h3"),s.Ub(77,"p",23),s.Oc(78,"Street Address"),s.Tb(),s.Tb(),s.Tb(),s.Ub(79,"div",29),s.Ub(80,"p"),s.Pb(81,"input",30),s.Oc(82,"Same as Street "),s.Tb(),s.Tb(),s.Ub(83,"div",2),s.Ub(84,"div",6),s.Ub(85,"div",7),s.Ub(86,"p",20),s.Oc(87,"PO Box"),s.Tb(),s.Pb(88,"input",31),s.Tb(),s.Tb(),s.Ub(89,"div",6),s.Ub(90,"div",7),s.Ub(91,"p",20),s.Oc(92," Postal Suburb "),s.Tb(),s.Pb(93,"input",32),s.Tb(),s.Tb(),s.Ub(94,"div",26),s.Ub(95,"div",7),s.Ub(96,"p",20),s.Oc(97," Postal State "),s.Tb(),s.Pb(98,"input",33),s.Tb(),s.Tb(),s.Ub(99,"div",26),s.Ub(100,"div",7),s.Ub(101,"p",20),s.Oc(102," Postal Postcode "),s.Tb(),s.Pb(103,"input",34),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Pb(104,"hr"),s.Ub(105,"div",2),s.Ub(106,"div",6),s.Ub(107,"div",2),s.Ub(108,"div",3),s.Ub(109,"h3"),s.Ub(110,"p",23),s.Oc(111,"Logo and Print Information"),s.Tb(),s.Tb(),s.Tb(),s.Ub(112,"div",35),s.Pb(113,"img",36),s.Tb(),s.Tb(),s.Tb(),s.Ub(114,"div",6),s.Ub(115,"div",37),s.Ub(116,"p",38),s.Oc(117,"Upload Logo"),s.Tb(),s.Ub(118,"input",39),s.ec("change",function(e){return t.browser(e)}),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(119,"div",2),s.Ub(120,"div",40),s.Ub(121,"button",41),s.Oc(122,"Submit"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(1),s.qc("formGroup",t.companyInfo))},directives:[b.E,b.s,b.k,b.d,b.r,b.i,b.a],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.subtitel[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{display:inline-block;word-break:break-word;font-family:Inter,sans-serif}.subtitel[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}input[type=checkbox][_ngcontent-%COMP%]{height:15px;width:15px}input[type=checkbox][_ngcontent-%COMP%]:focus, input[type=checkbox][_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25);height:15px;width:15px}"]}),te),me=n("mrSG"),de=n("JX91"),pe=n("Kj3r"),fe=n("/uUt"),ge=n("eIep"),he=n("vkgz"),ve=n("LefN"),ye=n("k2mP"),Te=((ie=function(){function t(r){e(this,t),this.https=r,this.apiUrl=le.a.apiUrl}return r(t,[{key:"upload",value:function(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(ce.a)(function(e){return console.log("res.data=>",e.files),e}))}}]),t}()).\u0275fac=function(e){return new(e||ie)(s.bc(se.b))},ie.\u0275prov=s.Kb({token:ie,factory:ie.\u0275fac,providedIn:"root"}),ie),Ue=n("wZkO"),Ce=n("HnZm"),Pe=n("/1cH"),De=n("FKr1"),Oe=["signature1"],Ne=["signature2"],Ee=function(){return["/admin/registration/employeeRegistration"]};function xe(e,t){1&e&&(s.Ub(0,"div",60),s.Pb(1,"i",61),s.Tb()),2&e&&s.qc("routerLink",s.tc(1,Ee))}function ke(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Title is required "),s.Tb())}function we(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," First Name is required "),s.Tb())}function Fe(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Last Name is required "),s.Tb())}function qe(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Email is required "),s.Tb())}function Se(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Position is required "),s.Tb())}function Ae(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Department is required "),s.Tb())}function Ie(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Phone Number is required "),s.Tb())}function Me(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Mobile Number is required "),s.Tb())}function Be(e,t){if(1&e&&(s.Ub(0,"option",11),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r._id),s.Bb(1),s.Qc(" ",r.role," ")}}function Re(e,t){1&e&&(s.Ub(0,"span",63),s.Oc(1," Administration Right is Required"),s.Tb())}function Le(e,t){if(1&e&&(s.Ub(0,"option",11),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r._id),s.Bb(1),s.Rc(" ",r.firstName," ",r.lastName," ")}}function _e(e,t){1&e&&(s.Ub(0,"span",63),s.Oc(1," Reporting To is Required"),s.Tb())}function je(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Street Address is required "),s.Tb())}function He(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Suburb is required "),s.Tb())}function Ve(e,t){if(1&e&&(s.Ub(0,"option",11),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r._id),s.Bb(1),s.Qc(" ",r.title," ")}}function Ge(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," State is required "),s.Tb())}function Qe(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," First Name is required "),s.Tb())}function ze(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Last Name is required "),s.Tb())}function $e(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Relationship is required "),s.Tb())}function We(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Email is required "),s.Tb())}function Ke(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Phone Number is required "),s.Tb())}function Je(e,t){1&e&&(s.Ub(0,"span",62),s.Oc(1," Mobile Number is required "),s.Tb())}function Ye(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function Xe(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function Ze(e,t){if(1&e&&(s.Ub(0,"mat-option",11),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r.title),s.Bb(1),s.Qc(" ",r.title," ")}}function et(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",65),s.Ub(2,"div",6),s.Ub(3,"div",7),s.Ub(4,"label",8),s.Oc(5,"Licence Name"),s.Tb(),s.Pb(6,"input",66),s.Ub(7,"mat-autocomplete",null,67),s.Mc(9,Ze,2,2,"mat-option",22),s.jc(10,"async"),s.Tb(),s.Tb(),s.Ub(11,"div",7),s.Ub(12,"label",8),s.Oc(13,"Licence Number"),s.Tb(),s.Pb(14,"input",68),s.Tb(),s.Ub(15,"div",7),s.Ub(16,"label",8),s.Oc(17,"Training Organisation"),s.Tb(),s.Pb(18,"input",69),s.Tb(),s.Ub(19,"div",7),s.Ub(20,"label",8),s.Oc(21,"Expiry Date "),s.Tb(),s.Pb(22,"input",70),s.Tb(),s.Tb(),s.Ub(23,"div",6),s.Ub(24,"div",71),s.Ub(25,"div",34),s.Ub(26,"label",72),s.Oc(27,"Upload Licence"),s.Tb(),s.Ub(28,"input",36),s.ec("change",function(e){s.Cc(r);var i=t.index;return s.ic().browser(e,i)}),s.Tb(),s.Tb(),s.Tb(),s.Ub(29,"div",73),s.Ub(30,"div",74),s.Ub(31,"span",75),s.ec("click",function(){return s.Cc(r),s.ic().addFiled()}),s.Oc(32,"add_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Ub(33,"div",73),s.Ub(34,"div",74),s.Ub(35,"span",75),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeFiled(e)}),s.Oc(36," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index,n=s.yc(8),o=s.ic();s.Bb(1),s.qc("formGroupName",i),s.Bb(5),s.qc("matAutocomplete",n),s.Bb(3),s.qc("ngForOf",s.kc(10,3,o.licenceValueChanges[i]))}}function tt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function rt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function it(e,t){if(1&e&&(s.Ub(0,"mat-option",11),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r.title),s.Bb(1),s.Qc(" ",r.title," ")}}function nt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",65),s.Ub(2,"div",6),s.Ub(3,"div",7),s.Ub(4,"label",8),s.Oc(5,"PPE Supplied"),s.Tb(),s.Pb(6,"input",76),s.Ub(7,"mat-autocomplete",null,77),s.Mc(9,it,2,2,"mat-option",22),s.jc(10,"async"),s.Tb(),s.Tb(),s.Ub(11,"div",78),s.Ub(12,"label",8),s.Oc(13,"Brand or Type"),s.Tb(),s.Pb(14,"input",79),s.Tb(),s.Ub(15,"div",7),s.Ub(16,"label",8),s.Oc(17,"Issue Date"),s.Tb(),s.Pb(18,"input",80),s.Tb(),s.Ub(19,"div",7),s.Ub(20,"label",8),s.Oc(21,"Replacement Date "),s.Tb(),s.Pb(22,"input",81),s.Tb(),s.Ub(23,"div",82),s.Ub(24,"div",74),s.Ub(25,"span",75),s.ec("click",function(){return s.Cc(r),s.ic().addFiled2()}),s.Oc(26,"add_circle_outline "),s.Tb(),s.Tb(),s.Ub(27,"div",83),s.Ub(28,"span",75),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeFiled1(e)}),s.Oc(29," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index,n=s.yc(8),o=s.ic();s.Bb(1),s.qc("formGroupName",i),s.Bb(5),s.qc("matAutocomplete",n),s.Bb(3),s.qc("ngForOf",s.kc(10,3,o.PPEValueChanges[i]))}}function ot(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function at(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function lt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",65),s.Ub(2,"div",6),s.Ub(3,"div",7),s.Ub(4,"label",8),s.Oc(5,"Plant Type "),s.Tb(),s.Pb(6,"input",84),s.Tb(),s.Ub(7,"div",7),s.Ub(8,"label",8),s.Oc(9,"Model Number"),s.Tb(),s.Pb(10,"input",85),s.Tb(),s.Ub(11,"div",78),s.Ub(12,"label",8),s.Oc(13,"Serial Number"),s.Tb(),s.Pb(14,"input",86),s.Tb(),s.Ub(15,"div",7),s.Ub(16,"label",8),s.Oc(17,"Service/Replacement Date"),s.Tb(),s.Pb(18,"input",87),s.Tb(),s.Ub(19,"div",88),s.Ub(20,"div",74),s.Ub(21,"span",75),s.ec("click",function(){return s.Cc(r),s.ic().addEquipFiled2()}),s.Oc(22,"add_circle_outline "),s.Tb(),s.Tb(),s.Ub(23,"div",83),s.Ub(24,"span",75),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeEquipFiled1(e)}),s.Oc(25," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index;s.Bb(1),s.qc("formGroupName",i)}}function ct(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}function st(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",64),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.empDetails.valid)}}var ut,bt=((ut=function(){function t(r,i,n,o,a,l,c,s){e(this,t),this.fb=r,this.role=i,this.employee=n,this.licenceInfo=o,this.upload=a,this.activatedRoute=l,this.router=c,this.injector=s,this.PPERegister=!1,this.LicenceInfo=!1,this.EquipmentInfo=!1,this.submitted=!1,this.profile=!0,this.roleData=[""],this.empData=[],this.PPEData=[],this.StatesData=[],this.dialogRef=null,this.dialogData=null,this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.dialogRef=this.injector.get(d.f,null),this.dialogData=this.injector.get(d.a,null),console.log(this.dialogData),this.empDetails=this.fb.group({profTitie:["",b.C.required],profFirst:["",b.C.required],porfListName:["",b.C.required],porfEmail:["",b.C.required],porfPosition:["",b.C.required],porfDepartment:["",b.C.required],porfPhone:["",b.C.required],porfMobile:["",b.C.required],file:[""],reportingTo:[""],roleId:["",b.C.required],porfStreetAddress:["",b.C.required],porfSuburb:["",b.C.required],porfState:["",b.C.required],porfUploadImage:[""],EmpFirst:["",b.C.required],empLastName:["",b.C.required],empRelationship:["",b.C.required],empEmail:["",b.C.required],empPhone:["",b.C.required],empMobile:["",b.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],UploadLicenceArr:this.fb.array([]),PPESupplied:[""],BrandOrType:[""],IssueDate:[""],PPEArr:this.fb.array([]),ReplacementDate:[""],Sign:[""],plantArr:this.fb.array([]),plantSignature:[""],modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}return r(t,[{key:"ngOnInit",value:function(){var e,t=this;this.getall(),this.empDetails.get("reportingTo").valueChanges.subscribe(function(e){e&&console.log(e)}),this.licenceInfo.getAllLicence().pipe(Object(ce.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(e){t.empData=e,console.log("this.empData",t.empData)}),this.licenceInfo.getAllPPE().pipe(Object(ce.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(e){t.PPEData=e,console.log("this.empData2",t.PPEData)}),this.getAllRoles(),this.id=(null===(e=this.dialogData)||void 0===e?void 0:e.isDialog)?"form":this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.addFiled(),this.addFiled2(),this.addEquipFiled2()),this.filteredOptions2=this.empDetails.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(800),Object(fe.a)(),Object(ge.a)(function(e){return console.log("myControl22..",e,t.filteredOptions2),t.filter2(e||"")})),this.filteredOptions1=this.empDetails.controls.PPESupplied.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(800),Object(fe.a)(),Object(ge.a)(function(e){return console.log("myControl..",e,t.filteredOptions1),t.filter1(e||"")})),this.getAllStates()}},{key:"getall",value:function(){var e=this;this.employee.getAllEmployeeInfo().subscribe(function(t){console.log("getAll = > ",t),e.reportingData=t.data,console.log(e.reportingData)})}},{key:"getAllRoles",value:function(){var e=this;this.role.getAllRole().subscribe(function(t){console.log("role..",t),e.roleData=t.data})}},{key:"patchData",value:function(){var e=this;this.employee.getEmployeeInfoById(this.id).subscribe(function(t){console.log("data=>",t),t.data.licence.forEach(function(t){t.uploadLicence.length>0?t.uploadLicence.forEach(function(t){e.addFiled1(t)}):e.addFiled()}),t.data.ppe.PPEArr.length>0?t.data.ppe.PPEArr.forEach(function(t){e.addFiled3(t)}):e.addFiled2(),t.data.plant.plantArr.length>0?t.data.plant.plantArr.forEach(function(t){e.addEquipFiled3(t)}):e.addEquipFiled2(),e.empDetails.patchValue({profTitie:t.data.title,profFirst:t.data.firstName,porfListName:t.data.lastName,porfEmail:t.data.email,porfPosition:t.data.position,porfDepartment:t.data.department,porfPhone:t.data.phone,porfMobile:t.data.mobile,roleId:t.data.roleId,reportingTo:t.data.reportingTo,porfStreetAddress:t.data.location.address,porfSuburb:t.data.suburb,porfState:t.data.location.state,porfUploadImage:t.data.uploadImage,EmpFirst:t.data.emergencyContact.firstName,empLastName:t.data.emergencyContact.lastName,empRelationship:t.data.emergencyContact.relationship,empEmail:t.data.emergencyContact.email,empPhone:t.data.emergencyContact.phone,empMobile:t.data.emergencyContact.mobile,PPESupplied:t.data.ppe.ppeSupplied,BrandOrType:t.data.ppe.brand,IssueDate:t.data.ppe.issueDate,ReplacementDate:t.data.ppe.replacementDate,Sign:t.data.ppe.signature,plantType:t.data.plant.plantType,modelNumber:t.data.plant.modelNumber,serialNumber:t.data.plant.serialNumber,serviceRenewDate:t.data.plant.serviceRenewDate}),e.dataUrl=t.data.ppe.signature,e.dataUrl2=t.data.plant.plantSignature,console.log("data.data.ppe.signature;",t.data.ppe.signature),Object(me.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(r){console.log("this.signaturePad",e.signaturePad,r),e.signaturePad.fromDataURL(t.data.ppe.signature)}),Object(me.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(r){console.log("this.signaturePad",e.signaturePad2,r),e.signaturePad2.fromDataURL(t.data.plant.plantSignature)})})}},{key:"drawComplete2",value:function(){this.empDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}},{key:"clear2",value:function(){this.signaturePad2.clear()}},{key:"drawStart2",value:function(){console.log("begin drawing")}},{key:"drawComplete",value:function(){this.empDetails.controls.Sign.setValue(this.signaturePad.toDataURL()),console.log(this.signaturePad.toDataURL())}},{key:"clear",value:function(){this.signaturePad.clear()}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"browser",value:function(e,t){var r=this,i=e.target.files[0],n=new FormData;n.append("",i),console.log(i),this.upload.upload(n).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),r.selectedImage=e.files,r.addLicence().at(t).get("file").patchValue(r.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",r.selectedImage)})}},{key:"browser1",value:function(e){var t=this,r=e.target.files[0],i=new FormData;i.append("",r),console.log(r),this.upload.upload(i).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),t.file1=e.files[0],console.log("file",t.file1),t.empDetails.get("porfUploadImage").patchValue(t.file1)})}},{key:"selectedImage",value:function(e,t){throw new Error("Method not implemented.")}},{key:"onFormUpdate",value:function(e){var t=this,r=this.signaturePad.toDataURL();this.signaturePad2.toDataURL();var i={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,suburb:this.empDetails.get("porfSuburb").value,stateId:this.empDetails.get("porfState").value,reportingTo:this.empDetails.get("reportingTo").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:function(){t.addPPE();var e=[];return t.addPPE().controls.forEach(function(t){console.log("item",t),e.push({ppeSupplied:t.controls.PPESupplied.value,brand:t.controls.BrandOrType.value,issueDate:t.controls.IssueDate.value,replacementDate:t.controls.ReplacementDate.value})}),e}(),signature:r},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,country:"India"}};this.employee.updateEmployeeInfo(this.id,i).subscribe(function(e){console.log("updateData",e),L.a.fire({title:"Employee Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/registration/employeeRegistration"])},function(e){console.error(e)})}},{key:"onFormSubmit",value:function(){var e=this;this.submitted=!0,this.signaturePad.toDataURL(),console.log("sign=>",this.signaturePad.toDataURL()),this.signaturePad2.toDataURL(),console.log("this.EmployeeInfo.value",this.empDetails.value);var t={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,reportingTo:this.empDetails.get("reportingTo").value,suburb:this.empDetails.get("porfSuburb").value,stateId:this.empDetails.get("porfState").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:function(){e.addPPE();var t=[];return e.addPPE().controls.forEach(function(e){console.log("item",e),t.push({ppeSupplied:e.controls.PPESupplied.value,brand:e.controls.BrandOrType.value,issueDate:e.controls.IssueDate.value,replacementDate:e.controls.ReplacementDate.value})}),t}()},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,country:"India"}};console.log("body=>",t),this.employee.addEmployeeInfo(t).subscribe(function(t){console.log("data=>",t),e.signaturePad.toDataURL(),L.a.fire({title:"Employee Added successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/registration/employeeRegistration"])},function(e){console.error(e)})}},{key:"sign",value:function(e){throw new Error("Method not implemented.")}},{key:"addAcionTab",value:function(e){Object.keys(this.sidePreview.value)}},{key:"profileshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!0,this.EquipmentInfo=!1}},{key:"LicenceInfoshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!0,this.profile=!1,this.EquipmentInfo=!1}},{key:"PPERegisteshow",value:function(){this.PPERegister=!0,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!1}},{key:"addPlantshow",value:function(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!0}},{key:"addLicence",value:function(){return this.empDetails.get("UploadLicenceArr")}},{key:"addEquip",value:function(){return this.empDetails.get("plantArr")}},{key:"newEquipFiled2",value:function(){return this.fb.group({modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}},{key:"addEquipFiled2",value:function(){this.addEquip().push(this.newEquipFiled2()),console.log(this.empDetails.value)}},{key:"newEquipFiled3",value:function(e){return console.log("newData",e),this.fb.group({plantType:[e.plantType],modelNumber:[e.modelNumber],serialNumber:[e.serialNumber],serviceRenewDate:[e.serviceRenewDate]})}},{key:"addEquipFiled3",value:function(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.empDetails.value)}},{key:"removeEquipFiled1",value:function(e){var t=this.empDetails.controls.plantArr;t.length>1&&t.removeAt(e)}},{key:"addPPE",value:function(){return this.empDetails.get("PPEArr")}},{key:"newFiled2",value:function(){return this.fb.group({PPESupplied:[""],BrandOrType:[""],IssueDate:[""],ReplacementDate:[""]})}},{key:"addFiled2",value:function(){var e=this;this.addPPE().push(this.newFiled2()),console.log(this.empDetails.value),this.PPEValueChanges=new Array;for(var t=0;t<this.addPPE().length;t++){var r=this.addPPE().at(t);this.PPEValueChanges.push(r.controls.PPESupplied.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(t){return t?e._filterPPE(t):e.PPEData.slice()}))),console.log(r.valueChanges)}}},{key:"removeFiled1",value:function(e){var t=this.empDetails.controls.PPEArr;t.length>1&&t.removeAt(e)}},{key:"newFiled3",value:function(e){return console.log("newData",e),this.fb.group({PPESupplied:[e.ppeSupplied],BrandOrType:[e.brand],IssueDate:[e.issueDate],ReplacementDate:[e.replacementDate]})}},{key:"addFiled3",value:function(e){var t=this;console.log("data",e),this.addPPE().push(this.newFiled3(e)),console.log("addPPEFiled1",this.empDetails.value),this.PPEValueChanges=new Array;for(var r=0;r<this.addPPE().length;r++){var i=this.addPPE().at(r);this.PPEValueChanges.push(i.controls.PPESupplied.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(e){return e?t._filterPPE(e):t.PPEData.slice()}))),console.log(i.valueChanges)}}},{key:"newFiled",value:function(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}},{key:"newFiled1",value:function(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}},{key:"addFiled1",value:function(e){var t=this;this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(var r=0;r<this.addLicence().length;r++){var i=this.addLicence().at(r);this.licenceValueChanges.push(i.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(e){return e?t._filter(e):t.empData.slice()}))),console.log(i.valueChanges)}}},{key:"addFiled",value:function(){var e=this;this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(var t=0;t<this.addLicence().length;t++){var r=this.addLicence().at(t);this.licenceValueChanges.push(r.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(t){return t?e._filter(t):e.empData.slice()}))),console.log(r.valueChanges)}}},{key:"removeFiled",value:function(e){var t=this.empDetails.controls.UploadLicenceArr;t.length>1&&t.removeAt(e)}},{key:"getAllStates",value:function(){var e=this;this.licenceInfo.getAllStates().subscribe(function(t){console.log("setStatesDetails=>",t),e.StatesData=t.data})}},{key:"registerFormControl",get:function(){return this.empDetails.controls}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.empData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"_filterPPE",value:function(e){var t=e.toLowerCase();return this.PPEData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"filter2",value:function(e){return this.licenceInfo.getAllLicence().pipe(Object(ce.a)(function(e){return e.data=e.data.map(function(e){return e.LicenceName=""+e.title,e}),e}),Object(ce.a)(function(t){return t.data=t.data.filter(function(t){return 0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())}),t.data}))}},{key:"filter1",value:function(e){return this.licenceInfo.getAllPPE().pipe(Object(ce.a)(function(e){return e.data=e.data.map(function(e){return e.PPESupplied=""+e.title,e}),e}),Object(ce.a)(function(t){return t.data=t.data.filter(function(t){return console.log("11option>>",e),0===t.PPESupplied.toLowerCase().indexOf(e.toLowerCase())}),console.log("response.data>>",t.data),t.data}))}}]),t}()).\u0275fac=function(e){return new(e||ut)(s.Ob(b.f),s.Ob(ve.a),s.Ob(ye.a),s.Ob(u.a),s.Ob(Te),s.Ob(p.a),s.Ob(p.f),s.Ob(s.t))},ut.\u0275cmp=s.Ib({type:ut,selectors:[["app-add-employee"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(Oe,!0),s.Sc(Ne,!0)),2&e&&(s.xc(r=s.fc())&&(t.signaturePad=r.first),s.xc(r=s.fc())&&(t.signaturePad2=r.first))},decls:174,vars:78,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"container","card","px-4","py-4"],[3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","profTitie",1,"form-select","form-control"],["selected","","hidden",""],[3,"value"],["class","text-danger",4,"ngIf"],["type","text","formControlName","profFirst",1,"form-control","inputData",3,"ngClass"],["type","text","formControlName","porfListName",1,"form-control","inputData"],["type","text","formControlName","porfEmail",1,"form-control"],["type","text","formControlName","porfPosition","id","siteName",1,"form-control"],["type","text","formControlName","porfDepartment",1,"form-control"],["type","text","formControlName","porfPhone",1,"form-control"],["type","text","formControlName","porfMobile",1,"form-control"],[1,"form-label","mb-3"],["aria-label","Default select example","formControlName","roleId",1,"form-select","form-control"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["aria-label","Default select example","formControlName","reportingTo",1,"form-select","form-control"],[1,"mb-3","mt-3","col-5"],["autosize","","type","text","formControlName","porfStreetAddress","id","name",1,"form-control"],[1,"mb-3","mt-3","col-4"],["autosize","","type","text","formControlName","porfSuburb",1,"form-control"],["aria-label","Default select example","formControlName","porfState",1,"form-select","form-control","col",3,"value"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],["onerror"," this.src='../../../assets/img/uploadImg.png' ","alt","","width","130","height","130",3,"src"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"row","mt-3"],[1,"col-12"],[1,"emergrncy_1"],["type","text","formControlName","EmpFirst","id","siteName",1,"form-control","inputData"],["type","text","formControlName","empLastName",1,"form-control","inputData"],["type","text","formControlName","empRelationship",1,"form-control"],["type","text","formControlName","empEmail",1,"form-control"],["type","text","formControlName","empPhone","id","siteName",1,"form-control"],["type","text","formControlName","empMobile",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","UploadLicenceArr"],[4,"ngFor","ngForOf"],["label","PPE Register",3,"click"],["formArrayName","PPEArr"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature1",""],[1,"btn","btn-outline-primary","btn_1",3,"click"],["label","Plant/Equipment Register",3,"click"],["formArrayName","plantArr"],["signature2",""],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"text-danger"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],["employee1","matAutocomplete"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],["for","formFile1",1,"form-label"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],["type","text","formControlName","PPESupplied","id","siteName",1,"form-control",3,"matAutocomplete"],["employee2","matAutocomplete"],[1,"mb-3","mt-3","col-2"],["type","text","formControlName","BrandOrType",1,"form-control"],["type","date","formControlName","IssueDate",1,"form-control"],["type","date","formControlName","ReplacementDate",1,"form-control"],[1,"col-1","mt-4","d-flex"],[1,"my-4","ml-2"],["type","text","formControlName","plantType",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],["type","text","formControlName","serialNumber",1,"form-control"],["type","date","formControlName","serviceRenewDate",1,"form-control"],[1,"col-1","mt-4","d-flex","justify-content-end"]],template:function(e,t){1&e&&(s.Mc(0,xe,2,2,"div",0),s.Ub(1,"div",1),s.Ub(2,"form",2),s.Ub(3,"h1",3),s.Ub(4,"p",4),s.Oc(5,"Employee Information Preview"),s.Tb(),s.Tb(),s.Ub(6,"mat-tab-group"),s.Ub(7,"mat-tab",5),s.ec("click",function(){return t.profileshow()}),s.Ub(8,"div",6),s.Ub(9,"div",7),s.Ub(10,"label",8),s.Oc(11,"Title"),s.Tb(),s.Ub(12,"select",9),s.Ub(13,"option",10),s.Oc(14,"Select"),s.Tb(),s.Ub(15,"option",11),s.Oc(16,"Mr."),s.Tb(),s.Ub(17,"option",11),s.Oc(18,"Mrs."),s.Tb(),s.Ub(19,"option",11),s.Oc(20,"Miss"),s.Tb(),s.Ub(21,"option",11),s.Oc(22,"Ms."),s.Tb(),s.Tb(),s.Mc(23,ke,2,0,"span",12),s.Tb(),s.Ub(24,"div",7),s.Ub(25,"label",8),s.Oc(26,"First Name"),s.Tb(),s.Pb(27,"input",13),s.Mc(28,we,2,0,"span",12),s.Tb(),s.Ub(29,"div",7),s.Ub(30,"label",8),s.Oc(31,"Last Name"),s.Tb(),s.Pb(32,"input",14),s.Mc(33,Fe,2,0,"span",12),s.Tb(),s.Ub(34,"div",7),s.Ub(35,"label",8),s.Oc(36,"Email"),s.Tb(),s.Pb(37,"input",15),s.Mc(38,qe,2,0,"span",12),s.Tb(),s.Tb(),s.Ub(39,"div",6),s.Ub(40,"div",7),s.Ub(41,"label",8),s.Oc(42,"Position"),s.Tb(),s.Pb(43,"input",16),s.Mc(44,Se,2,0,"span",12),s.Tb(),s.Ub(45,"div",7),s.Ub(46,"label",8),s.Oc(47,"Department"),s.Tb(),s.Pb(48,"input",17),s.Mc(49,Ae,2,0,"span",12),s.Tb(),s.Ub(50,"div",7),s.Ub(51,"label",8),s.Oc(52,"Phone"),s.Tb(),s.Pb(53,"input",18),s.Mc(54,Ie,2,0,"span",12),s.Tb(),s.Ub(55,"div",7),s.Ub(56,"label",8),s.Oc(57,"Mobile"),s.Tb(),s.Pb(58,"input",19),s.Mc(59,Me,2,0,"span",12),s.Tb(),s.Ub(60,"div",7),s.Ub(61,"label",20),s.Oc(62,"Administration Right"),s.Tb(),s.Ub(63,"select",21),s.Ub(64,"option",10),s.Oc(65,"Select"),s.Tb(),s.Mc(66,Be,2,2,"option",22),s.Tb(),s.Mc(67,Re,2,0,"span",23),s.Tb(),s.Ub(68,"div",7),s.Ub(69,"label",20),s.Oc(70,"Reporting To"),s.Tb(),s.Ub(71,"select",24),s.Ub(72,"option",10),s.Oc(73,"Select"),s.Tb(),s.Mc(74,Le,2,3,"option",22),s.Tb(),s.Mc(75,_e,2,0,"span",23),s.Tb(),s.Tb(),s.Ub(76,"div",6),s.Ub(77,"div",25),s.Ub(78,"label",8),s.Oc(79,"Street Address"),s.Tb(),s.Pb(80,"textarea",26),s.Mc(81,je,2,0,"span",12),s.Tb(),s.Ub(82,"div",27),s.Ub(83,"label",8),s.Oc(84,"Suburb"),s.Tb(),s.Pb(85,"textarea",28),s.Mc(86,He,2,0,"span",12),s.Tb(),s.Ub(87,"div",7),s.Ub(88,"label",8),s.Oc(89,"State"),s.Tb(),s.Ub(90,"select",29),s.Ub(91,"option",10),s.Oc(92,"Select"),s.Tb(),s.Mc(93,Ve,2,2,"option",22),s.Tb(),s.Mc(94,Ge,2,0,"span",12),s.Tb(),s.Tb(),s.Ub(95,"div",30),s.Ub(96,"div",31),s.Pb(97,"img",32),s.Tb(),s.Ub(98,"div",33),s.Ub(99,"div",34),s.Ub(100,"label",35),s.Oc(101,"Upload Image"),s.Tb(),s.Ub(102,"input",36),s.ec("change",function(e){return t.browser1(e)}),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(103,"div",37),s.Ub(104,"div",38),s.Ub(105,"p",39),s.Oc(106,"Emergency Contact Information"),s.Tb(),s.Tb(),s.Tb(),s.Ub(107,"div",6),s.Ub(108,"div",7),s.Ub(109,"label",8),s.Oc(110,"First Name"),s.Tb(),s.Pb(111,"input",40),s.Mc(112,Qe,2,0,"span",12),s.Tb(),s.Ub(113,"div",7),s.Ub(114,"label",8),s.Oc(115,"Last Name"),s.Tb(),s.Pb(116,"input",41),s.Mc(117,ze,2,0,"span",12),s.Tb(),s.Ub(118,"div",7),s.Ub(119,"label",8),s.Oc(120,"Relationship"),s.Tb(),s.Pb(121,"input",42),s.Mc(122,$e,2,0,"span",12),s.Tb(),s.Ub(123,"div",7),s.Ub(124,"label",8),s.Oc(125,"Email "),s.Tb(),s.Pb(126,"input",43),s.Mc(127,We,2,0,"span",12),s.Tb(),s.Tb(),s.Ub(128,"div",6),s.Ub(129,"div",7),s.Ub(130,"label",8),s.Oc(131,"Phone"),s.Tb(),s.Pb(132,"input",44),s.Mc(133,Ke,2,0,"span",12),s.Tb(),s.Ub(134,"div",7),s.Ub(135,"label",8),s.Oc(136,"Mobile"),s.Tb(),s.Pb(137,"input",45),s.Mc(138,Je,2,0,"span",12),s.Tb(),s.Tb(),s.Mc(139,Ye,2,1,"button",46),s.Mc(140,Xe,2,1,"button",46),s.Tb(),s.Ub(141,"mat-tab",47),s.ec("click",function(){return t.LicenceInfoshow()}),s.Ub(142,"div",48),s.Mc(143,et,37,5,"div",49),s.Tb(),s.Mc(144,tt,2,1,"button",46),s.Mc(145,rt,2,1,"button",46),s.Tb(),s.Ub(146,"mat-tab",50),s.ec("click",function(){return t.PPERegisteshow()}),s.Ub(147,"div",51),s.Mc(148,nt,30,5,"div",49),s.Tb(),s.Ub(149,"div",6),s.Ub(150,"div",52),s.Ub(151,"label"),s.Oc(152,"Signature"),s.Tb(),s.Ub(153,"div",53),s.Ub(154,"signature-pad",54,55),s.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),s.Tb(),s.Tb(),s.Tb(),s.Ub(156,"button",56),s.ec("click",function(){return t.clear()}),s.Oc(157," Clear "),s.Tb(),s.Mc(158,ot,2,1,"button",46),s.Mc(159,at,2,1,"button",46),s.Tb(),s.Tb(),s.Ub(160,"mat-tab",57),s.ec("click",function(){return t.addPlantshow()}),s.Ub(161,"div",58),s.Mc(162,lt,26,1,"div",49),s.Tb(),s.Ub(163,"div",6),s.Ub(164,"div",52),s.Ub(165,"label"),s.Oc(166,"Signature"),s.Tb(),s.Ub(167,"div",53),s.Ub(168,"signature-pad",54,59),s.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),s.Tb(),s.Tb(),s.Tb(),s.Ub(170,"button",56),s.ec("click",function(){return t.clear2()}),s.Oc(171," Clear "),s.Tb(),s.Mc(172,ct,2,1,"button",46),s.Mc(173,st,2,1,"button",46),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.qc("ngIf",!(null!=t.dialogData&&t.dialogData.isDialog)),s.Bb(2),s.qc("formGroup",t.empDetails),s.Bb(10),s.Gb("is-invalid",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),s.Bb(11),s.qc("ngIf",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),s.qc("ngClass",t.formData),s.Bb(1),s.qc("ngIf",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),s.Bb(5),s.Gb("is-invalid",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),s.Bb(3),s.qc("ngForOf",t.roleData),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),s.Bb(3),s.qc("ngForOf",t.reportingData),s.Bb(1),s.qc("ngIf",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),s.Bb(5),s.Gb("is-invalid",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfSuburb.touched||t.submitted)&&(null==t.registerFormControl.porfSuburb.errors?null:t.registerFormControl.porfSuburb.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfSuburb.touched||t.submitted)&&(null==t.registerFormControl.porfSuburb.errors?null:t.registerFormControl.porfSuburb.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),s.qc("value",t.registerFormControl.porfState.value),s.Bb(3),s.qc("ngForOf",t.StatesData),s.Bb(1),s.qc("ngIf",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),s.Bb(3),s.qc("src",t.file1,s.Ec),s.Bb(14),s.Gb("is-invalid",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),s.Bb(5),s.Gb("is-invalid",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),s.Bb(1),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp),s.Bb(3),s.qc("ngForOf",t.addLicence().controls),s.Bb(1),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp),s.Bb(3),s.qc("ngForOf",t.addPPE().controls),s.Bb(6),s.qc("options",t.signaturePadOptions),s.Bb(4),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp),s.Bb(3),s.qc("ngForOf",t.addEquip().controls),s.Bb(6),s.qc("options",t.signaturePadOptions),s.Bb(4),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp))},directives:[o.n,b.E,b.s,b.k,Ue.b,Ue.a,b.A,b.r,b.i,b.v,b.D,b.d,o.l,o.m,b.e,Ce.a,p.g,b.l,Pe.c,Pe.a,De.n],pipes:[o.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),ut),mt=n("OFbc");function dt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",18),s.ec("click",function(){return s.Cc(r),s.ic().openAddEmployee()}),s.Pb(1,"i",3),s.Oc(2," Add Employee "),s.Tb()}}function pt(e,t){1&e&&(s.Ub(0,"th",19),s.Oc(1,"No."),s.Tb())}function ft(e,t){if(1&e&&(s.Ub(0,"td",20),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.Bb(1),s.Qc(" ",r.index," ")}}function gt(e,t){1&e&&(s.Ub(0,"th",19),s.Oc(1,"Title"),s.Tb())}function ht(e,t){if(1&e&&(s.Ub(0,"td",20),s.Ub(1,"span",21),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.title)}}function vt(e,t){1&e&&(s.Ub(0,"th",19),s.Oc(1," First Name "),s.Tb())}function yt(e,t){if(1&e&&(s.Ub(0,"td",20),s.Ub(1,"span",22),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.firstName)}}function Tt(e,t){1&e&&(s.Ub(0,"th",19),s.Oc(1,"Last Name"),s.Tb())}function Ut(e,t){if(1&e&&(s.Ub(0,"td",20),s.Ub(1,"span",22),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.lastName)}}function Ct(e,t){1&e&&(s.Ub(0,"th",19),s.Oc(1,"Email"),s.Tb())}function Pt(e,t){if(1&e&&(s.Ub(0,"td",20),s.Ub(1,"span",22),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.email)}}function Dt(e,t){1&e&&(s.Ub(0,"th",23),s.Oc(1,"Action"),s.Tb())}var Ot=function(e){return[e]};function Nt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"td",20),s.Ub(1,"span"),s.Ub(2,"button",24),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().edit(e._id)}),s.Ub(3,"mat-icon",25),s.Oc(4,"edit"),s.Tb(),s.Tb(),s.Ub(5,"button",26),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().delete(e)}),s.Ub(6,"mat-icon",27),s.Oc(7,"delete"),s.Tb(),s.Tb(),s.Ub(8,"button",24),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().returnById(e._id)}),s.Pb(9,"svg-icon",28),s.Tb(),s.Ub(10,"button",26),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().returnById(e._id)}),s.Ub(11,"mat-icon",29),s.Oc(12,"history"),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.$implicit;s.Bb(11),s.qc("routerLink",s.uc(1,Ot,"/admin/registration/plantRegistrationTable/"+i._id))}}function Et(e,t){1&e&&s.Pb(0,"tr",30)}function xt(e,t){1&e&&s.Pb(0,"tr",31)}function kt(e,t){1&e&&(s.Ub(0,"tr",32),s.Ub(1,"td",33),s.Oc(2,"Data Not Found"),s.Tb(),s.Tb())}var wt,Ft=function(){return[20]},qt=((wt=function(){function t(r,i,n,o,l,c,s){e(this,t),this.employee=r,this.fb=i,this.setTitle=n,this.dialog=o,this.spinner=l,this.router=c,this.activatedRoute=s,this.ELEMENT_DATA=[],this.displayedColumns=["index","title","firstName","lastName","email","action"],this.dataSource=new a.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.isEmployeeRegistration=this.activatedRoute.url.pipe(Object(ce.a)(function(e){return e[0].path})),this.getAllEmployee(),this.setTitle.setTitle("WHS-Employee Details")}},{key:"getAllEmployee",value:function(){var e=this;this.employee.getAllEmployeeInfo().subscribe(function(t){console.log(t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,e.dataSource=new a.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"delete",value:function(e){var t=this;L.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.firstName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(r){r.value&&(console.log(r),t.spinner.show(),t.employee.deleteEmployeeInfo(e._id).subscribe(function(e){t.getAllEmployee(),t.spinner.hide()}))})}},{key:"edit",value:function(e){this.router.navigate(["/admin/registration/addEmployee/"+e])}},{key:"returnById",value:function(e){this.router.navigate(["/admin/registration/plantRegistration/"+e])}},{key:"openAddEmployee",value:function(){this.dialog.open(bt,{data:{isDialog:!0},height:"90%",width:"90%"})}}]),t}()).\u0275fac=function(e){return new(e||wt)(s.Ob(ye.a),s.Ob(b.f),s.Ob(m.a),s.Ob(d.b),s.Ob(f.c),s.Ob(p.f),s.Ob(p.a))},wt.\u0275cmp=s.Ib({type:wt,selectors:[["app-employee-registration"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(c.a,!0),s.Sc(l.a,!0)),2&e&&(s.xc(r=s.fc())&&(t.paginator=r.first),s.xc(r=s.fc())&&(t.sort=r.first))},decls:33,vars:11,consts:[[1,"col","ml-2","pt-1"],["type","button","class","btn btn-outline-primary mr-2 float-right",3,"click",4,"ngIf"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"click"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["matTooltip","Return PPE OR Plant/Equipment","name","Return"],["matTooltip","PPE/PLant History","routerLinkActive","router-link-active",2,"font-weight","900","font-size","27px",3,"routerLink"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h1"),s.Oc(2,"Employee Details"),s.Tb(),s.Tb(),s.Ub(3,"div"),s.Mc(4,dt,3,0,"button",1),s.jc(5,"async"),s.Ub(6,"button",2),s.Pb(7,"i",3),s.Oc(8," Add Employee "),s.Tb(),s.Tb(),s.Ub(9,"div"),s.Ub(10,"table",4),s.Sb(11,5),s.Mc(12,pt,2,0,"th",6),s.Mc(13,ft,2,1,"td",7),s.Rb(),s.Sb(14,8),s.Mc(15,gt,2,0,"th",6),s.Mc(16,ht,3,1,"td",7),s.Rb(),s.Sb(17,9),s.Mc(18,vt,2,0,"th",6),s.Mc(19,yt,3,1,"td",7),s.Rb(),s.Sb(20,10),s.Mc(21,Tt,2,0,"th",6),s.Mc(22,Ut,3,1,"td",7),s.Rb(),s.Sb(23,11),s.Mc(24,Ct,2,0,"th",6),s.Mc(25,Pt,3,1,"td",7),s.Rb(),s.Sb(26,12),s.Mc(27,Dt,2,0,"th",13),s.Mc(28,Nt,13,3,"td",7),s.Rb(),s.Mc(29,Et,1,0,"tr",14),s.Mc(30,xt,1,0,"tr",15),s.Mc(31,kt,3,0,"tr",16),s.Tb(),s.Pb(32,"mat-paginator",17),s.Tb()),2&e&&(s.Bb(4),s.qc("ngIf","employeeRegistration"!==s.kc(5,6,t.isEmployeeRegistration)),s.Bb(2),s.qc("routerLink",s.uc(8,Ot,"/admin/registration/addEmployee/form")),s.Bb(4),s.qc("dataSource",t.dataSource),s.Bb(19),s.qc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",t.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(10,Ft)))},directives:[o.n,p.g,a.k,l.a,a.c,a.e,a.b,a.g,a.j,a.h,c.a,a.d,l.b,a.a,g.a,h.a,v.a,mt.b,p.h,a.f,a.i],pipes:[o.b],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),wt),St=["signature2"],At=["signature1"],It=function(){return["/admin/registration/employeeRegistration"]};function Mt(e,t){1&e&&(s.Ub(0,"div",27),s.Pb(1,"i",28),s.Tb()),2&e&&s.qc("routerLink",s.tc(1,It))}var Bt=function(e){return[e]};function Rt(e,t){if(1&e&&(s.Ub(0,"div",27),s.Pb(1,"i",28),s.Tb()),2&e){var r=s.ic();s.qc("routerLink",s.uc(1,Bt,"/admin/registration/plantRegistrationTable/"+r.empId))}}function Lt(e,t){1&e&&(s.Ub(0,"label",9),s.Oc(1,"Select PPE to Return "),s.Tb())}function _t(e,t){if(1&e&&(s.Ub(0,"div",33),s.Mc(1,Lt,2,0,"label",37),s.Pb(2,"br"),s.Pb(3,"input",38),s.Tb()),2&e){var r=s.ic().index;s.Bb(1),s.qc("ngIf",0===r)}}function jt(e,t){if(1&e&&(s.Ub(0,"div"),s.Ub(1,"div",29),s.Ub(2,"div",7),s.Ub(3,"div",30),s.Ub(4,"label",9),s.Oc(5,"PPE Supplied"),s.Tb(),s.Pb(6,"input",31),s.Tb(),s.Ub(7,"div",30),s.Ub(8,"label",9),s.Oc(9,"Brand or Type"),s.Tb(),s.Pb(10,"input",32),s.Tb(),s.Ub(11,"div",33),s.Ub(12,"label",9),s.Oc(13,"Issue Date"),s.Tb(),s.Pb(14,"input",34),s.Tb(),s.Ub(15,"div",33),s.Ub(16,"label",9),s.Oc(17,"Replacement Date "),s.Tb(),s.Pb(18,"input",35),s.Tb(),s.Mc(19,_t,4,1,"div",36),s.Tb(),s.Tb(),s.Tb()),2&e){var r=t.index,i=s.ic();s.Bb(1),s.qc("formGroupName",r),s.Bb(18),s.qc("ngIf",!i.isHistory)}}function Ht(e,t){if(1&e&&(s.Ub(0,"mat-option",39),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r),s.Bb(1),s.Qc(" ",r.fullName," ")}}function Vt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",40),s.ec("click",function(){return s.Cc(r),s.ic().clear()}),s.Oc(1," Clear "),s.Tb()}}function Gt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",41),s.ec("click",function(){return s.Cc(r),s.ic().peeSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.ppeDetails.valid)}}function Qt(e,t){1&e&&(s.Ub(0,"div",33),s.Ub(1,"label",9),s.Oc(2,"Select Plant to Return "),s.Tb(),s.Pb(3,"br"),s.Pb(4,"input",46),s.Tb())}function zt(e,t){if(1&e&&(s.Ub(0,"div"),s.Ub(1,"div",29),s.Ub(2,"div",7),s.Ub(3,"div",30),s.Ub(4,"label",9),s.Oc(5,"Plant Type "),s.Tb(),s.Pb(6,"input",42),s.Tb(),s.Ub(7,"div",30),s.Ub(8,"label",9),s.Oc(9,"Model Number"),s.Tb(),s.Pb(10,"input",43),s.Tb(),s.Ub(11,"div",33),s.Ub(12,"label",9),s.Oc(13,"Serial Number"),s.Tb(),s.Pb(14,"input",44),s.Tb(),s.Ub(15,"div",33),s.Ub(16,"label",9),s.Oc(17,"Service/Replacement Date"),s.Tb(),s.Pb(18,"input",45),s.Tb(),s.Mc(19,Qt,5,0,"div",36),s.Tb(),s.Tb(),s.Tb()),2&e){var r=t.index,i=s.ic();s.Bb(1),s.qc("formGroupName",r),s.Bb(18),s.qc("ngIf",!i.isHistory)}}function $t(e,t){if(1&e&&(s.Ub(0,"mat-option",39),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r),s.Bb(1),s.Qc(" ",r.fullName," ")}}function Wt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",40),s.ec("click",function(){return s.Cc(r),s.ic().clear2()}),s.Oc(1," Clear "),s.Tb()}}function Kt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",41),s.ec("click",function(){return s.Cc(r),s.ic().plantSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.plantDetails.valid)}}var Jt,Yt=((Jt=function(){function t(r,i,n,o,a){e(this,t),this.fb=r,this.activatedRoute=i,this.employee=n,this.logicalService=o,this.router=a,this.PPERegister=!1,this.EquipmentInfo=!1,this.PPEData=[],this.empData=[],this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.ppeDetails=this.fb.group({PPESupplied:[""],BrandOrType:[""],IssueDate:[""],PPEArr:this.fb.array([]),ReplacementDate:[""],Sign:["",b.C.required],managerName:["",b.C.required],date:["",b.C.required]}),this.plantDetails=this.fb.group({modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""],plantManagerName:[""],plantDate:[""],plantSignature:[""],plantArr:this.fb.array([])})}return r(t,[{key:"disableForm",value:function(e){return Object(me.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var r,i,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isHistory||"PPE"!==e){t.next=8;break}return this.ppeDetails.disable(),r=function(){return Object(me.a)(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))},t.next=5,r();case 5:this.signaturePad.off(),t.next=14;break;case 8:if(!this.isHistory||"Plant/Equipment"!==e){t.next=14;break}return this.plantDetails.disable(),i=function(){return Object(me.a)(n,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))},t.next=13,i();case 13:this.signaturePad2.off();case 14:case"end":return t.stop()}},t,this)}))}},{key:"ngOnInit",value:function(){var e=this;this.isHistory=this.router.url.includes("/plantRegistration/history"),this.id=this.activatedRoute.snapshot.params.id,console.log(this.isHistory,this.id),this.patchData(),this.employee.getAllEmployeeInfo().pipe(Object(ce.a)(function(e){return e.data.map(function(e){return e.fullName="".concat(e.firstName," ").concat(e.lastName),e})})).subscribe(function(t){e.empData=t,e.filteredOptions1=e.ppeDetails.controls.managerName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(t){return"object"==typeof t?"":"string"==typeof t?e.ppeDetails.controls.managerName.setErrors({incorrect:!0}):""}),Object(ce.a)(function(e){return"string"==typeof e?e:null==e?void 0:e.fullName}),Object(ce.a)(function(t){return t?e._filter(t):e.empData.slice()})),e.filteredOptions2=e.plantDetails.controls.plantManagerName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(t){return"object"==typeof t?"":"string"==typeof t?e.plantDetails.controls.plantManagerName.setErrors({incorrect:!0}):""}),Object(ce.a)(function(e){return"string"==typeof e?e:null==e?void 0:e.fullName}),Object(ce.a)(function(t){return t?e._filter(t):e.empData.slice()}))})}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.empData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"displayFn",value:function(e){return e&&e.fullName?e.fullName:""}},{key:"addEquip",value:function(){return this.plantDetails.get("plantArr")}},{key:"newEquipFiled3",value:function(e){return console.log("newData",e),this.fb.group({plantType:[e.plantType],modelNumber:[e.modelNumber],serialNumber:[e.serialNumber],serviceRenewDate:[e.serviceRenewDate],plantCheck:[""]})}},{key:"addEquipFiled3",value:function(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.plantDetails.value),this.disableForm("Plant/Equipment")}},{key:"drawComplete2",value:function(){this.plantDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}},{key:"clear2",value:function(){this.signaturePad2.clear(),this.plantDetails.controls.plantSignature.setValue("")}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"addPPE",value:function(){return this.ppeDetails.get("PPEArr")}},{key:"newFiled3",value:function(e){return console.log("newData",e),this.fb.group({PPESupplied:[e.ppeSupplied],BrandOrType:[e.brand],IssueDate:[e.issueDate],ReplacementDate:[e.replacementDate],ppeCheck:[""]})}},{key:"addFiled3",value:function(e){console.log("data",e),this.addPPE().push(this.newFiled3(e)),console.log("addPPEFiled1",this.plantDetails.value),this.disableForm("PPE")}},{key:"PPERegisteshow",value:function(){this.PPERegister=!0,this.EquipmentInfo=!1}},{key:"addPlantshow",value:function(){this.PPERegister=!1,this.EquipmentInfo=!0}},{key:"clear",value:function(){this.signaturePad.clear(),this.ppeDetails.controls.Sign.setValue("")}},{key:"drawComplete",value:function(){this.ppeDetails.controls.Sign.setValue(this.signaturePad.toDataURL()),console.log(this.signaturePad.toDataURL())}},{key:"patchData",value:function(){var e=this;this.isHistory?this.logicalService.getSubmitedPPEPlantById(this.id).subscribe(function(t){console.log("res===========>",t),"PPE"===t.data[0].fileType?(e.selectValue=0,e.ppeDataHistory=t.data[0],e.ppeDataHistory.managerName.fullName="".concat(e.ppeDataHistory.managerName.firstName," ").concat(e.ppeDataHistory.managerName.lastName),console.log("this.ppeDataHistory",e.ppeDataHistory),e.empId=e.ppeDataHistory.employeeId._id,e.ppeDataHistory.submitPPEArr.forEach(function(t){e.addFiled3(t)}),e.ppeDetails.patchValue({Sign:e.ppeDataHistory.signature,managerName:e.ppeDataHistory.managerName,date:e.ppeDataHistory.date}),e.dataUrl=e.ppeDataHistory.signature,Object(me.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(t){setTimeout(function(){console.log("this.signaturePad",e.signaturePad,t),e.signaturePad.fromDataURL(e.dataUrl)},1e3)})):"Plant/Equipment"===t.data[0].fileType&&(e.selectValue=1,e.plantDataHistory=t.data[0],e.plantDataHistory.managerName.fullName="".concat(e.plantDataHistory.managerName.firstName," ").concat(e.plantDataHistory.managerName.lastName),e.empId=e.plantDataHistory.employeeId._id,e.plantDataHistory.submitPlantArr.forEach(function(t){e.addEquipFiled3(t)}),e.plantDetails.patchValue({plantManagerName:e.plantDataHistory.managerName,plantDate:e.plantDataHistory.date,plantSignature:e.plantDataHistory.signature}),e.dataUrl=e.plantDataHistory.signature,Object(me.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(t){setTimeout(function(){console.log("this.signaturePad",e.signaturePad2,t),e.signaturePad2.fromDataURL(e.dataUrl)},1e3)}))}):this.employee.getEmployeeInfoById(this.id).subscribe(function(t){console.log("data=>",t),e.employeeData=t.data,t.data.ppe.PPEArr.forEach(function(t){e.addFiled3(t)}),t.data.plant.plantArr.forEach(function(t){e.addEquipFiled3(t)})})}},{key:"peeSubmit",value:function(){for(var e=this,t=[],r=[],i=this.employeeData,n=i.ppe,o=Object(me.b)(i,["ppe"]),a=0;a<this.addPPE().length;a++)if(this.addPPE().at(a).get("ppeCheck").value){var l={ppeSupplied:this.addPPE().at(a).get("PPESupplied").value,brand:this.addPPE().at(a).get("BrandOrType").value,issueDate:this.addPPE().at(a).get("IssueDate").value,replacementDate:this.addPPE().at(a).get("ReplacementDate").value};t.push(l),console.log("submitPPEArr",t)}else{var c={ppeSupplied:this.addPPE().at(a).get("PPESupplied").value,brand:this.addPPE().at(a).get("BrandOrType").value,issueDate:this.addPPE().at(a).get("IssueDate").value,replacementDate:this.addPPE().at(a).get("ReplacementDate").value};r.push(c),console.log("PPEArr",r)}var s,u={signature:this.ppeDetails.controls.Sign.value,date:this.ppeDetails.controls.date.value,managerName:this.ppeDetails.controls.managerName.value._id,submitPPEArr:t,employeeId:this.employeeData._id};console.log("ppe submit",r.length,this.addPPE().length),s=Object.assign(Object.assign({},o),0!==r.length?{ppe:{PPEArr:r,signature:n.signature}}:{ppe:{PPEArr:r,signature:""}}),console.log("this.ppe",this.ppeDataHistory,s),this.logicalService.postSubmitedPPE(u).subscribe(function(t){e.employee.updateEmployeeInfo(e.employeeData._id,s).subscribe(function(e){L.a.fire({title:"Submit successfully",showConfirmButton:!1,timer:1200})})},function(e){e&&L.a.fire({title:"Submit Failed",showConfirmButton:!1,timer:4e3})})}},{key:"plantSubmit",value:function(){for(var e=this,t=[],r=[],i=this.employeeData,n=i.plant,o=Object(me.b)(i,["plant"]),a=0;a<this.addEquip().length;a++)if(console.log("this.addEquip().at(index).get",this.addEquip().at(a).get("plantCheck").value),this.addEquip().at(a).get("plantCheck").value){var l={plantType:this.addEquip().at(a).get("plantType").value,modelNumber:this.addEquip().at(a).get("modelNumber").value,serialNumber:this.addEquip().at(a).get("serialNumber").value,serviceRenewDate:this.addEquip().at(a).get("serviceRenewDate").value};t.push(l),console.log("submitPlant",t)}else{var c={plantType:this.addEquip().at(a).get("plantType").value,modelNumber:this.addEquip().at(a).get("modelNumber").value,serialNumber:this.addEquip().at(a).get("serialNumber").value,serviceRenewDate:this.addEquip().at(a).get("serviceRenewDate").value};r.push(c),console.log("PPEArr",r)}var s,u={signature:this.plantDetails.controls.plantSignature.value,date:this.plantDetails.controls.plantDate.value,managerName:this.plantDetails.controls.plantManagerName.value._id,submitPlantArr:t,employeeId:this.employeeData._id};console.log("plant submit",u),s=Object.assign(Object.assign({},o),0!==r.length?{plant:{plantArr:r,signature:n.plantSignature}}:{plant:{plantArr:r,signature:""}}),console.log("this.",this.employeeData,s),this.logicalService.postSubmitedPlant(u).subscribe(function(t){e.employee.updateEmployeeInfo(e.employeeData._id,s).subscribe(function(e){L.a.fire({title:"Submit successfully",showConfirmButton:!1,timer:1200})})},function(e){e&&L.a.fire({title:"Submit Failed",showConfirmButton:!1,timer:4e3})})}}]),t}()).\u0275fac=function(e){return new(e||Jt)(s.Ob(b.f),s.Ob(p.a),s.Ob(ye.a),s.Ob(u.a),s.Ob(p.f))},Jt.\u0275cmp=s.Ib({type:Jt,selectors:[["app-plant-registration"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(St,!0),s.Sc(At,!0)),2&e&&(s.xc(r=s.fc())&&(t.signaturePad2=r.first),s.xc(r=s.fc())&&(t.signaturePad=r.first))},decls:56,vars:37,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"container","bg-white"],[3,"selectedIndex"],[3,"formGroup"],["label","PPE Register",3,"disabled","click"],["formArrayName","PPEArr"],[4,"ngFor","ngForOf"],[1,"row"],[1,"mb-3","mt-3","col-5"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","managerName",1,"form-control",3,"matAutocomplete"],[3,"displayWith"],["employee2","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","date","formControlName","date",1,"form-control"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature1",""],["class","btn btn-outline-primary btn_1",3,"click",4,"ngIf"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Plant/Equipment Register",3,"disabled","click"],["formArrayName","plantArr"],["type","text","formControlName","plantManagerName",1,"form-control",3,"matAutocomplete"],["employee1","matAutocomplete"],["type","date","formControlName","plantDate",1,"form-control"],["signature2",""],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[3,"formGroupName"],[1,"mb-3","mt-3","col-3"],["type","text","formControlName","PPESupplied","id","siteName",1,"form-control","disableDiv"],["type","text","formControlName","BrandOrType",1,"form-control","disableDiv"],[1,"mb-3","mt-3","col-2"],["type","date","formControlName","IssueDate",1,"form-control","disableDiv"],["type","date","formControlName","ReplacementDate",1,"form-control","disableDiv"],["class","mb-3 mt-3 col-2",4,"ngIf"],["for","exampleFormControlInput1","class","form-label",4,"ngIf"],["type","checkbox","formControlName","ppeCheck","value","",1,"form-check-input","mt-2"],[3,"value"],[1,"btn","btn-outline-primary","btn_1",3,"click"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],["type","text","formControlName","plantType",1,"form-control","disableDiv"],["type","text","formControlName","modelNumber",1,"form-control","disableDiv"],["type","text","formControlName","serialNumber",1,"form-control","disableDiv"],["type","date","formControlName","serviceRenewDate",1,"form-control","disableDiv"],["type","checkbox","formControlName","plantCheck","value","",1,"form-check-input","mt-2"]],template:function(e,t){if(1&e&&(s.Mc(0,Mt,2,2,"div",0),s.Mc(1,Rt,2,3,"div",0),s.Ub(2,"div",1),s.Ub(3,"mat-tab-group",2),s.Sb(4,3),s.Ub(5,"mat-tab",4),s.ec("click",function(){return t.PPERegisteshow()}),s.Ub(6,"div",5),s.Mc(7,jt,20,2,"div",6),s.Tb(),s.Pb(8,"hr"),s.Ub(9,"div",7),s.Ub(10,"div",8),s.Ub(11,"label",9),s.Oc(12,"Manager Name"),s.Tb(),s.Pb(13,"input",10),s.Ub(14,"mat-autocomplete",11,12),s.Mc(16,Ht,2,2,"mat-option",13),s.jc(17,"async"),s.Tb(),s.Tb(),s.Ub(18,"div",8),s.Ub(19,"label",9),s.Oc(20," Date"),s.Tb(),s.Pb(21,"input",14),s.Tb(),s.Ub(22,"div",15),s.Ub(23,"label"),s.Oc(24,"Signature"),s.Tb(),s.Ub(25,"div",16),s.Ub(26,"signature-pad",17,18),s.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),s.Tb(),s.Tb(),s.Tb(),s.Mc(28,Vt,2,0,"button",19),s.Mc(29,Gt,2,1,"button",20),s.Tb(),s.Tb(),s.Rb(),s.Sb(30,3),s.Ub(31,"mat-tab",21),s.ec("click",function(){return t.addPlantshow()}),s.Ub(32,"div",22),s.Mc(33,zt,20,2,"div",6),s.Tb(),s.Pb(34,"hr"),s.Ub(35,"div",7),s.Ub(36,"div",8),s.Ub(37,"label",9),s.Oc(38,"Manager Name"),s.Tb(),s.Pb(39,"input",23),s.Ub(40,"mat-autocomplete",11,24),s.Mc(42,$t,2,2,"mat-option",13),s.jc(43,"async"),s.Tb(),s.Tb(),s.Ub(44,"div",8),s.Ub(45,"label",9),s.Oc(46," Date"),s.Tb(),s.Pb(47,"input",25),s.Tb(),s.Ub(48,"div",15),s.Ub(49,"label"),s.Oc(50,"Signature"),s.Tb(),s.Ub(51,"div",16),s.Ub(52,"signature-pad",17,26),s.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),s.Tb(),s.Tb(),s.Tb(),s.Mc(54,Wt,2,0,"button",19),s.Mc(55,Kt,2,1,"button",20),s.Tb(),s.Tb(),s.Rb(),s.Tb(),s.Tb()),2&e){var r=s.yc(15),i=s.yc(41);s.qc("ngIf",!t.isHistory),s.Bb(1),s.qc("ngIf",t.isHistory),s.Bb(2),s.qc("selectedIndex",t.selectValue),s.Bb(1),s.qc("formGroup",t.ppeDetails),s.Bb(1),s.qc("disabled",!t.ppeDataHistory&&t.isHistory),s.Bb(2),s.qc("ngForOf",t.addPPE().controls),s.Bb(6),s.Gb("disableDiv",t.isHistory),s.qc("matAutocomplete",r),s.Bb(1),s.qc("displayWith",t.displayFn),s.Bb(2),s.qc("ngForOf",s.kc(17,33,t.filteredOptions1)),s.Bb(5),s.Gb("disableDiv",t.isHistory),s.Bb(4),s.Gb("disableDiv",t.isHistory),s.Bb(1),s.qc("options",t.signaturePadOptions),s.Bb(2),s.qc("ngIf",!t.isHistory),s.Bb(1),s.qc("ngIf",!t.isHistory),s.Bb(1),s.qc("formGroup",t.plantDetails),s.Bb(1),s.qc("disabled",!t.plantDataHistory&&t.isHistory),s.Bb(2),s.qc("ngForOf",t.addEquip().controls),s.Bb(6),s.Gb("disableDiv",t.isHistory),s.qc("matAutocomplete",i),s.Bb(1),s.qc("displayWith",t.displayFn),s.Bb(2),s.qc("ngForOf",s.kc(43,35,t.filteredOptions2)),s.Bb(5),s.Gb("disableDiv",t.isHistory),s.Bb(4),s.Gb("disableDiv",t.isHistory),s.Bb(1),s.qc("options",t.signaturePadOptions),s.Bb(2),s.qc("ngIf",!t.isHistory),s.Bb(1),s.qc("ngIf",!t.isHistory)}},directives:[o.n,Ue.b,b.s,b.k,Ue.a,b.e,o.m,b.d,Pe.c,b.r,b.i,Pe.a,Ce.a,p.g,b.l,b.a,De.n],pipes:[o.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}.form-check-input[_ngcontent-%COMP%]{width:17px;height:17px;margin-left:60px}"]}),Jt);function Xt(e,t){if(1&e&&(s.Ub(0,"option",25),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r._id),s.Bb(1),s.Pc(r.title)}}function Zt(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",26),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.subcontractDetails.valid)}}function er(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",26),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.subcontractDetails.valid)}}function tr(e,t){if(1&e&&(s.Ub(0,"mat-option",25),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r),s.Bb(1),s.Qc(" ",r.title," ")}}function rr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",27),s.Ub(2,"div",6),s.Ub(3,"div",7),s.Ub(4,"label",8),s.Oc(5,"Licence Name"),s.Tb(),s.Pb(6,"input",28),s.Ub(7,"mat-autocomplete",29,30),s.Mc(9,tr,2,2,"mat-option",17),s.jc(10,"async"),s.Tb(),s.Tb(),s.Ub(11,"div",7),s.Ub(12,"label",8),s.Oc(13,"Licence Number"),s.Tb(),s.Pb(14,"input",31),s.Tb(),s.Ub(15,"div",7),s.Ub(16,"label",8),s.Oc(17,"Training Organisation"),s.Tb(),s.Pb(18,"input",32),s.Tb(),s.Ub(19,"div",7),s.Ub(20,"label",8),s.Oc(21,"Expiry Date "),s.Tb(),s.Pb(22,"input",33),s.Tb(),s.Tb(),s.Ub(23,"div",6),s.Ub(24,"div",34),s.Ub(25,"div",35),s.Ub(26,"label",36),s.Oc(27,"Upload Licence"),s.Tb(),s.Ub(28,"input",37),s.ec("change",function(e){s.Cc(r);var i=t.index;return s.ic().browser(e,i)}),s.Tb(),s.Tb(),s.Tb(),s.Ub(29,"div",38),s.Ub(30,"div",39),s.Ub(31,"span",40),s.ec("click",function(){return s.Cc(r),s.ic().addFiled()}),s.Oc(32,"add_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Ub(33,"div",38),s.Ub(34,"div",39),s.Ub(35,"span",40),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeFiled(e)}),s.Oc(36," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index,n=s.yc(8),o=s.ic();s.Bb(1),s.qc("formGroupName",i),s.Bb(5),s.qc("matAutocomplete",n),s.Bb(1),s.qc("displayWith",o.displayFn),s.Bb(2),s.qc("ngForOf",s.kc(10,4,o.licenceValueChanges[i]))}}function ir(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",26),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.subcontractDetails.valid)}}function nr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",26),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.subcontractDetails.valid)}}var or,ar=function(){return["/admin/registration/subcontract"]},lr=((or=function(){function t(r,i,n,o,a){e(this,t),this.fb=r,this.upload=i,this.activatedRoute=n,this.router=o,this.licenceInfo=a,this.LicenceInfo=!1,this.profile=!1,this.licenceData=[],this.StatesData=[],this.subcontractDetails=this.fb.group({companyName:["",b.C.required],phone:["",b.C.required],fax:[""],email:["",b.C.required],suburb:["",b.C.required],state:["",b.C.required],streetAddress:["",b.C.required],ABN:["",b.C.required],file:[""],licenceNumber:["",b.C.required],website:["",b.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],licenceAndQualifications:this.fb.array([])})}return r(t,[{key:"ngOnInit",value:function(){var e=this;this.getAllStates(),this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.licenceInfo.getAllLicence().pipe(Object(ce.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.licenceData=t,console.log("this.empData",e.licenceData)}),this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.licenceInfo.getAllLicence().pipe(Object(ce.a)(function(e){return e.data.map(function(e){return e.fullName=""+e.title,e})})).subscribe(function(t){e.licenceData=t,console.log("this.empData",e.licenceData),e.addFiled()})),this.filteredOptions2=this.subcontractDetails.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(800),Object(fe.a)(),Object(ge.a)(function(t){return console.log("myControl22..",t,e.filteredOptions2),e.filter2(t||"")}))}},{key:"getAllStates",value:function(){var e=this;this.licenceInfo.getAllStates().subscribe(function(t){console.log("setStatesDetails=>",t),e.StatesData=t.data})}},{key:"addLicence",value:function(){return this.subcontractDetails.get("licenceAndQualifications")}},{key:"newFiled",value:function(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}},{key:"newFiled1",value:function(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}},{key:"addFiled1",value:function(e){var t=this;this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(var r=0;r<this.addLicence().length;r++){var i=this.addLicence().at(r);this.licenceValueChanges.push(i.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(e){return e?t._filter(e):t.licenceData.slice()}))),console.log(i.valueChanges)}}},{key:"addFiled",value:function(){var e=this;this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(var t=0;t<this.addLicence().length;t++){var r=this.addLicence().at(t);this.licenceValueChanges.push(r.controls.LicenceName.valueChanges.pipe(Object(de.a)(""),Object(pe.a)(400),Object(he.a)(function(e){return console.log("value",e)}),Object(ce.a)(function(e){return"string"==typeof e?e:e.fullName}),Object(ce.a)(function(t){return t?e._filter(t):e.licenceData.slice()}))),console.log(r.valueChanges)}}},{key:"_filter",value:function(e){var t=e.toLowerCase();return this.licenceData.filter(function(e){return e.fullName.toLowerCase().includes(t)})}},{key:"removeFiled",value:function(e){var t=this.subcontractDetails.controls.licenceAndQualifications;t.length>1&&t.removeAt(e)}},{key:"browser",value:function(e,t){var r=this,i=e.target.files[0],n=new FormData;n.append("",i),console.log(i),this.upload.upload(n).subscribe(function(e){console.log("AddProductComponent -> browser -> res",e),r.selectedImage=e.files,r.addLicence().at(t).get("file").patchValue(r.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",r.selectedImage)})}},{key:"profileshow",value:function(){this.LicenceInfo=!1,this.profile=!0}},{key:"LicenceInfoshow",value:function(){this.LicenceInfo=!0,this.profile=!1}},{key:"filter2",value:function(e){return this.licenceInfo.getAllLicence().pipe(Object(ce.a)(function(e){return e.data=e.data.map(function(e){return e.LicenceName=""+e.title,e}),e}),Object(ce.a)(function(t){return t.data=t.data.filter(function(t){return 0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())}),t.data}))}},{key:"displayFn",value:function(e){return e&&e.title?e.title:""}},{key:"patchData",value:function(){var e=this;this.licenceInfo.getSubcontract(this.id).subscribe(function(t){console.log("dataId=>",t.data),t.data.licenceAndQualifications.length>0?t.data.licenceAndQualifications.forEach(function(t){e.addFiled1(t)}):e.addFiled(),e.subcontractDetails.patchValue({companyName:t.data.companyName,phone:t.data.phone,fax:t.data.fax,email:t.data.email,state:t.data.stateId,streetAddress:t.data.streetAddress,suburb:t.data.suburb,ABN:t.data.ABN,licenceNumber:t.data.licenceNumber,website:t.data.website})})}},{key:"onFormSubmit",value:function(){var e=this;this.submitted=!0;var t={licenceAndQualifications:function(){e.addLicence();var t=[];return e.addLicence().controls.forEach(function(e){console.log("item",e),t.push({LicenceName:e.controls.LicenceName.value,LicenceNumber:e.controls.LicenceNumber.value,TrainingQrginisation:e.controls.TrainingQrginisation.value,ExpiryDate:e.controls.ExpiryDate.value,file:e.controls.file.value})}),t}(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,stateId:this.subcontractDetails.get("state").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",t),this.licenceInfo.addSubcontract(t).subscribe(function(t){console.log("data=>",t),L.a.fire({title:"Subcontractor Added successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/registration/subcontract"])},function(e){console.error(e)})}},{key:"onFormUpdate",value:function(e){var t=this,r={licenceAndQualifications:function(){t.addLicence();var e=[];return t.addLicence().controls.forEach(function(t){console.log("item",t),e.push({LicenceName:t.controls.LicenceName.value,LicenceNumber:t.controls.LicenceNumber.value,TrainingQrginisation:t.controls.TrainingQrginisation.value,ExpiryDate:t.controls.ExpiryDate.value,file:t.controls.file.value})}),e}(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,stateId:this.subcontractDetails.get("state").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",r),this.licenceInfo.updateSubcontract(this.id,r).subscribe(function(e){console.log("updateData",e),L.a.fire({title:"Subcontractor Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/registration/subcontract"])},function(e){console.error(e)})}}]),t}()).\u0275fac=function(e){return new(e||or)(s.Ob(b.f),s.Ob(Te),s.Ob(p.a),s.Ob(p.f),s.Ob(u.a))},or.\u0275cmp=s.Ib({type:or,selectors:[["app-add-and-edit-subcontract"]],decls:60,vars:9,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"container","bg-white",3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","fax",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","suburb",1,"form-control"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","ABN",1,"form-control"],["type","text","formControlName","licenceNumber",1,"form-control"],["type","text","formControlName","website",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","licenceAndQualifications"],[4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],[3,"displayWith"],["employee1","matAutocomplete"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],[1,"my-3"],["for","formFile1",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Pb(1,"i",1),s.Tb(),s.Ub(2,"div",2),s.Ub(3,"h1",3),s.Ub(4,"p",4),s.Oc(5,"Subcontractor Information Preview"),s.Tb(),s.Tb(),s.Ub(6,"mat-tab-group"),s.Ub(7,"mat-tab",5),s.ec("click",function(){return t.profileshow()}),s.Ub(8,"div",6),s.Ub(9,"div",7),s.Ub(10,"label",8),s.Oc(11,"Company Name "),s.Tb(),s.Pb(12,"input",9),s.Tb(),s.Ub(13,"div",7),s.Ub(14,"label",8),s.Oc(15,"Phone"),s.Tb(),s.Pb(16,"input",10),s.Tb(),s.Ub(17,"div",7),s.Ub(18,"label",8),s.Oc(19,"Fax "),s.Tb(),s.Pb(20,"input",11),s.Tb(),s.Ub(21,"div",7),s.Ub(22,"label",8),s.Oc(23,"Email"),s.Tb(),s.Pb(24,"input",12),s.Tb(),s.Ub(25,"div",7),s.Ub(26,"label",8),s.Oc(27,"Street Address "),s.Tb(),s.Ub(28,"textarea",13),s.Oc(29,"              "),s.Tb(),s.Tb(),s.Ub(30,"div",7),s.Ub(31,"label",8),s.Oc(32,"Suburb"),s.Tb(),s.Pb(33,"textarea",14),s.Tb(),s.Ub(34,"div",7),s.Ub(35,"label",8),s.Oc(36,"State"),s.Tb(),s.Ub(37,"select",15),s.Ub(38,"option",16),s.Oc(39,"Select"),s.Tb(),s.Mc(40,Xt,2,2,"option",17),s.Tb(),s.Tb(),s.Ub(41,"div",7),s.Ub(42,"label",8),s.Oc(43,"ABN"),s.Tb(),s.Pb(44,"input",18),s.Tb(),s.Ub(45,"div",7),s.Ub(46,"label",8),s.Oc(47,"Licence Number "),s.Tb(),s.Pb(48,"input",19),s.Tb(),s.Ub(49,"div",7),s.Ub(50,"label",8),s.Oc(51,"Website "),s.Tb(),s.Pb(52,"input",20),s.Tb(),s.Tb(),s.Mc(53,Zt,2,1,"button",21),s.Mc(54,er,2,1,"button",21),s.Tb(),s.Ub(55,"mat-tab",22),s.ec("click",function(){return t.LicenceInfoshow()}),s.Ub(56,"div",23),s.Mc(57,rr,37,6,"div",24),s.Tb(),s.Mc(58,ir,2,1,"button",21),s.Mc(59,nr,2,1,"button",21),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.qc("routerLink",s.tc(8,ar)),s.Bb(2),s.qc("formGroup",t.subcontractDetails),s.Bb(38),s.qc("ngForOf",t.StatesData),s.Bb(13),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp),s.Bb(3),s.qc("ngForOf",t.addLicence().controls),s.Bb(1),s.qc("ngIf",!t.dataEmp),s.Bb(1),s.qc("ngIf",t.dataEmp))},directives:[p.g,b.s,b.k,Ue.b,Ue.a,b.d,b.r,b.i,b.A,b.v,b.D,o.m,o.n,b.e,b.l,Pe.c,Pe.a,De.n],pipes:[o.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),or);function cr(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," No. "),s.Tb())}function sr(e,t){if(1&e&&(s.Ub(0,"td",18),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.Bb(1),s.Pc(r.index)}}function ur(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Company Name "),s.Tb())}function br(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",19),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.companyName)}}function mr(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Email "),s.Tb())}function dr(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",20),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.email)}}function pr(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Street Address "),s.Tb())}function fr(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",20),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.streetAddress)}}function gr(e,t){1&e&&(s.Ub(0,"th",17),s.Oc(1," Phone "),s.Tb())}function hr(e,t){if(1&e&&(s.Ub(0,"td",18),s.Ub(1,"span",20),s.Oc(2),s.Tb(),s.Tb()),2&e){var r=t.$implicit;s.Bb(2),s.Pc(r.phone)}}function vr(e,t){1&e&&(s.Ub(0,"th",21),s.Oc(1," Action "),s.Tb())}function yr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"td",18),s.Ub(1,"button",22),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().edit(e._id)}),s.Ub(2,"mat-icon"),s.Oc(3,"edit"),s.Tb(),s.Tb(),s.Ub(4,"button",23),s.ec("click",function(){s.Cc(r);var e=t.$implicit;return s.ic().delete(e)}),s.Ub(5,"mat-icon"),s.Oc(6,"delete"),s.Tb(),s.Tb(),s.Tb()}}function Tr(e,t){1&e&&s.Pb(0,"tr",24)}function Ur(e,t){1&e&&s.Pb(0,"tr",25)}function Cr(e,t){1&e&&(s.Ub(0,"tr",26),s.Ub(1,"td",27),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var Pr,Dr=function(e){return[e]},Or=function(){return[20]},Nr=((Pr=function(){function t(r,i,n,o,l,c){e(this,t),this.subContract=r,this.fb=i,this.setTitle=n,this.dialog=o,this.spinner=l,this.router=c,this.ELEMENT_DATA=[],this.displayedColumns=["index","companyName","email","streetAddress","phone","action"],this.dataSource=new a.l(this.ELEMENT_DATA)}return r(t,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"ngOnInit",value:function(){this.getAllSubcontractor(),this.setTitle.setTitle("WHS-Subcontractor Details")}},{key:"getAllSubcontractor",value:function(){var e=this;this.subContract.getAllSubcontract().subscribe(function(t){console.log(t);var r=t.data;r.forEach(function(e,t){e.index=t+1}),e.ELEMENT_DATA=r,e.dataSource=new a.l(e.ELEMENT_DATA),e.dataSource.paginator=e.paginator})}},{key:"delete",value:function(e){var t=this;L.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(e.companyName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(r){r.value&&(console.log(r),t.spinner.show(),t.subContract.deleteSubcontract(e._id).subscribe(function(e){t.getAllSubcontractor(),t.spinner.hide()}))})}},{key:"edit",value:function(e){this.router.navigate(["/admin/registration/addSubcontract/"+e])}}]),t}()).\u0275fac=function(e){return new(e||Pr)(s.Ob(u.a),s.Ob(b.f),s.Ob(m.a),s.Ob(d.b),s.Ob(f.c),s.Ob(p.f))},Pr.\u0275cmp=s.Ib({type:Pr,selectors:[["app-subcontract"]],viewQuery:function(e,t){var r;1&e&&(s.Sc(c.a,!0),s.Sc(l.a,!0)),2&e&&(s.xc(r=s.fc())&&(t.paginator=r.first),s.xc(r=s.fc())&&(t.sort=r.first))},decls:31,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","companyName"],["matColumnDef","email"],["matColumnDef","streetAddress"],["matColumnDef","phone"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h1"),s.Oc(2," Subcontractor Details "),s.Tb(),s.Tb(),s.Ub(3,"div"),s.Ub(4,"button",1),s.Pb(5,"i",2),s.Oc(6," Add Subcontractor "),s.Tb(),s.Tb(),s.Ub(7,"div"),s.Ub(8,"table",3),s.Sb(9,4),s.Mc(10,cr,2,0,"th",5),s.Mc(11,sr,2,1,"td",6),s.Rb(),s.Sb(12,7),s.Mc(13,ur,2,0,"th",5),s.Mc(14,br,3,1,"td",6),s.Rb(),s.Sb(15,8),s.Mc(16,mr,2,0,"th",5),s.Mc(17,dr,3,1,"td",6),s.Rb(),s.Sb(18,9),s.Mc(19,pr,2,0,"th",5),s.Mc(20,fr,3,1,"td",6),s.Rb(),s.Sb(21,10),s.Mc(22,gr,2,0,"th",5),s.Mc(23,hr,3,1,"td",6),s.Rb(),s.Sb(24,11),s.Mc(25,vr,2,0,"th",12),s.Mc(26,yr,7,0,"td",6),s.Rb(),s.Mc(27,Tr,1,0,"tr",13),s.Mc(28,Ur,1,0,"tr",14),s.Mc(29,Cr,3,0,"tr",15),s.Tb(),s.Pb(30,"mat-paginator",16),s.Tb()),2&e&&(s.Bb(4),s.qc("routerLink",s.uc(5,Dr,"/admin/registration/addSubcontract/form")),s.Bb(4),s.qc("dataSource",t.dataSource),s.Bb(19),s.qc("matHeaderRowDef",t.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",t.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(7,Or)))},directives:[p.g,a.k,l.a,a.c,a.e,a.b,a.g,a.j,a.h,c.a,a.d,l.b,a.a,g.a,h.a,a.f,a.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),Pr),Er=n("kY4h"),xr=["signature2"];function kr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Company Name is required "),s.Tb())}function wr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Phone Number is required "),s.Tb())}function Fr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Email is required "),s.Tb())}function qr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Street Address is required "),s.Tb())}function Sr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Suburb Address is required "),s.Tb())}function Ar(e,t){if(1&e&&(s.Ub(0,"option",43),s.Oc(1),s.Tb()),2&e){var r=t.$implicit;s.qc("value",r._id),s.Bb(1),s.Qc(" ",r.title," ")}}function Ir(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," state is required "),s.Tb())}function Mr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Company ABN is required "),s.Tb())}function Br(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Company Address is required "),s.Tb())}function Rr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Licence Number is required "),s.Tb())}function Lr(e,t){1&e&&(s.Ub(0,"span",42),s.Oc(1," Website is required "),s.Tb())}function _r(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",44),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}}function jr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",45),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.formData.valid)}}function Hr(e,t){1&e&&(s.Ub(0,"div",73),s.Ub(1,"div",6),s.Pb(2,"input",74),s.Tb(),s.Tb())}function Vr(e,t){1&e&&(s.Ub(0,"div",73),s.Ub(1,"div",6),s.Pb(2,"input",75),s.Tb(),s.Tb())}function Gr(e,t){if(1&e&&(s.Ub(0,"div",73),s.Ub(1,"div",6),s.Pb(2,"input",76),s.Pb(3,"ngx-mat-timepicker",null,77),s.Tb(),s.Tb()),2&e){var r=s.yc(4);s.Bb(2),s.qc("ngxMatTimepicker",r)}}function Qr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",46),s.Ub(2,"div",5),s.Ub(3,"div",6),s.Ub(4,"label",7),s.Oc(5,"Name "),s.Tb(),s.Pb(6,"input",47),s.Tb(),s.Ub(7,"div",6),s.Ub(8,"label",7),s.Oc(9,"Checked Out To"),s.Tb(),s.Pb(10,"input",48),s.Tb(),s.Ub(11,"div",6),s.Ub(12,"label",7),s.Oc(13,"Make"),s.Tb(),s.Pb(14,"input",49),s.Tb(),s.Ub(15,"div",6),s.Ub(16,"label",7),s.Oc(17,"Model Number"),s.Tb(),s.Pb(18,"input",50),s.Tb(),s.Ub(19,"div",51),s.Ub(20,"div",52),s.Ub(21,"h4",53),s.Oc(22,"Next Service"),s.Tb(),s.Tb(),s.Ub(23,"div",54),s.Ub(24,"input",55),s.ec("click",function(){return s.Cc(r),s.ic().hoursShow()}),s.Tb(),s.Ub(25,"label",56),s.Oc(26,"Hours "),s.Tb(),s.Tb(),s.Ub(27,"div",57),s.Ub(28,"input",58),s.ec("click",function(){return s.Cc(r),s.ic().kilometerShow()}),s.Tb(),s.Ub(29,"label",59),s.Oc(30,"Kilometres"),s.Tb(),s.Tb(),s.Ub(31,"div",57),s.Ub(32,"input",60),s.ec("click",function(){return s.Cc(r),s.ic().dateShow()}),s.Tb(),s.Ub(33,"label",61),s.Oc(34,"Date"),s.Tb(),s.Tb(),s.Tb(),s.Mc(35,Hr,3,0,"div",62),s.Mc(36,Vr,3,0,"div",62),s.Mc(37,Gr,5,1,"div",62),s.Ub(38,"div",6),s.Ub(39,"label",7),s.Oc(40,"Registration Number"),s.Tb(),s.Pb(41,"input",63),s.Tb(),s.Ub(42,"div",6),s.Ub(43,"label",7),s.Oc(44,"Registration Renewal Date "),s.Tb(),s.Pb(45,"input",64),s.Tb(),s.Ub(46,"div",6),s.Ub(47,"label",7),s.Oc(48,"Purchase Date "),s.Tb(),s.Pb(49,"input",65),s.Tb(),s.Ub(50,"div",6),s.Ub(51,"label",7),s.Oc(52,"Insurance Policy Number "),s.Tb(),s.Pb(53,"input",66),s.Tb(),s.Ub(54,"div",6),s.Ub(55,"label",7),s.Oc(56,"Insurance Expiry "),s.Tb(),s.Pb(57,"input",67),s.Tb(),s.Ub(58,"div",6),s.Ub(59,"label",7),s.Oc(60,"Fuel Card Number "),s.Tb(),s.Pb(61,"input",68),s.Tb(),s.Ub(62,"div",6),s.Ub(63,"label",7),s.Oc(64,"E Tag Number "),s.Tb(),s.Pb(65,"input",69),s.Tb(),s.Ub(66,"div",70),s.Ub(67,"div",71),s.Ub(68,"span",72),s.ec("click",function(){return s.Cc(r),s.ic().addEquipFiled2()}),s.Oc(69,"add_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Ub(70,"div",70),s.Ub(71,"div",71),s.Ub(72,"span",72),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeEquipFiled1(e)}),s.Oc(73," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index,n=s.ic();s.Bb(1),s.qc("formGroupName",i),s.Bb(34),s.qc("ngIf",n.date1),s.Bb(1),s.qc("ngIf",n.kilometer1),s.Bb(1),s.qc("ngIf",n.hours1)}}function zr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",78),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.formData.valid)}}function $r(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",79),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}}function Wr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"div"),s.Ub(1,"div",46),s.Ub(2,"div",5),s.Ub(3,"div",6),s.Ub(4,"label",7),s.Oc(5,"Document Number "),s.Tb(),s.Pb(6,"input",80),s.Tb(),s.Ub(7,"div",6),s.Ub(8,"label",7),s.Oc(9,"Document Type"),s.Tb(),s.Ub(10,"select",81),s.Ub(11,"option",16),s.Oc(12,"Select"),s.Tb(),s.Ub(13,"option",43),s.Oc(14,"123"),s.Tb(),s.Tb(),s.Tb(),s.Ub(15,"div",6),s.Ub(16,"label",7),s.Oc(17,"Document Name"),s.Tb(),s.Pb(18,"input",82),s.Tb(),s.Ub(19,"div",6),s.Ub(20,"label",7),s.Oc(21,"Third Party"),s.Tb(),s.Pb(22,"input",83),s.Tb(),s.Ub(23,"div",6),s.Ub(24,"label",7),s.Oc(25,"Start Date "),s.Tb(),s.Pb(26,"input",84),s.Tb(),s.Ub(27,"div",6),s.Ub(28,"label",7),s.Oc(29,"Expiry Date "),s.Tb(),s.Pb(30,"input",85),s.Tb(),s.Ub(31,"div",6),s.Ub(32,"label",7),s.Oc(33,"Reminder Notice"),s.Tb(),s.Ub(34,"select",86),s.Ub(35,"option",16),s.Oc(36,"Select"),s.Tb(),s.Ub(37,"option",43),s.Oc(38,"45"),s.Tb(),s.Ub(39,"option",43),s.Oc(40,"30"),s.Tb(),s.Ub(41,"option",43),s.Oc(42,"15"),s.Tb(),s.Tb(),s.Tb(),s.Ub(43,"div",70),s.Ub(44,"div",71),s.Ub(45,"span",72),s.ec("click",function(){return s.Cc(r),s.ic().addInsuranceFiled2()}),s.Oc(46,"add_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Ub(47,"div",70),s.Ub(48,"div",71),s.Ub(49,"span",72),s.ec("click",function(){s.Cc(r);var e=t.index;return s.ic().removeInsuranceFiled1(e)}),s.Oc(50," remove_circle_outline "),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&e){var i=t.index;s.Bb(1),s.qc("formGroupName",i)}}function Kr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",44),s.ec("click",function(e){return s.Cc(r),s.ic().onFormUpdate(e)}),s.Oc(1," Update "),s.Tb()}}function Jr(e,t){if(1&e){var r=s.Vb();s.Ub(0,"button",45),s.ec("click",function(){return s.Cc(r),s.ic().onFormSubmit()}),s.Oc(1," Submit "),s.Tb()}if(2&e){var i=s.ic();s.qc("disabled",!i.formData.valid)}}var Yr,Xr,Zr,ei=[{path:"",component:be},{path:"employeeRegistration",component:qt},{path:"addEmployee/:id",component:bt},{path:"plantRegistration/:id",component:Yt},{path:"plantRegistrationTable/:id",component:B},{path:"subcontract",component:Nr},{path:"addSubcontract/:id",component:lr},{path:"compdetails",component:ae},{path:"plantRegistration/history/:id",component:Yt},{path:"addCompanyInfo/:id",component:(Yr=function(){function t(r,i,n,o,a,l){e(this,t),this.fb=r,this.activatedRoute=i,this.subscript=n,this.spinner=o,this.router=a,this.licenceInfo=l,this.submitted=!1,this.date1=!1,this.kilometer1=!1,this.hours1=!1,this.companyRegister=!1,this.plantRegister=!1,this.insuranceRegister=!1,this.StatesData=[],this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100}}return r(t,[{key:"ngOnInit",value:function(){this.formData=this.fb.group({companyName:["",b.C.required],phone:["",b.C.required],fax:[""],emailAddress:["",b.C.required],streetAddress:["",b.C.required],subUrb:["",b.C.required],state:["",b.C.required],companyABN:["",b.C.required],companyAddr:["",b.C.required],licenceNumber:["",b.C.required],companyWeb:["",b.C.required],companyLogo:[""],plantArr:this.fb.array([]),plantSignature:[""],insuranceArr:this.fb.array([])}),this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.dataPlant=!0,this.patchData()):(this.dataPlant=!1,this.addEquipFiled2(),this.addInsuranceFiled2()),this.getAllStates()}},{key:"addEquip",value:function(){return this.formData.get("plantArr")}},{key:"getAllStates",value:function(){var e=this;this.licenceInfo.getAllStates().subscribe(function(t){console.log("setStatesDetails=>",t),e.StatesData=t.data})}},{key:"newEquipFiled2",value:function(){return this.fb.group({plantName:[""],checkedOut:[""],hours:[""],kilometres:[""],date:[""],make:[""],modelNumber:[""],registrationNumber:[""],registrationRenewalDate:[""],plantType:[""],purchaseDate:[""],insurancePolicyNumber:[""],insuranceExpiry:[""],fuelCardNumber:[""],ETagNumber:[""]})}},{key:"addEquipFiled2",value:function(){this.addEquip().push(this.newEquipFiled2()),console.log(this.formData.value)}},{key:"newEquipFiled3",value:function(e){return console.log("newData",e),this.fb.group({plantName:[e.plantName],checkedOut:[e.checkedOut],hours:[e.hours],kilometres:[e.kilometres],date:[e.date],make:[e.make],modelNumber:[e.modelNumber],registrationNumber:[e.registrationNumber],registrationRenewalDate:[e.registrationRenewalDate],plantType:[e.plantType],purchaseDate:[e.purchaseDate],insurancePolicyNumber:[e.insurancePolicyNumber],insuranceExpiry:[e.insuranceExpiry],fuelCardNumber:[e.fuelCardNumber],ETagNumber:[e.ETagNumber]})}},{key:"addEquipFiled3",value:function(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.formData.value)}},{key:"removeEquipFiled1",value:function(e){var t=this.formData.controls.plantArr;t.length>1&&t.removeAt(e)}},{key:"addInsurance",value:function(){return this.formData.get("insuranceArr")}},{key:"newInsuranceFiled2",value:function(){return this.fb.group({documentNumber:[""],documentType:[""],documentName:[""],thirdParty:[""],startDate:[""],expiryDate:[""],reminderNotice:[""]})}},{key:"addInsuranceFiled2",value:function(){this.addInsurance().push(this.newInsuranceFiled2()),console.log(this.formData.value)}},{key:"newInsurance",value:function(e){return this.fb.group({documentNumber:[e.documentNumber],documentType:[e.documentType],documentName:[e.documentName],thirdParty:[e.thirdParty],startDate:[e.startDate],expiryDate:[e.expiryDate],reminderNotice:[e.reminderNotice]})}},{key:"addInsurance2",value:function(e){this.addInsurance().push(this.newInsurance(e)),console.log(this.formData.value)}},{key:"removeInsuranceFiled1",value:function(e){var t=this.formData.controls.insuranceArr;t.length>1&&t.removeAt(e)}},{key:"registerFormControl",get:function(){return this.formData.controls}},{key:"browser2",value:function(e){var t=e.target.files[0];(new FormData).append("",t),console.log(t)}},{key:"drawStart",value:function(){console.log("begin drawing")}},{key:"drawComplete2",value:function(){this.formData.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}},{key:"clear2",value:function(){this.signaturePad2.clear()}},{key:"dateShow",value:function(){this.date1=!0,this.kilometer1=!1,this.hours1=!1}},{key:"kilometerShow",value:function(){this.date1=!1,this.kilometer1=!0,this.hours1=!1}},{key:"hoursShow",value:function(){this.date1=!1,this.kilometer1=!1,this.hours1=!0}},{key:"companyShow",value:function(){this.companyRegister=!0,this.plantRegister=!1,this.insuranceRegister=!1}},{key:"addPlantshow",value:function(){this.companyRegister=!1,this.plantRegister=!0,this.insuranceRegister=!1}},{key:"addInsuranceShow",value:function(){this.companyRegister=!1,this.plantRegister=!1,this.insuranceRegister=!0}},{key:"onFormSubmit",value:function(){var e=this;this.submitted=!0;var t=this.signaturePad2.toDataURL();console.log("this.EmployeeInfo.value",this.formData.value);var r={customerDetails:{companyName:this.formData.get("companyName").value,fax:this.formData.get("fax").value,phone:this.formData.get("phone").value,email:this.formData.get("emailAddress").value,streetAddress:this.formData.get("streetAddress").value,suburb:this.formData.get("subUrb").value,stateId:this.formData.get("state").value,companyABN:this.formData.get("companyABN").value,companyAddress:this.formData.get("companyAddr").value,licenceNumber:this.formData.get("licenceNumber").value,website:this.formData.get("companyWeb").value,companyLogo:this.formData.get("companyLogo").value},plantRegister:{plant:function(){e.addEquip();var t=[];return e.addEquip().controls.forEach(function(e){console.log("item",e),t.push({plantName:e.controls.plantName.value,checkedOut:e.controls.checkedOut.value,hours:e.controls.hours.value,kilometres:e.controls.kilometres.value,date:e.controls.date.value,make:e.controls.make.value,modelNumber:e.controls.modelNumber.value,registrationNumber:e.controls.registrationNumber.value,registrationRenewalDate:e.controls.registrationRenewalDate.value,plantType:e.controls.plantType.value,purchaseDate:e.controls.purchaseDate.value,insurancePolicyNumber:e.controls.insurancePolicyNumber.value,insuranceExpiry:e.controls.insuranceExpiry.value,fuelCardNumber:e.controls.fuelCardNumber.value,ETagNumber:e.controls.ETagNumber.value})}),t}(),signature:t},insuranceRegister:{insurance:function(){e.addInsurance();var t=[];return e.addInsurance().controls.forEach(function(e){console.log("item",e),t.push({documentNumber:e.controls.documentNumber.value,documentType:e.controls.documentType.value,documentName:e.controls.documentName.value,thirdParty:e.controls.thirdParty.value,startDate:e.controls.startDate.value,expiryDate:e.controls.expiryDate.value,reminderNotice:e.controls.reminderNotice.value})}),t}()}};console.log("body=>",r),this.subscript.addsubscription(r).subscribe(function(t){console.log("data=>",t),e.signaturePad2.toDataURL(),L.a.fire({title:"Company Detail Added successfully",showConfirmButton:!1,timer:1200}),e.router.navigate(["/admin/registration/compdetails"])},function(e){console.error(e)})}},{key:"patchData",value:function(){var e=this;this.subscript.getsubscription(this.id).subscribe(function(t){console.log("data=>",t),t.data.insuranceRegister.insurance.length>0?t.data.insuranceRegister.insurance.forEach(function(t){e.addInsurance2(t)}):e.addInsuranceFiled2(),t.data.plantRegister.plant.length>0?t.data.plantRegister.plant.forEach(function(t){e.addEquipFiled3(t)}):e.addEquipFiled2(),e.formData.patchValue({companyName:t.data.customerDetails.companyName,phone:t.data.customerDetails.phone,fax:t.data.customerDetails.fax,emailAddress:t.data.customerDetails.email,streetAddress:t.data.customerDetails.streetAddress,subUrb:t.data.customerDetails.suburb,state:t.data.customerDetails.stateId,companyABN:t.data.customerDetails.companyABN,companyAddr:t.data.customerDetails.companyAddress,licenceNumber:t.data.customerDetails.licenceNumber,companyWeb:t.data.customerDetails.website,companyLogo:t.data.customerDetails.companyLogo,plantName:t.data.plantRegister.plant.plantName,checkedOut:t.data.plantRegister.plant.checkedOut,hours:t.data.plantRegister.plant.hours,kilometres:t.data.plantRegister.plant.kilometres,date:t.data.plantRegister.plant.date,make:t.data.plantRegister.plant.make,modelNumber:t.data.plantRegister.plant.modelNumber,registrationNumber:t.data.plantRegister.plant.registrationNumber,registrationRenewalDate:t.data.plantRegister.plant.registrationRenewalDate,plantType:t.data.plantRegister.plant.plantType,purchaseDate:t.data.plantRegister.plant.purchaseDate,insurancePolicyNumber:t.data.plantRegister.plant.insurancePolicyNumber,insuranceExpiry:t.data.plantRegister.plant.insuranceExpiry,fuelCardNumber:t.data.plantRegister.plant.fuelCardNumber,ETagNumber:t.data.plantRegister.plant.ETagNumber,plantSignature:t.data.plantRegister.signature,documentNumber:t.data.insuranceRegister.insurance.documentNumber,documentType:t.data.insuranceRegister.insurance.documentType,documentName:t.data.insuranceRegister.insurance.documentName,thirdParty:t.data.insuranceRegister.insurance.thirdParty,startDate:t.data.insuranceRegister.insurance.startDate,expiryDate:t.data.insuranceRegister.insurance.expiryDate,reminderNotice:t.data.insuranceRegister.insurance.reminderNotice}),e.dataUrl2=t.data.plantRegister.signature,console.log("data.data.ppe.signature;",t.data.plantRegister.signature),Object(me.a)(e,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)})).then(function(r){console.log("this.signaturePad",e.signaturePad2,r),e.signaturePad2.fromDataURL(t.data.plantRegister.signature)})})}},{key:"onFormUpdate",value:function(e){var t=this,r=this.signaturePad2.toDataURL(),i={customerDetails:{companyName:this.formData.get("companyName").value,fax:this.formData.get("fax").value,phone:this.formData.get("phone").value,email:this.formData.get("emailAddress").value,streetAddress:this.formData.get("streetAddress").value,suburb:this.formData.get("subUrb").value,stateId:this.formData.get("state").value,companyABN:this.formData.get("companyABN").value,companyAddress:this.formData.get("companyAddr").value,licenceNumber:this.formData.get("licenceNumber").value,website:this.formData.get("companyWeb").value,companyLogo:this.formData.get("companyLogo").value},plantRegister:{plant:function(){t.addEquip();var e=[];return t.addEquip().controls.forEach(function(t){console.log("item",t),e.push({plantName:t.controls.plantName.value,checkedOut:t.controls.checkedOut.value,hours:t.controls.hours.value,kilometres:t.controls.kilometres.value,date:t.controls.date.value,make:t.controls.make.value,modelNumber:t.controls.modelNumber.value,registrationNumber:t.controls.registrationNumber.value,registrationRenewalDate:t.controls.registrationRenewalDate.value,plantType:t.controls.plantType.value,purchaseDate:t.controls.purchaseDate.value,insurancePolicyNumber:t.controls.insurancePolicyNumber.value,insuranceExpiry:t.controls.insuranceExpiry.value,fuelCardNumber:t.controls.fuelCardNumber.value,ETagNumber:t.controls.ETagNumber.value})}),e}(),signature:r},insuranceRegister:{insurance:function(){t.addInsurance();var e=[];return t.addInsurance().controls.forEach(function(t){console.log("item",t),e.push({documentNumber:t.controls.documentNumber.value,documentType:t.controls.documentType.value,documentName:t.controls.documentName.value,thirdParty:t.controls.thirdParty.value,startDate:t.controls.startDate.value,expiryDate:t.controls.expiryDate.value,reminderNotice:t.controls.reminderNotice.value})}),e}()}};this.subscript.editsubscription(this.id,i).subscribe(function(e){console.log("updateData",e),L.a.fire({title:"Company Detail Updated successfully",showConfirmButton:!1,timer:1200}),t.router.navigate(["/admin/registration/compdetails"])},function(e){console.error(e)})}}]),t}(),Yr.\u0275fac=function(e){return new(e||Yr)(s.Ob(b.f),s.Ob(p.a),s.Ob(_.a),s.Ob(f.c),s.Ob(p.f),s.Ob(u.a))},Yr.\u0275cmp=s.Ib({type:Yr,selectors:[["app-add-and-edit-company-info"]],viewQuery:function(e,t){var r;1&e&&s.Sc(xr,!0),2&e&&s.xc(r=s.fc())&&(t.signaturePad2=r.first)},decls:99,vars:41,consts:[[1,"container","card","px-4","py-4","bg-white"],[1,"text-center","mt-3","pt-3"],[1,"title"],[3,"formGroup"],["label","Company Details",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","phone",1,"form-control","inputData"],["type","text","formControlName","fax",1,"form-control"],["type","text","formControlName","emailAddress",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","subUrb",1,"form-control","inputData"],["aria-label","Default select example","formControlName","state",1,"form-select","form-control","col"],["selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","companyABN",1,"form-control"],["type","text","formControlName","companyAddr",1,"form-control","inputData"],["type","text","formControlName","licenceNumber",1,"form-control","inputData"],["type","text","formControlName","companyWeb",1,"form-control"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],["type","submit","class","btn btn-outline-primary btn_1 ml-2",3,"click",4,"ngIf"],["type","submit","class","btn btn-outline-primary btn_1 ml-2",3,"disabled","click",4,"ngIf"],["label","Plant Register",3,"click"],["formArrayName","plantArr",1,"mt-4"],[4,"ngFor","ngForOf"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature2",""],[1,"btn","btn-outline-primary","btn_1","ml-2",3,"click"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["type","submit","class","btn btn-outline-primary btn_1",3,"click",4,"ngIf"],["label","Insurance and contract register",3,"click"],["formArrayName","insuranceArr",1,"mt-4"],[1,"text-danger"],[3,"value"],["type","submit",1,"btn","btn-outline-primary","btn_1","ml-2",3,"click"],["type","submit",1,"btn","btn-outline-primary","btn_1","ml-2",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","plantName",1,"form-control"],["type","text","formControlName","checkedOut",1,"form-control"],["type","text","formControlName","make",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],[1,"row","container","col-12"],[1,"col-12"],[1,"text_2"],[1,"col-2","mt-2","ml-5"],["type","radio","value","Hours","name","nextService","id","inlineCheckbox1",1,"form-check-input","mr-1",3,"click"],["for","inlineCheckbox1",1,"form-label","label_2"],[1,"mt-2","col-2"],["type","radio","name","nextService","value","Kilometres","id","inlineCheckbox2",1,"form-check-input","mr-1",3,"click"],["for","inlineCheckbox2",1,"form-label","label_2"],["type","radio","name","nextService","value","Date","id","inlineCheckbox3",1,"form-check-input","mr-1",3,"click"],["for","inlineCheckbox3",1,"form-label","label_2"],["class","row col-12",4,"ngIf"],["type","text","formControlName","registrationNumber",1,"form-control"],["type","date","formControlName","registrationRenewalDate",1,"form-control"],["type","date","formControlName","purchaseDate",1,"form-control"],["type","text","formControlName","insurancePolicyNumber",1,"form-control"],["type","date","formControlName","insuranceExpiry",1,"form-control"],["type","text","formControlName","fuelCardNumber",1,"form-control"],["type","text","formControlName","ETagNumber",1,"form-control"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],[1,"row","col-12"],["type","date","formControlName","date",1,"form-control"],["type","text","formControlName","kilometres",1,"form-control"],["formControlName","hours",1,"form-control",3,"ngxMatTimepicker"],["timepicker",""],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"click"],["type","text","formControlName","documentNumber",1,"form-control"],["aria-label","Default select example","formControlName","documentType",1,"form-select","form-control"],["type","text","formControlName","documentName",1,"form-control"],["type","text","formControlName","thirdParty",1,"form-control"],["type","date","formControlName","startDate",1,"form-control"],["type","date","formControlName","expiryDate",1,"form-control"],["aria-label","Default select example","formControlName","reminderNotice",1,"form-select","form-control"]],template:function(e,t){1&e&&(s.Ub(0,"div",0),s.Ub(1,"h1",1),s.Ub(2,"p",2),s.Oc(3,"Company Details Preview"),s.Tb(),s.Tb(),s.Ub(4,"form",3),s.Ub(5,"mat-tab-group"),s.Ub(6,"mat-tab",4),s.ec("click",function(){return t.companyShow()}),s.Ub(7,"div",5),s.Ub(8,"div",6),s.Ub(9,"label",7),s.Oc(10," Company Name "),s.Tb(),s.Pb(11,"input",8),s.Mc(12,kr,2,0,"span",9),s.Tb(),s.Ub(13,"div",6),s.Ub(14,"label",7),s.Oc(15,"Phone"),s.Tb(),s.Pb(16,"input",10),s.Mc(17,wr,2,0,"span",9),s.Tb(),s.Ub(18,"div",6),s.Ub(19,"label",7),s.Oc(20,"Fax"),s.Tb(),s.Pb(21,"input",11),s.Tb(),s.Ub(22,"div",6),s.Ub(23,"label",7),s.Oc(24,"Email"),s.Tb(),s.Pb(25,"input",12),s.Mc(26,Fr,2,0,"span",9),s.Tb(),s.Tb(),s.Ub(27,"div",5),s.Ub(28,"div",6),s.Ub(29,"label",7),s.Oc(30," Street Address "),s.Tb(),s.Ub(31,"textarea",13),s.Oc(32,"\t\t\t\t\t\t"),s.Tb(),s.Mc(33,qr,2,0,"span",9),s.Tb(),s.Ub(34,"div",6),s.Ub(35,"label",7),s.Oc(36,"Suburb"),s.Tb(),s.Ub(37,"textarea",14),s.Oc(38,"\t\t\t\t\t\t"),s.Tb(),s.Mc(39,Sr,2,0,"span",9),s.Tb(),s.Ub(40,"div",6),s.Ub(41,"label",7),s.Oc(42,"State"),s.Tb(),s.Ub(43,"select",15),s.Ub(44,"option",16),s.Oc(45,"Select"),s.Tb(),s.Mc(46,Ar,2,2,"option",17),s.Tb(),s.Mc(47,Ir,2,0,"span",9),s.Tb(),s.Tb(),s.Ub(48,"div",5),s.Ub(49,"div",6),s.Ub(50,"label",7),s.Oc(51," Company ABN "),s.Tb(),s.Pb(52,"input",18),s.Mc(53,Mr,2,0,"span",9),s.Tb(),s.Ub(54,"div",6),s.Ub(55,"label",7),s.Oc(56," Company Address "),s.Tb(),s.Pb(57,"textarea",19),s.Mc(58,Br,2,0,"span",9),s.Tb(),s.Ub(59,"div",6),s.Ub(60,"label",7),s.Oc(61," Licence Number "),s.Tb(),s.Pb(62,"input",20),s.Mc(63,Rr,2,0,"span",9),s.Tb(),s.Ub(64,"div",6),s.Ub(65,"label",7),s.Oc(66,"Website"),s.Tb(),s.Pb(67,"input",21),s.Mc(68,Lr,2,0,"span",9),s.Tb(),s.Tb(),s.Ub(69,"div",22),s.Pb(70,"div",23),s.Ub(71,"div",24),s.Ub(72,"div",25),s.Ub(73,"label",26),s.Oc(74," Add Company Logo "),s.Tb(),s.Ub(75,"input",27),s.ec("change",function(e){return t.browser2(e)}),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(76,"div",5),s.Mc(77,_r,2,0,"button",28),s.Mc(78,jr,2,1,"button",29),s.Tb(),s.Tb(),s.Ub(79,"mat-tab",30),s.ec("click",function(){return t.addPlantshow()}),s.Ub(80,"div",31),s.Mc(81,Qr,74,4,"div",32),s.Tb(),s.Ub(82,"div",5),s.Ub(83,"div",33),s.Ub(84,"label"),s.Oc(85,"Signature"),s.Tb(),s.Ub(86,"div",34),s.Ub(87,"signature-pad",35,36),s.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),s.Tb(),s.Tb(),s.Tb(),s.Ub(89,"button",37),s.ec("click",function(){return t.clear2()}),s.Oc(90," Clear "),s.Tb(),s.Mc(91,zr,2,1,"button",38),s.Mc(92,$r,2,0,"button",39),s.Tb(),s.Tb(),s.Ub(93,"mat-tab",40),s.ec("click",function(){return t.addInsuranceShow()}),s.Ub(94,"div",41),s.Mc(95,Wr,51,1,"div",32),s.Tb(),s.Ub(96,"div",5),s.Mc(97,Kr,2,0,"button",28),s.Mc(98,Jr,2,1,"button",29),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&e&&(s.Bb(4),s.qc("formGroup",t.formData),s.Bb(7),s.Gb("is-invalid",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.phone.touched||t.submitted)&&(null==t.registerFormControl.phone.errors?null:t.registerFormControl.phone.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.phone.touched||t.submitted)&&(null==t.registerFormControl.phone.errors?null:t.registerFormControl.phone.errors.required)),s.Bb(8),s.Gb("is-invalid",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),s.Bb(5),s.Gb("is-invalid",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),s.Bb(2),s.qc("ngIf",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),s.Bb(2),s.qc("ngIf",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.state.touched||t.submitted)&&(null==t.registerFormControl.state.errors?null:t.registerFormControl.state.errors.required)),s.Bb(3),s.qc("ngForOf",t.StatesData),s.Bb(1),s.qc("ngIf",(t.registerFormControl.state.touched||t.submitted)&&(null==t.registerFormControl.state.errors?null:t.registerFormControl.state.errors.required)),s.Bb(5),s.Gb("is-invalid",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),s.Bb(4),s.Gb("is-invalid",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),s.Bb(1),s.qc("ngIf",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),s.Bb(9),s.qc("ngIf",t.dataPlant),s.Bb(1),s.qc("ngIf",!t.dataPlant),s.Bb(3),s.qc("ngForOf",t.addEquip().controls),s.Bb(6),s.qc("options",t.signaturePadOptions),s.Bb(4),s.qc("ngIf",!t.dataPlant),s.Bb(1),s.qc("ngIf",t.dataPlant),s.Bb(3),s.qc("ngForOf",t.addInsurance().controls),s.Bb(2),s.qc("ngIf",t.dataPlant),s.Bb(1),s.qc("ngIf",!t.dataPlant))},directives:[b.E,b.s,b.k,Ue.b,Ue.a,b.d,b.r,b.i,o.n,b.A,b.v,b.D,o.m,b.e,Ce.a,b.l,Er.a,Er.c],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),Yr)}],ti=((Xr=function t(){e(this,t)}).\u0275mod=s.Mb({type:Xr}),Xr.\u0275inj=s.Lb({factory:function(e){return new(e||Xr)},imports:[[p.j.forChild(ei)],p.j]}),Xr),ri=n("PCNd"),ii=n("x+4y"),ni=((Zr=function t(){e(this,t)}).\u0275mod=s.Mb({type:Zr}),Zr.\u0275inj=s.Lb({factory:function(e){return new(e||Zr)},imports:[[o.c,ti,b.m,b.y,Ce.b,a.m,ri.a,ii.a,mt.a,Er.b],o.c,ti,b.m,b.y,Ce.b,a.m,ri.a,ii.a,mt.a,Er.b]}),Zr)}}])}();