(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{QX5w:function(t,e,i){"use strict";i.r(e),i.d(e,"SavedFormsModule",function(){return I});var n=i("SVse"),a=i("LUZP"),o=i("OaSA"),r=i("8Y7J"),s=i("KFfU"),c=i("7g+E"),l=i("zXlT"),m=i("iInd"),d=i("5QHs"),p=i("ZFy/");function b(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1," Form Id "),r.Tb())}function f(t,e){if(1&t&&(r.Ub(0,"td",16),r.Oc(1),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Pc(t.formId)}}function u(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1,"Form Name "),r.Tb())}function h(t,e){1&t&&(r.Ub(0,"td",16),r.Oc(1,"Form Name"),r.Tb())}function g(t,e){1&t&&(r.Ub(0,"th",17),r.Oc(1,"Form Type"),r.Tb())}function w(t,e){if(1&t&&(r.Ub(0,"td",16),r.Oc(1),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Pc(t.fileType)}}function T(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1,"Created Date"),r.Tb())}function S(t,e){if(1&t&&(r.Ub(0,"td",16),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,t.createdAt,"mediumDate")," ")}}function y(t,e){1&t&&(r.Ub(0,"th",15),r.Oc(1,"Updated Date"),r.Tb())}function C(t,e){if(1&t&&(r.Ub(0,"td",16),r.Oc(1),r.jc(2,"date"),r.Tb()),2&t){const t=e.$implicit;r.Bb(1),r.Qc(" ",r.lc(2,1,t.updatedAt,"mediumDate")," ")}}function O(t,e){1&t&&(r.Ub(0,"th",17),r.Oc(1," Action "),r.Tb())}function v(t,e){if(1&t){const t=r.Vb();r.Ub(0,"td",16),r.Ub(1,"div",18),r.Ub(2,"span",19),r.ec("click",function(){r.Cc(t);const i=e.$implicit;return r.ic().edit(i._id,i.fileType)}),r.Oc(3," edit "),r.Tb(),r.Ub(4,"span",20),r.ec("click",function(){r.Cc(t);const i=e.$implicit;return r.ic().printPage(i._id,i.fileType)}),r.Oc(5," print "),r.Tb(),r.Tb(),r.Tb()}}function M(t,e){1&t&&r.Pb(0,"tr",21)}function D(t,e){1&t&&r.Pb(0,"tr",22)}const U=function(){return[5,10,20,30]},k=[{path:"",component:(()=>{class t{constructor(t,e,i,n){this.forms=t,this.spinner=e,this.shared=i,this.router=n,this.displayedColumns=["formId","Phone","Email","Site","Action"]}ngOnInit(){this.getSavedforms()}getSavedforms(t=1,e=5){this.forms.getAllSavedForms(t,e).subscribe(t=>{this.showDatas=t.data,this.totalCount=t.totalCount,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new o.l(this.showDatas),this.tempArray.sort=this.sort,console.log("get res",this.showDatas)})}edit(t,e){let i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/admin/forms/hazardRep/"+t],i):"Incident"==e?this.router.navigate(["/admin/forms/incidentRep/"+t],i):"Site Inspection"==e?this.router.navigate(["/admin/forms/siteInspect/"+t],i):"Tool Box"==e?this.router.navigate(["/admin/forms/toolboxTalk/"+t],i):"Risk Assessment"==e&&this.router.navigate(["/admin/forms/riskAssessSWMS/"+t],i)}printPage(t,e){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader");let i={queryParams:{formType:e.toString()}};"Hazard"==e?this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}],i):"Incident"==e?this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}],i):"Site Inspection"==e?this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}],i):"Tool Box"==e?this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}],i):"Risk Assessment"==e&&this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}],i)}paginator(t){this.getSavedforms(t.pageIndex+1,t.pageSize)}}return t.\u0275fac=function(e){return new(e||t)(r.Ob(s.a),r.Ob(c.c),r.Ob(l.a),r.Ob(m.f))},t.\u0275cmp=r.Ib({type:t,selectors:[["app-saved-forms"]],viewQuery:function(t,e){if(1&t&&r.Sc(a.a,!0),2&t){let t;r.xc(t=r.fc())&&(e.sort=t.first)}},decls:26,vars:6,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","formId"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","Phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions","length","page"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(r.Ub(0,"div",0),r.Ub(1,"h1"),r.Oc(2," All Saved Forms Table"),r.Tb(),r.Tb(),r.Ub(3,"div",1),r.Ub(4,"table",2),r.Sb(5,3),r.Mc(6,b,2,0,"th",4),r.Mc(7,f,2,1,"td",5),r.Rb(),r.Sb(8,6),r.Mc(9,u,2,0,"th",4),r.Mc(10,h,2,0,"td",5),r.Rb(),r.Sb(11,7),r.Mc(12,g,2,0,"th",8),r.Mc(13,w,2,1,"td",5),r.Rb(),r.Sb(14,9),r.Mc(15,T,2,0,"th",4),r.Mc(16,S,3,4,"td",5),r.Rb(),r.Sb(17,10),r.Mc(18,y,2,0,"th",4),r.Mc(19,C,3,4,"td",5),r.Rb(),r.Sb(20,11),r.Mc(21,O,2,0,"th",8),r.Mc(22,v,6,0,"td",5),r.Rb(),r.Mc(23,M,1,0,"tr",12),r.Mc(24,D,1,0,"tr",13),r.Tb(),r.Ub(25,"mat-paginator",14),r.ec("page",function(t){return e.paginator(t)}),r.Tb(),r.Tb()),2&t&&(r.Bb(4),r.qc("dataSource",e.tempArray),r.Bb(19),r.qc("matHeaderRowDef",e.displayedColumns),r.Bb(1),r.qc("matRowDefColumns",e.displayedColumns),r.Bb(1),r.qc("pageSizeOptions",r.tc(5,U))("length",e.totalCount))},directives:[o.k,a.a,o.c,o.e,o.b,o.g,o.j,d.a,o.d,a.b,o.a,p.a,o.f,o.i],pipes:[n.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[m.j.forChild(k)],m.j]}),t})();var R=i("PCNd");let I=(()=>{class t{}return t.\u0275mod=r.Mb({type:t}),t.\u0275inj=r.Lb({factory:function(e){return new(e||t)},imports:[[n.c,R.a,P]]}),t})()}}]);