(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{m7j2:function(t,e,n){"use strict";n.r(e),n.d(e,"StateRelModule",function(){return Ie});var a=n("ofXK"),i=n("M9IT"),l=n("Dh3D"),o=n("+0xr"),r=n("PSD3"),s=n.n(r),c=n("3Pt+"),d=n("0IaG"),m=n("fXoL"),u=n("wbBK"),f=n("kmnG"),p=n("qFsG"),h=n("bTqV");function g(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Add Regulator"),m["\u0275\u0275elementEnd"]())}function S(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Edit Regulator"),m["\u0275\u0275elementEnd"]())}function b(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().onFormSubmit()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}function E(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().addForm()}),m["\u0275\u0275text"](1," Add "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}let C=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.dialogRef=n,this.data=a,this.dataRec=a}ngOnInit(){this.editTitle=this.fb.group({title:[this.dataRec.title,c.C.required]})}onFormSubmit(){const t={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateRegulator(t,this.dataRec._id).subscribe(t=>{console.log("updateRegulator",t),this.dialogRef.close("true"),s.a.fire({title:"Regulator Edited successfully",showConfirmButton:!1,timer:1200})})}addForm(){const t={title:this.editTitle.get("title").value};this.logicalFormInfo.addRegulator(t).subscribe(t=>{console.log("addRegulator",t),this.dialogRef.close("true"),s.a.fire(this.dataRec?{title:"Regulator Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Regulator Added successfully",showConfirmButton:!1,timer:1200})})}closeDialog(){this.dialogRef.close("false")}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.f),m["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-and-edit-reg"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275template"](1,g,2,0,"h2",1),m["\u0275\u0275template"](2,S,2,0,"h2",1),m["\u0275\u0275elementStart"](3,"mat-form-field",2),m["\u0275\u0275element"](4,"input",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",4),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"button",6),m["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),m["\u0275\u0275text"](8,"Close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275template"](10,b,2,1,"button",8),m["\u0275\u0275template"](11,E,2,1,"button",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("formGroup",e.editTitle),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[c.E,c.s,c.k,a.n,f.c,p.b,c.d,c.r,c.i,h.a],styles:[""]}),t})();var y=n("yZxC"),v=n("NFeN"),w=n("Qu3c");function x(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function I(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function A(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function R(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.title)}}function D(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",18),m["\u0275\u0275text"](1,"Action"),m["\u0275\u0275elementEnd"]())}function F(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275elementStart"](1,"button",19),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().edit(n)}),m["\u0275\u0275elementStart"](2,"mat-icon",20),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().delete(n)}),m["\u0275\u0275elementStart"](5,"mat-icon",22),m["\u0275\u0275text"](6,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function T(t,e){1&t&&m["\u0275\u0275element"](0,"tr",23)}function k(t,e){1&t&&m["\u0275\u0275element"](0,"tr",24)}function j(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"tr",25),m["\u0275\u0275elementStart"](1,"td",26),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}const O=function(){return[20]};let L=(()=>{class t{constructor(t,e,n){this.logicalFormInfo=t,this.setTitle=e,this.dialog=n,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllRegulator(),this.setTitle.setTitle("WHS-Regulator List")}getAllRegulator(t="",e=""){this.logicalFormInfo.getAllRegulator(t,e).subscribe(t=>{console.log("getAllRegulator=>",t);const e=t.data;e.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=e,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(t){this.dialog.open(C,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllRegulator(),console.log("The dialog was closed")})}delete(t){s.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteRegulator(t._id).subscribe(t=>{s.a.fire({title:"Regulator Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllRegulator()})})}sortData(t){this.getAllRegulator(t.active,t.direction)}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](d.b))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-regulator"]],viewQuery:function(t,e){if(1&t&&(m["\u0275\u0275viewQuery"](i.a,!0),m["\u0275\u0275viewQuery"](l.a,!0)),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1"),m["\u0275\u0275text"](2,"Regulator List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",function(){return e.edit("")}),m["\u0275\u0275element"](5,"i",3),m["\u0275\u0275text"](6,"Add Regulator "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",4),m["\u0275\u0275elementStart"](8,"table",5),m["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),m["\u0275\u0275elementContainerStart"](9,6),m["\u0275\u0275template"](10,x,2,0,"th",7),m["\u0275\u0275template"](11,I,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,9),m["\u0275\u0275template"](13,A,2,0,"th",7),m["\u0275\u0275template"](14,R,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,10),m["\u0275\u0275template"](16,D,2,0,"th",11),m["\u0275\u0275template"](17,F,7,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](18,T,1,0,"tr",12),m["\u0275\u0275template"](19,k,1,0,"tr",13),m["\u0275\u0275template"](20,j,3,0,"tr",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](21,"mat-paginator",15),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,O)))},directives:[o.k,l.a,o.c,o.e,o.b,o.g,o.j,o.h,i.a,o.d,l.b,o.a,h.a,v.a,w.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();function _(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Add Safety Legislation"),m["\u0275\u0275elementEnd"]())}function B(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Edit Safety Legislation"),m["\u0275\u0275elementEnd"]())}function N(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",10),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().onFormSubmit()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}function V(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",10),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().addForm()}),m["\u0275\u0275text"](1," Add "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}let P=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.dialogRef=n,this.data=a,this.dataRec=a}ngOnInit(){this.editTitle=this.fb.group({act:[this.dataRec.act,c.C.required],regulation:[this.dataRec.regulation,c.C.required]})}onFormSubmit(){const t={act:this.editTitle.get("act").value,regulation:this.editTitle.get("regulation").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateSafety(t,this.dataRec._id).subscribe(t=>{console.log("SafetyLegislation",t),this.dialogRef.close("true"),s.a.fire({title:"Safety Legislation Edited successfully",showConfirmButton:!1,timer:1200})})}addForm(){const t={act:this.editTitle.get("act").value,regulation:this.editTitle.get("regulation").value};this.logicalFormInfo.addSafety(t).subscribe(t=>{console.log("SafetyLegislation",t),this.dialogRef.close("true"),s.a.fire(this.dataRec?{title:"Safety Legislation Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Safety Legislation Added successfully",showConfirmButton:!1,timer:1200})})}closeDialog(){this.dialogRef.close("false")}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.f),m["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-and-edit-safety"]],decls:14,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","placeholder","Act","formControlName","act"],["matInput","","placeholder","Regulation","formControlName","regulation"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275template"](1,_,2,0,"h2",1),m["\u0275\u0275template"](2,B,2,0,"h2",1),m["\u0275\u0275elementStart"](3,"mat-form-field",2),m["\u0275\u0275element"](4,"input",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"mat-form-field",2),m["\u0275\u0275element"](6,"input",4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",5),m["\u0275\u0275elementStart"](8,"div",6),m["\u0275\u0275elementStart"](9,"button",7),m["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),m["\u0275\u0275text"](10,"Close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",8),m["\u0275\u0275template"](12,N,2,1,"button",9),m["\u0275\u0275template"](13,V,2,1,"button",9),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("formGroup",e.editTitle),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[c.E,c.s,c.k,a.n,f.c,p.b,c.d,c.r,c.i,h.a],styles:[""]}),t})();function J(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",17),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function M(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",18),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function $(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",17),m["\u0275\u0275text"](1,"Act"),m["\u0275\u0275elementEnd"]())}function Q(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",18),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.act)}}function q(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Regulation"),m["\u0275\u0275elementEnd"]())}function H(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",18),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.regulation)}}function G(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",19),m["\u0275\u0275text"](1,"Action"),m["\u0275\u0275elementEnd"]())}function z(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",18),m["\u0275\u0275elementStart"](1,"button",20),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().edit(n)}),m["\u0275\u0275elementStart"](2,"mat-icon",21),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",22),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().delete(n)}),m["\u0275\u0275elementStart"](5,"mat-icon",23),m["\u0275\u0275text"](6,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function U(t,e){1&t&&m["\u0275\u0275element"](0,"tr",24)}function W(t,e){1&t&&m["\u0275\u0275element"](0,"tr",25)}function Y(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"tr",26),m["\u0275\u0275elementStart"](1,"td",27),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}const K=function(){return[20]};let X=(()=>{class t{constructor(t,e,n){this.logicalFormInfo=t,this.setTitle=e,this.dialog=n,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","act","regulation","action"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllSafetyReg(),this.setTitle.setTitle("WHS-Safety Legislation List")}getAllSafetyReg(t="",e=""){this.logicalFormInfo.getAllSafety(t,e).subscribe(t=>{console.log("getAllRegulator=>",t);const e=t.data;e.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=e,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(t){this.dialog.open(P,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllSafetyReg(),console.log("The dialog was closed")})}delete(t){s.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.act}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteSafety(t._id).subscribe(t=>{s.a.fire({title:"Safety Legislation Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllSafetyReg()})})}sortData(t){this.getAllSafetyReg(t.active,t.direction)}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](d.b))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-safety-legislation"]],viewQuery:function(t,e){if(1&t&&(m["\u0275\u0275viewQuery"](i.a,!0),m["\u0275\u0275viewQuery"](l.a,!0)),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:25,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","act"],["matColumnDef","regulation"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1"),m["\u0275\u0275text"](2,"Safety Legislation List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",function(){return e.edit("")}),m["\u0275\u0275element"](5,"i",3),m["\u0275\u0275text"](6,"Add Regulator "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",4),m["\u0275\u0275elementStart"](8,"table",5),m["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),m["\u0275\u0275elementContainerStart"](9,6),m["\u0275\u0275template"](10,J,2,0,"th",7),m["\u0275\u0275template"](11,M,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,9),m["\u0275\u0275template"](13,$,2,0,"th",7),m["\u0275\u0275template"](14,Q,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,10),m["\u0275\u0275template"](16,q,2,0,"th",11),m["\u0275\u0275template"](17,H,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](18,12),m["\u0275\u0275template"](19,G,2,0,"th",11),m["\u0275\u0275template"](20,z,7,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](21,U,1,0,"tr",13),m["\u0275\u0275template"](22,W,1,0,"tr",14),m["\u0275\u0275template"](23,Y,3,0,"tr",15),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](24,"mat-paginator",16),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](13),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,K)))},directives:[o.k,l.a,o.c,o.e,o.b,o.g,o.j,o.h,i.a,o.d,l.b,o.a,h.a,v.a,w.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();function Z(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Add Jurisdiction"),m["\u0275\u0275elementEnd"]())}function tt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Edit Jurisdiction"),m["\u0275\u0275elementEnd"]())}function et(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().onFormSubmit()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}function nt(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().addForm()}),m["\u0275\u0275text"](1," Add "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}let at=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.dialogRef=n,this.data=a,this.dataRec=a}ngOnInit(){this.editTitle=this.fb.group({title:[this.dataRec.title,c.C.required]})}onFormSubmit(){const t={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateJurisdiction(t,this.dataRec._id).subscribe(t=>{console.log("addJurisdiction",t),this.dialogRef.close("true"),s.a.fire({title:"Jurisdiction Edited successfully",showConfirmButton:!1,timer:1200})})}addForm(){const t={title:this.editTitle.get("title").value};this.logicalFormInfo.addJurisdiction(t).subscribe(t=>{console.log("addRegulator",t),this.dialogRef.close("true"),s.a.fire(this.dataRec?{title:"Jurisdiction Edited successfully",showConfirmButton:!1,timer:1200}:{title:"Jurisdiction Added successfully",showConfirmButton:!1,timer:1200})})}closeDialog(){this.dialogRef.close("false")}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.f),m["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-and-edit-juri"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275template"](1,Z,2,0,"h2",1),m["\u0275\u0275template"](2,tt,2,0,"h2",1),m["\u0275\u0275elementStart"](3,"mat-form-field",2),m["\u0275\u0275element"](4,"input",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",4),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"button",6),m["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),m["\u0275\u0275text"](8,"Close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275template"](10,et,2,1,"button",8),m["\u0275\u0275template"](11,nt,2,1,"button",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("formGroup",e.editTitle),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[c.E,c.s,c.k,a.n,f.c,p.b,c.d,c.r,c.i,h.a],styles:[""]}),t})();function it(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function lt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function ot(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function rt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.title)}}function st(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",18),m["\u0275\u0275text"](1,"Action"),m["\u0275\u0275elementEnd"]())}function ct(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275elementStart"](1,"button",19),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().edit(n)}),m["\u0275\u0275elementStart"](2,"mat-icon",20),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().delete(n)}),m["\u0275\u0275elementStart"](5,"mat-icon",22),m["\u0275\u0275text"](6,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function dt(t,e){1&t&&m["\u0275\u0275element"](0,"tr",23)}function mt(t,e){1&t&&m["\u0275\u0275element"](0,"tr",24)}function ut(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"tr",25),m["\u0275\u0275elementStart"](1,"td",26),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}const ft=function(){return[20]};let pt=(()=>{class t{constructor(t,e,n){this.logicalFormInfo=t,this.setTitle=e,this.dialog=n,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllJurisdiction(),this.setTitle.setTitle("WHS-Jurisdiction List")}getAllJurisdiction(t="",e=""){this.logicalFormInfo.getAllJurisdiction(t,e).subscribe(t=>{console.log("getAllJurisdiction=>",t);const e=t.data;e.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=e,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(t){this.dialog.open(at,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllJurisdiction(),console.log("The dialog was closed")})}delete(t){s.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteJurisdiction(t._id).subscribe(t=>{s.a.fire({title:"Jurisdiction Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllJurisdiction()})})}sortData(t){this.getAllJurisdiction(t.active,t.direction)}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](d.b))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-juridiction"]],viewQuery:function(t,e){if(1&t&&(m["\u0275\u0275viewQuery"](i.a,!0),m["\u0275\u0275viewQuery"](l.a,!0)),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit Juri"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete Juri"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1"),m["\u0275\u0275text"](2,"Jurisdiction List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",function(){return e.edit("")}),m["\u0275\u0275element"](5,"i",3),m["\u0275\u0275text"](6,"Add Jurisdiction "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",4),m["\u0275\u0275elementStart"](8,"table",5),m["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),m["\u0275\u0275elementContainerStart"](9,6),m["\u0275\u0275template"](10,it,2,0,"th",7),m["\u0275\u0275template"](11,lt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,9),m["\u0275\u0275template"](13,ot,2,0,"th",7),m["\u0275\u0275template"](14,rt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,10),m["\u0275\u0275template"](16,st,2,0,"th",11),m["\u0275\u0275template"](17,ct,7,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](18,dt,1,0,"tr",12),m["\u0275\u0275template"](19,mt,1,0,"tr",13),m["\u0275\u0275template"](20,ut,3,0,"tr",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](21,"mat-paginator",15),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,ft)))},directives:[o.k,l.a,o.c,o.e,o.b,o.g,o.j,o.h,i.a,o.d,l.b,o.a,h.a,v.a,w.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();var ht=n("tyNb");function gt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Add Code Of Practice"),m["\u0275\u0275elementEnd"]())}function St(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Edit Code Of Practice"),m["\u0275\u0275elementEnd"]())}function bt(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().onFormSubmit()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}function Et(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().addForm()}),m["\u0275\u0275text"](1," Add "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}let Ct=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.dialogRef=n,this.data=a,this.dataRec=a}ngOnInit(){this.editTitle=this.fb.group({title:[this.dataRec.title,c.C.required]})}onFormSubmit(){const t={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateCode(t,this.dataRec._id).subscribe(t=>{console.log("updateCOP",t),this.dialogRef.close("true"),s.a.fire({title:"COP Edited successfully",showConfirmButton:!1,timer:1200})})}addForm(){const t={title:this.editTitle.get("title").value};this.logicalFormInfo.addCode(t).subscribe(t=>{console.log("addCOP",t),this.dialogRef.close("true"),s.a.fire(this.dataRec?{title:"COP Edited successfully",showConfirmButton:!1,timer:1200}:{title:"COP Added successfully",showConfirmButton:!1,timer:1200})})}closeDialog(){this.dialogRef.close("false")}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.f),m["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-and-edit-code"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275template"](1,gt,2,0,"h2",1),m["\u0275\u0275template"](2,St,2,0,"h2",1),m["\u0275\u0275elementStart"](3,"mat-form-field",2),m["\u0275\u0275element"](4,"input",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",4),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"button",6),m["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),m["\u0275\u0275text"](8,"Close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275template"](10,bt,2,1,"button",8),m["\u0275\u0275template"](11,Et,2,1,"button",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("formGroup",e.editTitle),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[c.E,c.s,c.k,a.n,f.c,p.b,c.d,c.r,c.i,h.a],styles:[""]}),t})();function yt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",14),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function vt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",15),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function wt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",14),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function xt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",15),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.title)}}function It(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",14),m["\u0275\u0275text"](1,"Action"),m["\u0275\u0275elementEnd"]())}function At(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",15),m["\u0275\u0275elementStart"](1,"button",16),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().edit(n)}),m["\u0275\u0275elementStart"](2,"mat-icon"),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",17),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().delete(n)}),m["\u0275\u0275elementStart"](5,"mat-icon"),m["\u0275\u0275text"](6,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function Rt(t,e){1&t&&m["\u0275\u0275element"](0,"tr",18)}function Dt(t,e){1&t&&m["\u0275\u0275element"](0,"tr",19)}const Ft=function(){return[20]};let Tt=(()=>{class t{constructor(t,e){this.logicalFormInfo=t,this.dialog=e,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllCode()}getAllCode(){this.logicalFormInfo.getAllCode().subscribe(t=>{console.log("getAllCode=>",t);const e=t.data;e.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=e,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(t){this.dialog.open(Ct,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllCode(),console.log("The dialog was closed")})}delete(t){s.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteCode(t._id).subscribe(t=>{s.a.fire({title:"COP Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllCode()})})}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.b))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-code-of-pract"]],viewQuery:function(t,e){if(1&t&&m["\u0275\u0275viewQuery"](i.a,!0),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first)}},decls:21,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1"),m["\u0275\u0275text"](2,"Code Of Practice List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",function(){return e.edit("")}),m["\u0275\u0275element"](5,"i",3),m["\u0275\u0275text"](6,"Add Code Of Practice "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",4),m["\u0275\u0275elementStart"](8,"table",5),m["\u0275\u0275elementContainerStart"](9,6),m["\u0275\u0275template"](10,yt,2,0,"th",7),m["\u0275\u0275template"](11,vt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,9),m["\u0275\u0275template"](13,wt,2,0,"th",7),m["\u0275\u0275template"](14,xt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,10),m["\u0275\u0275template"](16,It,2,0,"th",7),m["\u0275\u0275template"](17,At,7,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](18,Rt,1,0,"tr",11),m["\u0275\u0275template"](19,Dt,1,0,"tr",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](20,"mat-paginator",13),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,Ft)))},directives:[o.k,o.c,o.e,o.b,o.g,o.j,i.a,o.d,o.a,h.a,v.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();function kt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Add States"),m["\u0275\u0275elementEnd"]())}function jt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2"),m["\u0275\u0275text"](1,"Edit States"),m["\u0275\u0275elementEnd"]())}function Ot(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().onFormSubmit()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}function Lt(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",9),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().addForm()}),m["\u0275\u0275text"](1," Add "),m["\u0275\u0275elementEnd"]()}if(2&t){const t=m["\u0275\u0275nextContext"]();m["\u0275\u0275property"]("disabled",!t.editTitle.valid)}}let _t=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.dialogRef=n,this.data=a,this.dataRec=a}ngOnInit(){this.editTitle=this.fb.group({title:[this.dataRec.title,c.C.required]})}onFormSubmit(){const t={title:this.editTitle.get("title").value,componentId:this.dataRec.componentId};this.logicalFormInfo.updateStates(t,this.dataRec._id).subscribe(t=>{console.log("updateStates",t),this.dialogRef.close("true"),s.a.fire({title:"States Edited successfully",showConfirmButton:!1,timer:1200})})}addForm(){const t={title:this.editTitle.get("title").value};this.logicalFormInfo.addStates(t).subscribe(t=>{console.log("addStates",t),this.dialogRef.close("true"),s.a.fire(this.dataRec?{title:"States Edited successfully",showConfirmButton:!1,timer:1200}:{title:"States Added successfully",showConfirmButton:!1,timer:1200})})}closeDialog(){this.dialogRef.close("false")}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](d.f),m["\u0275\u0275directiveInject"](d.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-and-edit-states"]],decls:12,vars:5,consts:[[3,"formGroup"],[4,"ngIf"],["appearance","legacy",1,"example-full-width",2,"width","498px"],["matInput","","formControlName","title"],[1,"row"],[1,"col-sm-2","offset-8"],["mat-raised-button","",3,"click"],[1,"col-sm-2"],["mat-raised-button","",3,"disabled","click",4,"ngIf"],["mat-raised-button","",3,"disabled","click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"form",0),m["\u0275\u0275template"](1,kt,2,0,"h2",1),m["\u0275\u0275template"](2,jt,2,0,"h2",1),m["\u0275\u0275elementStart"](3,"mat-form-field",2),m["\u0275\u0275element"](4,"input",3),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",4),m["\u0275\u0275elementStart"](6,"div",5),m["\u0275\u0275elementStart"](7,"button",6),m["\u0275\u0275listener"]("click",function(){return e.closeDialog()}),m["\u0275\u0275text"](8,"Close"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](9,"div",7),m["\u0275\u0275template"](10,Ot,2,1,"button",8),m["\u0275\u0275template"](11,Lt,2,1,"button",8),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("formGroup",e.editTitle),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("ngIf",e.dataRec),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!e.dataRec))},directives:[c.E,c.s,c.k,a.n,f.c,p.b,c.d,c.r,c.i,h.a],styles:[""]}),t})();function Bt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function Nt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function Vt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function Pt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.title)}}function Jt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",18),m["\u0275\u0275text"](1,"Action"),m["\u0275\u0275elementEnd"]())}function Mt(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275elementStart"](1,"button",19),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().edit(n)}),m["\u0275\u0275elementStart"](2,"mat-icon",20),m["\u0275\u0275text"](3,"edit"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"button",21),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().delete(n)}),m["\u0275\u0275elementStart"](5,"mat-icon",22),m["\u0275\u0275text"](6,"delete"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()}}function $t(t,e){1&t&&m["\u0275\u0275element"](0,"tr",23)}function Qt(t,e){1&t&&m["\u0275\u0275element"](0,"tr",24)}function qt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"tr",25),m["\u0275\u0275elementStart"](1,"td",26),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}const Ht=function(){return[20]};let Gt=(()=>{class t{constructor(t,e,n){this.logicalFormInfo=t,this.setTitle=e,this.dialog=n,this.regData=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","action"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllStates(),this.setTitle.setTitle("WHS-States List")}getAllStates(){this.logicalFormInfo.getAllStates().subscribe(t=>{console.log("getAllStates=>",t);const e=t.data;e.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=e,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}edit(t){this.dialog.open(_t,{width:"550px",data:t}).afterClosed().subscribe(t=>{"true"==t&&this.getAllStates(),console.log("The dialog was closed")})}delete(t){s.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.title}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteStates(t._id).subscribe(t=>{s.a.fire({title:"States Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllStates()})})}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](d.b))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-states"]],viewQuery:function(t,e){if(1&t&&(m["\u0275\u0275viewQuery"](i.a,!0),m["\u0275\u0275viewQuery"](l.a,!0)),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:22,vars:5,consts:[[1,"col","ml-2","pt-1"],[1,"col","ml-2","mb-2"],[1,"btn","btn-outline-primary","mt-1","mr-2","float-right",3,"click"],[1,"fas","fa-folder-plus","mr-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit State"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete State"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275elementStart"](1,"h1"),m["\u0275\u0275text"](2,"States List"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](3,"div",1),m["\u0275\u0275elementStart"](4,"button",2),m["\u0275\u0275listener"]("click",function(){return e.edit("")}),m["\u0275\u0275element"](5,"i",3),m["\u0275\u0275text"](6,"Add States "),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](7,"div",4),m["\u0275\u0275elementStart"](8,"table",5),m["\u0275\u0275elementContainerStart"](9,6),m["\u0275\u0275template"](10,Bt,2,0,"th",7),m["\u0275\u0275template"](11,Nt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](12,9),m["\u0275\u0275template"](13,Vt,2,0,"th",7),m["\u0275\u0275template"](14,Pt,2,1,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](15,10),m["\u0275\u0275template"](16,Jt,2,0,"th",11),m["\u0275\u0275template"](17,Mt,7,0,"td",8),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](18,$t,1,0,"tr",12),m["\u0275\u0275template"](19,Qt,1,0,"tr",13),m["\u0275\u0275template"](20,qt,3,0,"tr",14),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](21,"mat-paginator",15),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](8),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,Ht)))},directives:[o.k,l.a,o.c,o.e,o.b,o.g,o.j,o.h,i.a,o.d,l.b,o.a,h.a,v.a,w.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();const zt=["risk"];function Ut(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",14),m["\u0275\u0275text"](1,"No."),m["\u0275\u0275elementEnd"]())}function Wt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",15),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.index)}}function Yt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",14),m["\u0275\u0275text"](1,"Name"),m["\u0275\u0275elementEnd"]())}function Kt(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"td",15),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate"](t.title)}}function Xt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"th",16),m["\u0275\u0275text"](1,"Set"),m["\u0275\u0275elementEnd"]())}function Zt(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"button",19),m["\u0275\u0275text"](1," Set "),m["\u0275\u0275elementEnd"]())}function te(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"button",19),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]())}function ee(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"td",17),m["\u0275\u0275listener"]("click",function(){m["\u0275\u0275restoreView"](t);const n=e.$implicit;return m["\u0275\u0275nextContext"]().setRelation_2(n._id)}),m["\u0275\u0275template"](1,Zt,2,0,"button",18),m["\u0275\u0275template"](2,te,2,0,"button",18),m["\u0275\u0275elementEnd"]()}if(2&t){const t=e.$implicit;m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",!t.set),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",t.set)}}function ne(t,e){1&t&&m["\u0275\u0275element"](0,"tr",20)}function ae(t,e){1&t&&m["\u0275\u0275element"](0,"tr",21)}function ie(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"tr",22),m["\u0275\u0275elementStart"](1,"td",23),m["\u0275\u0275text"](2,"Data Not Found"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]())}const le=function(){return[20]};let oe=(()=>{class t{constructor(t,e,n,a){this.fb=t,this.logicalFormInfo=e,this.setTitle=n,this.router=a,this.StatesData=[],this.Jurisdiction=[],this.COP=[],this.SafetyData=[],this.regulator=[],this.ELEMENT_DATA=[],this.displayedColumns=["index","title","edit"],this.dataSource=new o.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.setTitle.setTitle("WHS-Set States Relation"),this.setStatesDetail=this.fb.group({jurisdiction:this.fb.array([]),safe:this.fb.array([]),COP:this.fb.array([]),regulator:this.fb.array([])}),this.getStates()}addActionJurisdiction(){this.jurisdictionFA().push(this.jurisdictionFG())}addActionCOP(){this.COP_FA().push(this.COP_FG())}addActionSafety(){this.safetyFA().push(this.safetyFG())}addActionRegulator(){this.regulatorFA().push(this.regulatorFG())}jurisdictionFA(){return this.setStatesDetail.get("jurisdiction")}COP_FA(){return this.setStatesDetail.get(" COP")}safetyFA(){return this.setStatesDetail.get("safety")}regulatorFA(){return this.setStatesDetail.get("regulator")}jurisdictionFG(){return this.fb.group({jurisdictionkArr:[""]})}COP_FG(){return this.fb.group({ppeArr:[""]})}safetyFG(){return this.fb.group({licenceArr:[""]})}regulatorFG(){return this.fb.group({contrActReqArr:[""]})}onFormSubmit(){console.log(this.setStatesDetail)}getStates(){this.logicalFormInfo.getAllStates().subscribe(t=>{console.log("setStatesDetails=>",t),this.StatesData=t.data,this.StatesData.forEach((t,e)=>{t.index=e+1}),this.ELEMENT_DATA=this.StatesData,this.dataSource=new o.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}getJurisdiction(){this.logicalFormInfo.getAllJurisdiction().subscribe(t=>{console.log("Jurisdiction=>",t),this.Jurisdiction=t.data})}getSafety(){this.logicalFormInfo.getAllSafety().subscribe(t=>{console.log("Safety=>",t),this.SafetyData=t.data})}getCode(){this.logicalFormInfo.getAllCode().subscribe(t=>{console.log("COP=>",t),this.COP=t.data})}getRegulator(){this.logicalFormInfo.getAllRegulator().subscribe(t=>{console.log("Regulator=>",t),this.regulator=t.data})}setRelation_2(t){this.router.navigate(["/admin/stateRel/addState"],{queryParams:{id:t}})}setRelation(t,e,n){console.log("index",t),console.log("id",e),console.log("id",n);const a=[],i=[],l=[],o=[];this.jurisdictionFA().controls[n].get("jurisdictionArr").value&&this.jurisdictionFA().controls[n].get("jurisdictionArr").value.forEach(t=>{a.push(t._id)}),this.COP_FA().controls[n].get("COPArr").value&&this.COP_FA().controls[n].get("COPArr").value.forEach(t=>{i.push(t._id)}),this.safetyFA().controls[n].get("safetyArr").value&&this.safetyFA().controls[n].get("safetyArr").value.forEach(t=>{l.push(t._id)}),this.regulatorFA().controls[n].get("contrActReqArr").value&&this.regulatorFA().controls[n].get("contrActReqArr").value.forEach(t=>{o.push(t._id)});const r={title:t,jurisdiction:this.jurisdictionFA().controls[n].get("jurisdictionArr").value,COP:this.COP_FA().controls[n].get("COPArr").value,safety:this.safetyFA().controls[n].get("safetyArr").value,regulator:this.regulatorFA().controls[n].get("regulatorArr").value,set:!0};console.log(r),this.logicalFormInfo.updateStates(r,e).subscribe(t=>{console.log("resStates Task=>",t),this.getStates(),s.a.fire({title:"States Relation set successfully",showConfirmButton:!1,timer:1200})})}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](y.a),m["\u0275\u0275directiveInject"](ht.f))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-set-state-relation"]],viewQuery:function(t,e){if(1&t&&(m["\u0275\u0275viewQuery"](i.a,!0),m["\u0275\u0275viewQuery"](l.a,!0),m["\u0275\u0275viewQuery"](zt,!0)),2&t){let t;m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.sort=t.first),m["\u0275\u0275queryRefresh"](t=m["\u0275\u0275loadQuery"]())&&(e.Risk=t)}},decls:17,vars:5,consts:[[1,"ml-2"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","edit"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"click",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-cell","",3,"click"],["mat-stroked-button","","color","primary","class","myBtn",4,"ngIf"],["mat-stroked-button","","color","primary",1,"myBtn"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"h2",0),m["\u0275\u0275text"](1,"Set States Relation"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](2,"div",1),m["\u0275\u0275elementStart"](3,"table",2),m["\u0275\u0275elementContainerStart"](4,3),m["\u0275\u0275template"](5,Ut,2,0,"th",4),m["\u0275\u0275template"](6,Wt,2,1,"td",5),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](7,6),m["\u0275\u0275template"](8,Yt,2,0,"th",4),m["\u0275\u0275template"](9,Kt,2,1,"td",5),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275elementContainerStart"](10,7),m["\u0275\u0275template"](11,Xt,2,0,"th",8),m["\u0275\u0275template"](12,ee,3,2,"td",9),m["\u0275\u0275elementContainerEnd"](),m["\u0275\u0275template"](13,ne,1,0,"tr",10),m["\u0275\u0275template"](14,ae,1,0,"tr",11),m["\u0275\u0275template"](15,ie,3,0,"tr",12),m["\u0275\u0275elementEnd"](),m["\u0275\u0275element"](16,"mat-paginator",13),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275advance"](3),m["\u0275\u0275property"]("dataSource",e.dataSource),m["\u0275\u0275advance"](10),m["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("pageSizeOptions",m["\u0275\u0275pureFunction0"](4,le)))},directives:[o.k,l.a,o.c,o.e,o.b,o.g,o.j,o.h,i.a,o.d,l.b,o.a,a.n,h.a,o.f,o.i],styles:["table[_ngcontent-%COMP%]{width:100%}.myBtn[_ngcontent-%COMP%]{width:75px}  .mat-sort-header-container{margin-left:47%!important}"]}),t})();function re(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"option",12),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275property"]("value",t._id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.title," ")}}function se(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"option",12),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275property"]("value",t._id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate2"](" ",t.act,"",t.regulation," ")}}function ce(t,e){if(1&t&&(m["\u0275\u0275elementStart"](0,"option",12),m["\u0275\u0275text"](1),m["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;m["\u0275\u0275property"]("value",t._id),m["\u0275\u0275advance"](1),m["\u0275\u0275textInterpolate1"](" ",t.title," ")}}function de(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",13),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().setRelation()}),m["\u0275\u0275text"](1," Set "),m["\u0275\u0275elementEnd"]()}}function me(t,e){if(1&t){const t=m["\u0275\u0275getCurrentView"]();m["\u0275\u0275elementStart"](0,"button",13),m["\u0275\u0275listener"]("click",function(){return m["\u0275\u0275restoreView"](t),m["\u0275\u0275nextContext"]().setRelation()}),m["\u0275\u0275text"](1," Update "),m["\u0275\u0275elementEnd"]()}}const ue=function(){return["/admin/stateRel/setState"]};let fe=(()=>{class t{constructor(t,e,n,a){this.route=t,this.fb=e,this.logicalFormInfo=n,this.router=a,this.states=null,this.stateId=null,this.isLinear=!1}ngOnInit(){this.SetState=this.fb.group({jurisdictionId:["",c.C.required],safetyLegislationId:["",c.C.required],regulatorId:["",c.C.required]}),this.route.queryParams.subscribe(t=>{console.log(t),this.stateId=t.id,this.logicalFormInfo.getstatesById(this.stateId).subscribe(t=>{console.log("getstatesById=>",t),this.states=t.data,console.log("states",this.states),1==this.states.set&&this.SetState.patchValue({jurisdictionId:this.states.jurisdictionId,safetyLegislationId:this.states.safetyLegislationId,regulatorId:this.states.regulatorId})})}),this.getAllJurisdiction(),this.getAllSafe(),this.getAllRegulator()}getAllRegulator(){this.logicalFormInfo.getAllRegulator().subscribe(t=>{console.log("this.regulatorData",t.data),this.regulatorData=t.data})}getAllSafe(){this.logicalFormInfo.getAllSafety().subscribe(t=>{console.log("this.safety",t),this.safety=t.data})}getAllJurisdiction(){this.logicalFormInfo.getAllJurisdiction().subscribe(t=>{console.log("JurisdictionData=>",t),this.JurisdictionData=t.data})}setRelation(){const t={set:!0,title:this.states.title,jurisdictionId:this.SetState.get("jurisdictionId").value,safetyLegislationId:this.SetState.get("safetyLegislationId").value,regulatorId:this.SetState.get("regulatorId").value};console.log("data=>",t),console.log("stateId=>",this.stateId),this.logicalFormInfo.updateStates(t,this.stateId).subscribe(t=>{console.log("updateStates=>",t),s.a.fire({title:"Updated successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/stateRel/setState"])})}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](ht.a),m["\u0275\u0275directiveInject"](c.f),m["\u0275\u0275directiveInject"](u.a),m["\u0275\u0275directiveInject"](ht.f))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-add-state-relation"]],decls:24,vars:9,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"ml-2"],[1,"row",3,"formGroup"],[1,"col-4"],["aria-label","Default select example","formControlName","jurisdictionId",1,"form-select","form-control"],["value","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["aria-label","Default select example","formControlName","safetyLegislationId",1,"form-select","form-control"],["aria-label","Default select example","formControlName","regulatorId",1,"form-select","form-control"],[1,"ml-3","mt-3"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"div",0),m["\u0275\u0275element"](1,"i",1),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](2,"div",2),m["\u0275\u0275elementStart"](3,"h2"),m["\u0275\u0275text"](4),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](5,"div",3),m["\u0275\u0275elementStart"](6,"div",4),m["\u0275\u0275elementStart"](7,"select",5),m["\u0275\u0275elementStart"](8,"option",6),m["\u0275\u0275text"](9,"Select Jurisdiction"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](10,re,2,2,"option",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](11,"div",4),m["\u0275\u0275elementStart"](12,"select",8),m["\u0275\u0275elementStart"](13,"option",6),m["\u0275\u0275text"](14,"Select Safety Legislation"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](15,se,2,3,"option",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](16,"div",4),m["\u0275\u0275elementStart"](17,"select",9),m["\u0275\u0275elementStart"](18,"option",6),m["\u0275\u0275text"](19,"Select Regulator"),m["\u0275\u0275elementEnd"](),m["\u0275\u0275template"](20,ce,2,2,"option",7),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](21,"div",10),m["\u0275\u0275template"](22,de,2,0,"button",11),m["\u0275\u0275template"](23,me,2,0,"button",11),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&(m["\u0275\u0275property"]("routerLink",m["\u0275\u0275pureFunction0"](8,ue)),m["\u0275\u0275advance"](4),m["\u0275\u0275textInterpolate1"]("States Relation :\xa0",null==e.states?null:e.states.title,""),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("formGroup",e.SetState),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",e.JurisdictionData),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",e.safety),m["\u0275\u0275advance"](5),m["\u0275\u0275property"]("ngForOf",e.regulatorData),m["\u0275\u0275advance"](2),m["\u0275\u0275property"]("ngIf",!(null!=e.states&&e.states.set)),m["\u0275\u0275advance"](1),m["\u0275\u0275property"]("ngIf",null==e.states?null:e.states.set))},directives:[ht.g,c.s,c.k,c.A,c.r,c.i,c.v,c.D,a.m,a.n],styles:[".example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.mat-stepper-horizontal[_ngcontent-%COMP%]{margin-top:8px}.mat-form-field[_ngcontent-%COMP%]{margin-top:16px}"]}),t})();var pe=n("vkgz"),he=n("lJxs"),ge=n("wZkO");function Se(t,e){1&t&&m["\u0275\u0275element"](0,"app-states")}function be(t,e){1&t&&m["\u0275\u0275element"](0,"app-juridiction")}function Ee(t,e){1&t&&m["\u0275\u0275element"](0,"app-safety-legislation")}function Ce(t,e){1&t&&m["\u0275\u0275element"](0,"app-regulator")}function ye(t,e){1&t&&m["\u0275\u0275element"](0,"app-set-state-relation")}const ve=[{path:"stateRelationSetting",component:(()=>{class t{constructor(t,e){this.router=t,this.activatedRoute=e}ngOnInit(){this.selectedIndex$=this.activatedRoute.queryParams.pipe(Object(pe.a)(t=>console.log(t)),Object(he.a)(t=>t.selectedTab))}selectedIndexChange(t){console.log(t),this.router.navigate([],{relativeTo:this.activatedRoute,queryParams:{selectedTab:t}})}}return t.\u0275fac=function(e){return new(e||t)(m["\u0275\u0275directiveInject"](ht.f),m["\u0275\u0275directiveInject"](ht.a))},t.\u0275cmp=m["\u0275\u0275defineComponent"]({type:t,selectors:[["app-state-relation-setting"]],decls:12,vars:3,consts:[[3,"selectedIndex","selectedIndexChange"],["label","States"],["matTabContent",""],["label","Jurisdiction"],["label","Safety Legislation"],["label","Regulator"],["label","Set State Relation"]],template:function(t,e){1&t&&(m["\u0275\u0275elementStart"](0,"mat-tab-group",0),m["\u0275\u0275listener"]("selectedIndexChange",function(t){return e.selectedIndexChange(t)}),m["\u0275\u0275pipe"](1,"async"),m["\u0275\u0275elementStart"](2,"mat-tab",1),m["\u0275\u0275template"](3,Se,1,0,"ng-template",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](4,"mat-tab",3),m["\u0275\u0275template"](5,be,1,0,"ng-template",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](6,"mat-tab",4),m["\u0275\u0275template"](7,Ee,1,0,"ng-template",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](8,"mat-tab",5),m["\u0275\u0275template"](9,Ce,1,0,"ng-template",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementStart"](10,"mat-tab",6),m["\u0275\u0275template"](11,ye,1,0,"ng-template",2),m["\u0275\u0275elementEnd"](),m["\u0275\u0275elementEnd"]()),2&t&&m["\u0275\u0275property"]("selectedIndex",m["\u0275\u0275pipeBind1"](1,1,e.selectedIndex$))},directives:[ge.c,ge.a,ge.b,Gt,pt,X,L,oe],pipes:[a.b],styles:[""]}),t})()},{path:"juridiction",component:pt},{path:"safetyLegislation",component:X},{path:"codeOfPract",component:Tt},{path:"regulator",component:L},{path:"states",component:Gt},{path:"setState",component:oe},{path:"addState",component:fe}];let we=(()=>{class t{}return t.\u0275mod=m["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[ht.j.forChild(ve)],ht.j]}),t})();var xe=n("PCNd");let Ie=(()=>{class t{}return t.\u0275mod=m["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=m["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[l.c,a.c,we,c.m,c.y,i.b,o.m,f.e,xe.a]]}),t})()}}]);