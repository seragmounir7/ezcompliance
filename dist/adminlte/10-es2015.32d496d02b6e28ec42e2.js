(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{DNuw:function(e,t,r){"use strict";r.r(t),r.d(t,"RegistrationModule",function(){return Et});var o=r("SVse"),i=r("iInd"),n=r("s7LF"),a=r("8Y7J");function l(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Company Name is required "),a.Tb())}function s(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Phone Number is required "),a.Tb())}function c(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Email is required "),a.Tb())}function b(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Street Address is required "),a.Tb())}function m(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Suburb Address is required "),a.Tb())}function d(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Postcode is required "),a.Tb())}function u(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Mailing Address is required "),a.Tb())}function p(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Company ABN is required "),a.Tb())}function f(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Company Address is required "),a.Tb())}function g(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Licence Number is required "),a.Tb())}function h(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Website is required "),a.Tb())}function C(e,t){1&e&&(a.Ub(0,"span",28),a.Oc(1," Company Logo is required "),a.Tb())}function T(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",29),a.Ub(2,"div",3),a.Ub(3,"div",4),a.Ub(4,"label",5),a.Oc(5,"Name "),a.Tb(),a.Pb(6,"input",30),a.Tb(),a.Ub(7,"div",4),a.Ub(8,"label",5),a.Oc(9,"Checked Out To"),a.Tb(),a.Pb(10,"input",31),a.Tb(),a.Ub(11,"div",4),a.Ub(12,"label",5),a.Oc(13,"Make"),a.Tb(),a.Pb(14,"input",32),a.Tb(),a.Ub(15,"div",4),a.Ub(16,"label",5),a.Oc(17,"Model Number"),a.Tb(),a.Pb(18,"input",33),a.Tb(),a.Ub(19,"div",34),a.Ub(20,"div",35),a.Ub(21,"h4",36),a.Oc(22,"Next Service"),a.Tb(),a.Tb(),a.Ub(23,"div",37),a.Pb(24,"input",38),a.Ub(25,"label",39),a.Oc(26,"Hours "),a.Tb(),a.Tb(),a.Ub(27,"div",40),a.Pb(28,"input",41),a.Ub(29,"label",39),a.Oc(30,"Kilometres"),a.Tb(),a.Tb(),a.Ub(31,"div",40),a.Pb(32,"input",42),a.Ub(33,"label",39),a.Oc(34,"Date"),a.Tb(),a.Tb(),a.Tb(),a.Ub(35,"div",4),a.Ub(36,"label",5),a.Oc(37,"Registration Number"),a.Tb(),a.Pb(38,"input",43),a.Tb(),a.Ub(39,"div",4),a.Ub(40,"label",5),a.Oc(41,"Registration Renewal Date "),a.Tb(),a.Pb(42,"input",44),a.Tb(),a.Ub(43,"div",4),a.Ub(44,"label",5),a.Oc(45,"Purchase Date "),a.Tb(),a.Pb(46,"input",45),a.Tb(),a.Ub(47,"div",4),a.Ub(48,"label",5),a.Oc(49,"Insurance Policy Number "),a.Tb(),a.Pb(50,"input",46),a.Tb(),a.Ub(51,"div",4),a.Ub(52,"label",5),a.Oc(53,"Insurance Expiry "),a.Tb(),a.Pb(54,"input",47),a.Tb(),a.Ub(55,"div",4),a.Ub(56,"label",5),a.Oc(57,"Fuel Card Number "),a.Tb(),a.Pb(58,"input",48),a.Tb(),a.Ub(59,"div",4),a.Ub(60,"label",5),a.Oc(61,"E Tag Number "),a.Tb(),a.Pb(62,"input",49),a.Tb(),a.Ub(63,"div",50),a.Ub(64,"div",51),a.Ub(65,"span",52),a.ec("click",function(){return a.Cc(e),a.ic().addEquipFiled2()}),a.Oc(66,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(67,"div",50),a.Ub(68,"div",51),a.Ub(69,"span",52),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeEquipFiled1(r)}),a.Oc(70," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index;a.Bb(1),a.qc("formGroupName",e)}}let v=(()=>{class e{constructor(e,t){this.fb=e,this.activatedRoute=t,this.submitted=!1}ngOnInit(){this.formData=this.fb.group({companyName:["",n.C.required],phoneNumber:["",n.C.required],fax:[],emailAddress:["",n.C.required],streetAddress:["",n.C.required],subUrb:["",n.C.required],postCode:["",n.C.required],mailingAddress:["",n.C.required],companyABN:["",n.C.required],companyAddr:["",n.C.required],licenceNumber:["",n.C.required],companyWeb:["",n.C.required],companyLogo:["",n.C.required],plantArr:this.fb.array([]),plantName:[""],checkedOut:[""],hours:[""],kilometres:[""],date:[""],make:[""],modelNumber:[""],registrationNumber:[""],registrationRenewalDate:[""],plantType:[""],purchaseDate:[""],insurancePolicyNumber:[""],insuranceExpiry:[""],fuelCardNumber:[""],ETagNumber:[""],plantSignature:[""]}),this.id=this.activatedRoute.snapshot.params.id,this.addEquipFiled2()}addEquip(){return this.formData.get("plantArr")}newEquipFiled2(){return this.fb.group({plantName:[""],checkedOut:[""],hours:[""],kilometres:[""],date:[""],make:[""],modelNumber:[""],registrationNumber:[""],registrationRenewalDate:[""],plantType:[""],purchaseDate:[""],insurancePolicyNumber:[""],insuranceExpiry:[""],fuelCardNumber:[""],ETagNumber:[""]})}addEquipFiled2(){this.addEquip().push(this.newEquipFiled2()),console.log(this.formData.value)}removeEquipFiled1(e){const t=this.formData.controls.plantArr;t.length>1&&t.removeAt(e)}get registerFormControl(){return this.formData.controls}browser2(e){const t=e.target.files[0];(new FormData).append("",t),console.log(t)}submeet(){console.log("clicked"),this.submitted=!this.submitted,console.log("FormValues = > ",this.formData.value)}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(n.f),a.Ob(i.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-company-details"]],decls:82,vars:38,consts:[[1,"container","card","px-4","py-4","bg-white"],[1,"text-center"],[3,"formGroup"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["class","text-danger",4,"ngIf"],["type","text","formControlName","phoneNumber",1,"form-control","inputData"],["type","text","formControlName","porfListName",1,"form-control"],["type","text","formControlName","emailAddress",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","subUrb",1,"form-control","inputData"],["type","text","formControlName","postCode",1,"form-control"],["type","text","formControlName","mailingAddress",1,"form-control"],["type","text","formControlName","companyABN",1,"form-control"],["type","text","formControlName","companyAddr",1,"form-control","inputData"],["type","text","formControlName","licenceNumber",1,"form-control","inputData"],["type","text","formControlName","companyWeb",1,"form-control"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],["formArrayName","plantArr",1,"mt-4"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary","border","border-primary","btn_1",3,"click"],[1,"text-danger"],[3,"formGroupName"],["type","text","formControlName","plantName",1,"form-control"],["type","text","formControlName","checkedOut",1,"form-control"],["type","text","formControlName","make",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],[1,"row","container","col-12"],[1,"col-12"],[1,"text_2"],[1,"col-2","mt-2","ml-5"],["type","checkbox","formControlName","hours","name","hours","value","Hours",1,"form-check-input","mr-1"],["for","exampleFormControlInput1",1,"form-label","label_2"],[1,"mt-2","col-2"],["type","checkbox","formControlName","kilometres","name","kilometres","value","Kilometres",1,"form-check-input","mr-1"],["type","checkbox","formControlName","date","name","date","value","Date",1,"form-check-input","mr-1"],["type","text","formControlName","registrationNumber",1,"form-control"],["type","date","formControlName","registrationRenewalDate",1,"form-control"],["type","date","formControlName","purchaseDate",1,"form-control"],["type","text","formControlName","insurancePolicyNumber",1,"form-control"],["type","date","formControlName","insuranceExpiry",1,"form-control"],["type","text","formControlName","fuelCardNumber",1,"form-control"],["type","text","formControlName","ETagNumber",1,"form-control"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"h1",1),a.Oc(2,"Company Details"),a.Tb(),a.Ub(3,"form",2),a.Ub(4,"div",3),a.Ub(5,"div",4),a.Ub(6,"label",5),a.Oc(7," Company Name "),a.Tb(),a.Pb(8,"input",6),a.Mc(9,l,2,0,"span",7),a.Tb(),a.Ub(10,"div",4),a.Ub(11,"label",5),a.Oc(12,"Phone"),a.Tb(),a.Pb(13,"input",8),a.Mc(14,s,2,0,"span",7),a.Tb(),a.Ub(15,"div",4),a.Ub(16,"label",5),a.Oc(17,"Fax"),a.Tb(),a.Pb(18,"input",9),a.Tb(),a.Ub(19,"div",4),a.Ub(20,"label",5),a.Oc(21,"Email"),a.Tb(),a.Pb(22,"input",10),a.Mc(23,c,2,0,"span",7),a.Tb(),a.Tb(),a.Ub(24,"div",3),a.Ub(25,"div",4),a.Ub(26,"label",5),a.Oc(27," Street Address "),a.Tb(),a.Ub(28,"textarea",11),a.Oc(29," "),a.Tb(),a.Mc(30,b,2,0,"span",7),a.Tb(),a.Ub(31,"div",4),a.Ub(32,"label",5),a.Oc(33,"Suburb"),a.Tb(),a.Ub(34,"textarea",12),a.Oc(35," "),a.Tb(),a.Mc(36,m,2,0,"span",7),a.Tb(),a.Ub(37,"div",4),a.Ub(38,"label",5),a.Oc(39," Postcode "),a.Tb(),a.Pb(40,"input",13),a.Mc(41,d,2,0,"span",7),a.Tb(),a.Ub(42,"div",4),a.Ub(43,"label",5),a.Oc(44," Mailing Address "),a.Tb(),a.Pb(45,"textarea",14),a.Mc(46,u,2,0,"span",7),a.Tb(),a.Tb(),a.Ub(47,"div",3),a.Ub(48,"div",4),a.Ub(49,"label",5),a.Oc(50," Company ABN "),a.Tb(),a.Pb(51,"input",15),a.Mc(52,p,2,0,"span",7),a.Tb(),a.Ub(53,"div",4),a.Ub(54,"label",5),a.Oc(55," Company Address "),a.Tb(),a.Pb(56,"textarea",16),a.Mc(57,f,2,0,"span",7),a.Tb(),a.Ub(58,"div",4),a.Ub(59,"label",5),a.Oc(60," Licence Number "),a.Tb(),a.Pb(61,"input",17),a.Mc(62,g,2,0,"span",7),a.Tb(),a.Ub(63,"div",4),a.Ub(64,"label",5),a.Oc(65,"Website"),a.Tb(),a.Pb(66,"input",18),a.Mc(67,h,2,0,"span",7),a.Tb(),a.Tb(),a.Ub(68,"div",19),a.Pb(69,"div",20),a.Ub(70,"div",21),a.Ub(71,"div",22),a.Ub(72,"label",23),a.Oc(73," Add Company Logo "),a.Tb(),a.Ub(74,"input",24),a.ec("change",function(e){return t.browser2(e)}),a.Tb(),a.Tb(),a.Mc(75,C,2,0,"span",7),a.Tb(),a.Tb(),a.Ub(76,"div",25),a.Mc(77,T,71,1,"div",26),a.Tb(),a.Pb(78,"div",3),a.Ub(79,"div",3),a.Ub(80,"button",27),a.ec("click",function(){return t.submeet()}),a.Oc(81," Submit "),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Bb(3),a.qc("formGroup",t.formData),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.companyName.touched||t.submitted)&&(null==t.registerFormControl.companyName.errors?null:t.registerFormControl.companyName.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.phoneNumber.touched||t.submitted)&&(null==t.registerFormControl.phoneNumber.errors?null:t.registerFormControl.phoneNumber.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.phoneNumber.touched||t.submitted)&&(null==t.registerFormControl.phoneNumber.errors?null:t.registerFormControl.phoneNumber.errors.required)),a.Bb(8),a.Gb("is-invalid",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.emailAddress.touched||t.submitted)&&(null==t.registerFormControl.emailAddress.errors?null:t.registerFormControl.emailAddress.errors.required)),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),a.Bb(2),a.qc("ngIf",(t.registerFormControl.streetAddress.touched||t.submitted)&&(null==t.registerFormControl.streetAddress.errors?null:t.registerFormControl.streetAddress.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),a.Bb(2),a.qc("ngIf",(t.registerFormControl.subUrb.touched||t.submitted)&&(null==t.registerFormControl.subUrb.errors?null:t.registerFormControl.subUrb.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.postCode.touched||t.submitted)&&(null==t.registerFormControl.postCode.errors?null:t.registerFormControl.postCode.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.postCode.touched||t.submitted)&&(null==t.registerFormControl.postCode.errors?null:t.registerFormControl.postCode.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.mailingAddress.touched||t.submitted)&&(null==t.registerFormControl.mailingAddress.errors?null:t.registerFormControl.mailingAddress.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.mailingAddress.touched||t.submitted)&&(null==t.registerFormControl.mailingAddress.errors?null:t.registerFormControl.mailingAddress.errors.required)),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.companyABN.touched||t.submitted)&&(null==t.registerFormControl.companyABN.errors?null:t.registerFormControl.companyABN.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.companyAddr.touched||t.submitted)&&(null==t.registerFormControl.companyAddr.errors?null:t.registerFormControl.companyAddr.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.licenceNumber.touched||t.submitted)&&(null==t.registerFormControl.licenceNumber.errors?null:t.registerFormControl.licenceNumber.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.companyWeb.touched||t.submitted)&&(null==t.registerFormControl.companyWeb.errors?null:t.registerFormControl.companyWeb.errors.required)),a.Bb(7),a.Gb("is-invalid",(t.registerFormControl.companyLogo.touched||t.submitted)&&(null==t.registerFormControl.companyLogo.errors?null:t.registerFormControl.companyLogo.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.companyLogo.touched||t.submitted)&&(null==t.registerFormControl.companyLogo.errors?null:t.registerFormControl.companyLogo.errors.required)),a.Bb(2),a.qc("ngForOf",t.addEquip().controls))},directives:[n.E,n.s,n.k,n.d,n.r,n.i,o.n,n.e,o.m,n.l,n.a],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();var U=r("AytR"),y=r("lJxs"),P=r("IheW");let O=(()=>{class e{constructor(e){this.https=e,this.apiUrl=U.a.apiUrl}upload(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(y.a)(e=>(console.log("res.data=>",e.data),e)))}addCompanyInfo(e){return this.https.post(this.apiUrl+"company/add",e).pipe(Object(y.a)(e=>(console.log("res.data=>",e.data),e)))}}return e.\u0275fac=function(t){return new(t||e)(a.bc(P.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),N=(()=>{class e{constructor(e,t){this.fb=e,this.company=t,this.companyInfo=e.group({companyName:[null,n.C.required],ABN:[null,n.C.required],ACN:[null,n.C.required],website:[null,n.C.required],email:[null,n.C.required],phone:[null,n.C.required],customerType:[null,n.C.required],businessLicense:[null,n.C.required],streetAddress:[null,n.C.required],suburb:[null,n.C.required],state:[null,n.C.required],postcode:[null,n.C.required],sameAsStreet:[null,n.C.required],PObox:[null,n.C.required],postalSuburb:[null,n.C.required],postalState:[null,n.C.required],postalPostcode:[null,n.C.required],file:[null,n.C.required]})}ngOnInit(){}browser(e){console.log("event=>",e);const t=e.target.files[0];console.log("event.target=>",e.target.files[0]);const r=new FormData;r.append("",t),console.log(t),this.company.upload(r).subscribe(e=>{console.log("AddProductComponent -> browser -> res",e),this.selectedImage=e.files,console.log("AddProductComponent -> browse -> this.selectedImage",this.selectedImage)})}onFormSubmit(){console.log("this.companyInfo.value",this.companyInfo.value),this.company.addCompanyInfo(this.companyInfo.value).subscribe(e=>{console.log("data=>",e),this.browser(event)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(n.f),a.Ob(O))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-company-registration"]],decls:123,vars:1,consts:[[1,"container","card","p-5"],[1,"px-4","py-4",3,"formGroup","ngSubmit"],[1,"row"],[1,"col-12"],[1,"text-center"],[1,"title"],[1,"col-md-4"],[1,"mb-3"],["for","exampleInputFullname",1,"form-Label"],["type","text","formControlName","companyName","id","exampleInputFullname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputSurname",1,"form-Label"],["type","text","formControlName","ABN","id","exampleInputSurname","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputEmail1",1,"form-Label"],["type","text","formControlName","ACN","id","exampleInputEmail1","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPhone",1,"form-Label"],["type","email","formControlName","website","id","exampleInputPhone","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputDepartment",1,"form-Label"],["type","department","formControlName","email","id","exampleInputDepartment","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputPosition",1,"form-Label"],["type","text","formControlName","phone","id","exampleInputPosition","aria-describedby","emailHelp",1,"form-control","outline"],["for","exampleInputProjectNumber",1,"form-Label"],["type","text","formControlName","customerType","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","businessLicense","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"subtitel"],["type","text","formControlName","streetAddress","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","suburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-md-2"],["type","text","formControlName","state","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"mt-2","col-4"],["type","checkbox","value","no","formControlName","sameAsStreet",1,"mr-1"],["type","email","formControlName","PObox","id","exampleInputStreetAddress","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalSuburb","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalState","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],["type","text","formControlName","postalPostcode","id","exampleInputProjectNumber","aria-describedby","emailHelp",1,"form-control","outline"],[1,"col-10","offset-1","col-3","mt-1"],["src","../../../assets/img/whsLogo.png","alt","","width","100%"],[1,"my-3"],["for","formFile",1,"form-Label"],["formControlName","file","type","file","id","formFile",1,"form-control",3,"change"],[1,"offset-10","col-2"],["type","submit",1,"btn","btn-primary","mb-3"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"form",1),a.ec("ngSubmit",function(){return t.onFormSubmit()}),a.Ub(2,"div",2),a.Ub(3,"div",3),a.Ub(4,"h2",4),a.Ub(5,"p",5),a.Oc(6,"Company Information"),a.Tb(),a.Tb(),a.Tb(),a.Ub(7,"div",6),a.Ub(8,"div",7),a.Ub(9,"p",8),a.Oc(10,"Company Name"),a.Tb(),a.Pb(11,"input",9),a.Tb(),a.Tb(),a.Ub(12,"div",6),a.Ub(13,"div",7),a.Ub(14,"p",10),a.Oc(15,"ABN"),a.Tb(),a.Pb(16,"input",11),a.Tb(),a.Tb(),a.Ub(17,"div",6),a.Ub(18,"div",7),a.Ub(19,"p",12),a.Oc(20,"ACN"),a.Tb(),a.Pb(21,"input",13),a.Tb(),a.Tb(),a.Ub(22,"div",6),a.Ub(23,"div",7),a.Ub(24,"p",14),a.Oc(25,"Website"),a.Tb(),a.Pb(26,"input",15),a.Tb(),a.Tb(),a.Ub(27,"div",6),a.Ub(28,"div",7),a.Ub(29,"p",16),a.Oc(30,"Email"),a.Tb(),a.Pb(31,"input",17),a.Tb(),a.Tb(),a.Ub(32,"div",6),a.Ub(33,"div",7),a.Ub(34,"p",18),a.Oc(35,"Phone"),a.Tb(),a.Pb(36,"input",19),a.Tb(),a.Tb(),a.Ub(37,"div",6),a.Ub(38,"div",7),a.Ub(39,"p",20),a.Oc(40," Customer Type "),a.Tb(),a.Pb(41,"input",21),a.Tb(),a.Tb(),a.Ub(42,"div",6),a.Ub(43,"div",7),a.Ub(44,"p",20),a.Oc(45," Business license "),a.Tb(),a.Pb(46,"input",22),a.Tb(),a.Tb(),a.Tb(),a.Pb(47,"hr"),a.Ub(48,"div",2),a.Ub(49,"div",3),a.Ub(50,"h3"),a.Ub(51,"p",23),a.Oc(52,"Company Address"),a.Tb(),a.Tb(),a.Tb(),a.Ub(53,"div",6),a.Ub(54,"div",7),a.Ub(55,"p",20),a.Oc(56," Street Address "),a.Tb(),a.Pb(57,"input",24),a.Tb(),a.Tb(),a.Ub(58,"div",6),a.Ub(59,"div",7),a.Ub(60,"p",20),a.Oc(61,"Suburb"),a.Tb(),a.Pb(62,"input",25),a.Tb(),a.Tb(),a.Ub(63,"div",26),a.Ub(64,"div",7),a.Ub(65,"p",20),a.Oc(66,"State"),a.Tb(),a.Pb(67,"input",27),a.Tb(),a.Tb(),a.Ub(68,"div",26),a.Ub(69,"div",7),a.Ub(70,"p",20),a.Oc(71,"Postcode"),a.Tb(),a.Pb(72,"input",28),a.Tb(),a.Tb(),a.Tb(),a.Pb(73,"hr"),a.Ub(74,"div",2),a.Ub(75,"div",3),a.Ub(76,"h3"),a.Ub(77,"p",23),a.Oc(78,"Street Address"),a.Tb(),a.Tb(),a.Tb(),a.Ub(79,"div",29),a.Ub(80,"p"),a.Pb(81,"input",30),a.Oc(82,"Same as Street "),a.Tb(),a.Tb(),a.Ub(83,"div",2),a.Ub(84,"div",6),a.Ub(85,"div",7),a.Ub(86,"p",20),a.Oc(87,"PO Box"),a.Tb(),a.Pb(88,"input",31),a.Tb(),a.Tb(),a.Ub(89,"div",6),a.Ub(90,"div",7),a.Ub(91,"p",20),a.Oc(92," Postal Suburb "),a.Tb(),a.Pb(93,"input",32),a.Tb(),a.Tb(),a.Ub(94,"div",26),a.Ub(95,"div",7),a.Ub(96,"p",20),a.Oc(97," Postal State "),a.Tb(),a.Pb(98,"input",33),a.Tb(),a.Tb(),a.Ub(99,"div",26),a.Ub(100,"div",7),a.Ub(101,"p",20),a.Oc(102," Postal Postcode "),a.Tb(),a.Pb(103,"input",34),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Pb(104,"hr"),a.Ub(105,"div",2),a.Ub(106,"div",6),a.Ub(107,"div",2),a.Ub(108,"div",3),a.Ub(109,"h3"),a.Ub(110,"p",23),a.Oc(111,"Logo and Print Information"),a.Tb(),a.Tb(),a.Tb(),a.Ub(112,"div",35),a.Pb(113,"img",36),a.Tb(),a.Tb(),a.Tb(),a.Ub(114,"div",6),a.Ub(115,"div",37),a.Ub(116,"p",38),a.Oc(117,"Upload Logo"),a.Tb(),a.Ub(118,"input",39),a.ec("change",function(e){return t.browser(e)}),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(119,"div",2),a.Ub(120,"div",40),a.Ub(121,"button",41),a.Oc(122,"Submit"),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.Bb(1),a.qc("formGroup",t.companyInfo))},directives:[n.E,n.s,n.k,n.d,n.r,n.i,n.a],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700}.subtitel[_ngcontent-%COMP%], .title[_ngcontent-%COMP%]{display:inline-block;word-break:break-word;font-family:Inter,sans-serif}.subtitel[_ngcontent-%COMP%]{font-size:16px;font-weight:600}.form-Label[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;word-break:break-word;font-family:Inter,sans-serif;width:100%;margin-left:2px;margin-bottom:14px}input[type=checkbox][_ngcontent-%COMP%]{height:15px;width:15px}input[type=checkbox][_ngcontent-%COMP%]:focus, input[type=checkbox][_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25);height:15px;width:15px}"]}),e})();var F=r("mrSG"),D=r("JX91"),x=r("Kj3r"),q=r("/uUt"),w=r("eIep"),E=r("vkgz"),A=r("PSD3"),M=r.n(A),I=r("LefN"),L=r("k2mP"),B=r("wbBK");let S=(()=>{class e{constructor(e){this.https=e,this.apiUrl=U.a.apiUrl}upload(e){return this.https.post(this.apiUrl+"upload",e).pipe(Object(y.a)(e=>(console.log("res.data=>",e.files),e)))}}return e.\u0275fac=function(t){return new(t||e)(a.bc(P.b))},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _=r("M9ds"),k=r("r1zJ"),R=r("vrAh"),j=r("UhP/");const G=["signature1"],V=["signature2"];function z(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Title is required "),a.Tb())}function Q(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," First Name is required "),a.Tb())}function H(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Last Name is required "),a.Tb())}function W(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Email is required "),a.Tb())}function $(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Position is required "),a.Tb())}function J(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Department is required "),a.Tb())}function K(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Phone Number is required "),a.Tb())}function Y(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Mobile Number is required "),a.Tb())}function Z(e,t){if(1&e&&(a.Ub(0,"option",12),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.qc("value",e._id),a.Bb(1),a.Pc(e.role)}}function X(e,t){1&e&&(a.Ub(0,"span",63),a.Oc(1," Administration Right is Required"),a.Tb())}function ee(e,t){1&e&&(a.Ub(0,"span",63),a.Oc(1," Reporting To is Required"),a.Tb())}function te(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Street Address is required "),a.Tb())}function re(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," City/town is required "),a.Tb())}function oe(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," State is required "),a.Tb())}function ie(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Postal Code is required "),a.Tb())}function ne(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," First Name is required "),a.Tb())}function ae(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Last Name is required "),a.Tb())}function le(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Relationship is required "),a.Tb())}function se(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Email is required "),a.Tb())}function ce(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Phone Number is required "),a.Tb())}function be(e,t){1&e&&(a.Ub(0,"span",62),a.Oc(1," Mobile Number is required "),a.Tb())}function me(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function de(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function ue(e,t){if(1&e&&(a.Ub(0,"mat-option",12),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.qc("value",e.title),a.Bb(1),a.Qc(" ",e.title," ")}}function pe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",65),a.Ub(2,"div",7),a.Ub(3,"div",8),a.Ub(4,"label",9),a.Oc(5,"Licence Name"),a.Tb(),a.Pb(6,"input",66),a.Ub(7,"mat-autocomplete",null,67),a.Mc(9,ue,2,2,"mat-option",23),a.jc(10,"async"),a.Tb(),a.Tb(),a.Ub(11,"div",8),a.Ub(12,"label",9),a.Oc(13,"Licence Number"),a.Tb(),a.Pb(14,"input",68),a.Tb(),a.Ub(15,"div",8),a.Ub(16,"label",9),a.Oc(17,"Training Organisation"),a.Tb(),a.Pb(18,"input",69),a.Tb(),a.Ub(19,"div",8),a.Ub(20,"label",9),a.Oc(21,"Expiry Date "),a.Tb(),a.Pb(22,"input",70),a.Tb(),a.Tb(),a.Ub(23,"div",7),a.Ub(24,"div",71),a.Ub(25,"div",36),a.Ub(26,"label",72),a.Oc(27,"Upload Licence"),a.Tb(),a.Ub(28,"input",38),a.ec("change",function(r){a.Cc(e);const o=t.index;return a.ic().browser(r,o)}),a.Tb(),a.Tb(),a.Tb(),a.Ub(29,"div",73),a.Ub(30,"div",74),a.Ub(31,"span",75),a.ec("click",function(){return a.Cc(e),a.ic().addFiled()}),a.Oc(32,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(33,"div",73),a.Ub(34,"div",74),a.Ub(35,"span",75),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeFiled(r)}),a.Oc(36," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index,r=a.yc(8),o=a.ic();a.Bb(1),a.qc("formGroupName",e),a.Bb(5),a.qc("matAutocomplete",r),a.Bb(3),a.qc("ngForOf",a.kc(10,3,o.licenceValueChanges[e]))}}function fe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function ge(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function he(e,t){if(1&e&&(a.Ub(0,"mat-option",12),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.qc("value",e.title),a.Bb(1),a.Qc(" ",e.title," ")}}function Ce(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",65),a.Ub(2,"div",7),a.Ub(3,"div",8),a.Ub(4,"label",9),a.Oc(5,"PPE Supplied"),a.Tb(),a.Pb(6,"input",76),a.Ub(7,"mat-autocomplete",null,77),a.Mc(9,he,2,2,"mat-option",23),a.jc(10,"async"),a.Tb(),a.Tb(),a.Ub(11,"div",8),a.Ub(12,"label",9),a.Oc(13,"Brand or Type"),a.Tb(),a.Pb(14,"input",78),a.Tb(),a.Ub(15,"div",29),a.Ub(16,"label",9),a.Oc(17,"Issue Date"),a.Tb(),a.Pb(18,"input",79),a.Tb(),a.Ub(19,"div",29),a.Ub(20,"label",9),a.Oc(21,"Replacement Date "),a.Tb(),a.Pb(22,"input",80),a.Tb(),a.Ub(23,"div",73),a.Ub(24,"div",74),a.Ub(25,"span",75),a.ec("click",function(){return a.Cc(e),a.ic().addFiled2()}),a.Oc(26,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(27,"div",73),a.Ub(28,"div",74),a.Ub(29,"span",75),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeFiled1(r)}),a.Oc(30," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index,r=a.yc(8),o=a.ic();a.Bb(1),a.qc("formGroupName",e),a.Bb(5),a.qc("matAutocomplete",r),a.Bb(3),a.qc("ngForOf",a.kc(10,3,o.PPEValueChanges[e]))}}function Te(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function ve(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function Ue(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",65),a.Ub(2,"div",7),a.Ub(3,"div",8),a.Ub(4,"label",9),a.Oc(5,"Plant Type "),a.Tb(),a.Pb(6,"input",81),a.Tb(),a.Ub(7,"div",8),a.Ub(8,"label",9),a.Oc(9,"Model Number"),a.Tb(),a.Pb(10,"input",82),a.Tb(),a.Ub(11,"div",29),a.Ub(12,"label",9),a.Oc(13,"Serial Number"),a.Tb(),a.Pb(14,"input",83),a.Tb(),a.Ub(15,"div",29),a.Ub(16,"label",9),a.Oc(17,"Service/Replacement Date"),a.Tb(),a.Pb(18,"input",84),a.Tb(),a.Ub(19,"div",73),a.Ub(20,"div",74),a.Ub(21,"span",75),a.ec("click",function(){return a.Cc(e),a.ic().addEquipFiled2()}),a.Oc(22,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(23,"div",73),a.Ub(24,"div",74),a.Ub(25,"span",75),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeEquipFiled1(r)}),a.Oc(26," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index;a.Bb(1),a.qc("formGroupName",e)}}function ye(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}function Pe(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",64),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.empDetails.valid)}}const Oe=function(){return["/admin/registration/employeeRegistration"]};let Ne=(()=>{class e{constructor(e,t,r,o,i,a,l){this.fb=e,this.role=t,this.employee=r,this.licenceInfo=o,this.upload=i,this.activatedRoute=a,this.router=l,this.PPERegister=!1,this.LicenceInfo=!1,this.EquipmentInfo=!1,this.submitted=!1,this.profile=!0,this.roleData=[""],this.empData=[],this.PPEData=[],this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.empDetails=this.fb.group({profTitie:["",n.C.required],profFirst:["",n.C.required],porfListName:["",n.C.required],porfEmail:["",n.C.required],porfPosition:["",n.C.required],porfDepartment:["",n.C.required],porfPhone:["",n.C.required],porfMobile:["",n.C.required],file:[""],reportingTo:[""],roleId:["",n.C.required],porfStreetAddress:["",n.C.required],porfCityTown:["",n.C.required],porfState:["",n.C.required],porfPostalCode:["",n.C.required],porfUploadImage:[""],EmpFirst:["",n.C.required],empLastName:["",n.C.required],empRelationship:["",n.C.required],empEmail:["",n.C.required],empPhone:["",n.C.required],empMobile:["",n.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],UploadLicenceArr:this.fb.array([]),PPESupplied:[""],BrandOrType:[""],IssueDate:[""],PPEArr:this.fb.array([]),ReplacementDate:[""],Sign:[""],plantArr:this.fb.array([]),plantSignature:[""],modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}ngOnInit(){this.licenceInfo.getAllLicence().pipe(Object(y.a)(e=>e.data.map(e=>(e.fullName=""+e.title,e)))).subscribe(e=>{this.empData=e,console.log("this.empData",this.empData)}),this.licenceInfo.getAllPPE().pipe(Object(y.a)(e=>e.data.map(e=>(e.fullName=""+e.title,e)))).subscribe(e=>{this.PPEData=e,console.log("this.empData2",this.PPEData)}),this.getAllRoles(),this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.addFiled(),this.addFiled2(),this.addEquipFiled2()),this.filteredOptions2=this.empDetails.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(800),Object(q.a)(),Object(w.a)(e=>(console.log("myControl22..",e,this.filteredOptions2),this.filter2(e||"")))),this.filteredOptions1=this.empDetails.controls.PPESupplied.valueChanges.pipe(Object(D.a)(""),Object(x.a)(800),Object(q.a)(),Object(w.a)(e=>(console.log("myControl..",e,this.filteredOptions1),this.filter1(e||""))))}getAllRoles(){this.role.getAllRole().subscribe(e=>{console.log("role..",e),this.roleData=e.data})}patchData(){this.employee.getEmployeeInfoById(this.id).subscribe(e=>{console.log("data=>",e),e.data.licence.forEach(e=>{e.uploadLicence.forEach(e=>{this.addFiled1(e)})}),e.data.ppe.PPEArr.forEach(e=>{this.addFiled3(e)}),e.data.plant.plantArr.forEach(e=>{this.addEquipFiled3(e)}),this.empDetails.patchValue({profTitie:e.data.title,profFirst:e.data.firstName,porfListName:e.data.lastName,porfEmail:e.data.email,porfPosition:e.data.position,porfDepartment:e.data.department,porfPhone:e.data.phone,porfMobile:e.data.mobile,roleId:e.data.roleId,porfStreetAddress:e.data.location.address,porfCityTown:e.data.location.city,porfState:e.data.location.state,porfPostalCode:e.data.location.pincode,porfUploadImage:e.data.uploadImage,EmpFirst:e.data.emergencyContact.firstName,empLastName:e.data.emergencyContact.lastName,empRelationship:e.data.emergencyContact.relationship,empEmail:e.data.emergencyContact.email,empPhone:e.data.emergencyContact.phone,empMobile:e.data.emergencyContact.mobile,PPESupplied:e.data.ppe.ppeSupplied,BrandOrType:e.data.ppe.brand,IssueDate:e.data.ppe.issueDate,ReplacementDate:e.data.ppe.replacementDate,Sign:e.data.ppe.signature,plantType:e.data.plant.plantType,modelNumber:e.data.plant.modelNumber,serialNumber:e.data.plant.serialNumber,serviceRenewDate:e.data.plant.serviceRenewDate}),this.dataUrl=e.data.ppe.signature,this.dataUrl2=e.data.plant.plantSignature,console.log("data.data.ppe.signature;",e.data.ppe.signature),(()=>Object(F.a)(this,void 0,void 0,function*(){}))().then(t=>{console.log("this.signaturePad",this.signaturePad,t),this.signaturePad.fromDataURL(e.data.ppe.signature)}),(()=>Object(F.a)(this,void 0,void 0,function*(){}))().then(t=>{console.log("this.signaturePad",this.signaturePad2,t),this.signaturePad2.fromDataURL(e.data.plant.plantSignature)})})}drawComplete2(){this.empDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}clear2(){this.signaturePad2.clear()}drawStart2(){console.log("begin drawing")}drawComplete(){this.empDetails.controls.Sign.setValue(this.signaturePad.toDataURL()),console.log(this.signaturePad.toDataURL())}clear(){this.signaturePad.clear()}drawStart(){console.log("begin drawing")}browser(e,t){const r=e.target.files[0],o=new FormData;o.append("",r),console.log(r),this.upload.upload(o).subscribe(e=>{console.log("AddProductComponent -> browser -> res",e),this.selectedImage=e.files,this.addLicence().at(t).get("file").patchValue(this.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",this.selectedImage)})}browser1(e){const t=e.target.files[0],r=new FormData;r.append("",t),console.log(t),this.upload.upload(r).subscribe(e=>{console.log("AddProductComponent -> browser -> res",e),this.file1=e.files[0],console.log("file",this.file1),this.empDetails.get("porfUploadImage").patchValue(this.file1)})}selectedImage(e,t){throw new Error("Method not implemented.")}onFormUpdate(e){const t=this.signaturePad.toDataURL(),r=this.signaturePad2.toDataURL(),o={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:(()=>{this.addPPE();let e=[];return this.addPPE().controls.forEach(t=>{console.log("item",t),e.push({ppeSupplied:t.controls.PPESupplied.value,brand:t.controls.BrandOrType.value,issueDate:t.controls.IssueDate.value,replacementDate:t.controls.ReplacementDate.value})}),e})(),signature:t},plant:{plantArr:(()=>{this.addPPE();let e=[];return this.addEquip().controls.forEach(t=>{console.log("item",t),e.push({plantType:t.controls.plantType.value,modelNumber:t.controls.modelNumber.value,serialNumber:t.controls.serialNumber.value,serviceRenewDate:t.controls.serviceRenewDate.value})}),e})(),plantSignature:r},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,city:this.empDetails.get("porfCityTown").value,pincode:this.empDetails.get("porfPostalCode").value,country:"India"}};this.employee.updateEmployeeInfo(this.id,o).subscribe(e=>{console.log("updateData",e),M.a.fire({title:"Employee Updated successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/registration/employeeRegistration"])},e=>{console.error(e)})}onFormSubmit(){this.submitted=!0;const e=this.signaturePad.toDataURL();console.log("sign=>",this.signaturePad.toDataURL());const t=this.signaturePad2.toDataURL();console.log("this.EmployeeInfo.value",this.empDetails.value);const r={title:this.empDetails.get("profTitie").value,email:this.empDetails.get("porfEmail").value,position:this.empDetails.get("porfPosition").value,mobile:this.empDetails.get("porfMobile").value,roleId:this.empDetails.get("roleId").value,department:this.empDetails.get("porfDepartment").value,phone:this.empDetails.get("porfPhone").value,firstName:this.empDetails.get("profFirst").value,lastName:this.empDetails.get("porfListName").value,uploadImage:this.empDetails.get("porfUploadImage").value,emergencyContact:{firstName:this.empDetails.get("EmpFirst").value,lastName:this.empDetails.get("empLastName").value,email:this.empDetails.get("empEmail").value,phone:this.empDetails.get("empPhone").value,mobile:this.empDetails.get("empMobile").value,relationship:this.empDetails.get("empRelationship").value},licence:{licenceName:this.empDetails.get("LicenceName").value,licenceNumber:this.empDetails.get("LicenceNumber").value,trainingOrganisation:this.empDetails.get("TrainingQrginisation").value,expiryDate:this.empDetails.get("ExpiryDate").value,uploadLicence:this.empDetails.get("UploadLicenceArr").value},ppe:{PPEArr:(()=>{this.addPPE();let e=[];return this.addPPE().controls.forEach(t=>{console.log("item",t),e.push({ppeSupplied:t.controls.PPESupplied.value,brand:t.controls.BrandOrType.value,issueDate:t.controls.IssueDate.value,replacementDate:t.controls.ReplacementDate.value})}),e})(),signature:e},plant:{plantArr:(()=>{this.addEquip();let e=[];return this.addEquip().controls.forEach(t=>{console.log("item",t),e.push({plantType:t.controls.plantType.value,modelNumber:t.controls.modelNumber.value,serialNumber:t.controls.serialNumber.value,serviceRenewDate:t.controls.serviceRenewDate.value})}),e})(),plantSignature:t},location:{address:this.empDetails.get("porfStreetAddress").value,landmark:"Nagpur",state:this.empDetails.get("porfState").value,city:this.empDetails.get("porfCityTown").value,pincode:this.empDetails.get("porfPostalCode").value,country:"India"}};console.log("body=>",r),this.employee.addEmployeeInfo(r).subscribe(e=>{console.log("data=>",e),this.signaturePad.toDataURL(),M.a.fire({title:"Employee Added successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/registration/employeeRegistration"])},e=>{console.error(e)})}sign(e){throw new Error("Method not implemented.")}addAcionTab(e){Object.keys(this.sidePreview.value)}profileshow(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!0,this.EquipmentInfo=!1}LicenceInfoshow(){this.PPERegister=!1,this.LicenceInfo=!0,this.profile=!1,this.EquipmentInfo=!1}PPERegisteshow(){this.PPERegister=!0,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!1}addPlantshow(){this.PPERegister=!1,this.LicenceInfo=!1,this.profile=!1,this.EquipmentInfo=!0}addLicence(){return this.empDetails.get("UploadLicenceArr")}addEquip(){return this.empDetails.get("plantArr")}newEquipFiled2(){return this.fb.group({modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}addEquipFiled2(){this.addEquip().push(this.newEquipFiled2()),console.log(this.empDetails.value)}newEquipFiled3(e){return console.log("newData",e),this.fb.group({plantType:[e.plantType],modelNumber:[e.modelNumber],serialNumber:[e.serialNumber],serviceRenewDate:[e.serviceRenewDate]})}addEquipFiled3(e){console.log("data",e),this.addEquip().push(this.newEquipFiled3(e)),console.log("addPPEFiled1",this.empDetails.value)}removeEquipFiled1(e){const t=this.empDetails.controls.plantArr;t.length>1&&t.removeAt(e)}addPPE(){return this.empDetails.get("PPEArr")}newFiled2(){return this.fb.group({PPESupplied:[""],BrandOrType:[""],IssueDate:[""],ReplacementDate:[""]})}addFiled2(){this.addPPE().push(this.newFiled2()),console.log(this.empDetails.value),this.PPEValueChanges=new Array;for(let e=0;e<this.addPPE().length;e++){let t=this.addPPE().at(e);this.PPEValueChanges.push(t.controls.PPESupplied.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filterPPE(e):this.PPEData.slice()))),console.log(t.valueChanges)}}removeFiled1(e){const t=this.empDetails.controls.PPEArr;t.length>1&&t.removeAt(e)}newFiled3(e){return console.log("newData",e),this.fb.group({PPESupplied:[e.ppeSupplied],BrandOrType:[e.brand],IssueDate:[e.issueDate],ReplacementDate:[e.replacementDate]})}addFiled3(e){console.log("data",e),this.addPPE().push(this.newFiled3(e)),console.log("addPPEFiled1",this.empDetails.value),this.PPEValueChanges=new Array;for(let t=0;t<this.addPPE().length;t++){let e=this.addPPE().at(t);this.PPEValueChanges.push(e.controls.PPESupplied.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filterPPE(e):this.PPEData.slice()))),console.log(e.valueChanges)}}newFiled(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}newFiled1(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}addFiled1(e){this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(let t=0;t<this.addLicence().length;t++){let e=this.addLicence().at(t);this.licenceValueChanges.push(e.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filter(e):this.empData.slice()))),console.log(e.valueChanges)}}addFiled(){this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(let e=0;e<this.addLicence().length;e++){let t=this.addLicence().at(e);this.licenceValueChanges.push(t.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filter(e):this.empData.slice()))),console.log(t.valueChanges)}}removeFiled(e){const t=this.empDetails.controls.UploadLicenceArr;t.length>1&&t.removeAt(e)}get registerFormControl(){return this.empDetails.controls}_filter(e){const t=e.toLowerCase();return this.empData.filter(e=>e.fullName.toLowerCase().includes(t))}_filterPPE(e){const t=e.toLowerCase();return this.PPEData.filter(e=>e.fullName.toLowerCase().includes(t))}filter2(e){return this.licenceInfo.getAllLicence().pipe(Object(y.a)(e=>(e.data=e.data.map(e=>(e.LicenceName=""+e.title,e)),e)),Object(y.a)(t=>(t.data=t.data.filter(t=>0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())),t.data)))}filter1(e){return this.licenceInfo.getAllPPE().pipe(Object(y.a)(e=>(e.data=e.data.map(e=>(e.PPESupplied=""+e.title,e)),e)),Object(y.a)(t=>(t.data=t.data.filter(t=>(console.log("11option>>",e),0===t.PPESupplied.toLowerCase().indexOf(e.toLowerCase()))),console.log("response.data>>",t.data),t.data)))}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(n.f),a.Ob(I.a),a.Ob(L.a),a.Ob(B.a),a.Ob(S),a.Ob(i.a),a.Ob(i.f))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-add-employee"]],viewQuery:function(e,t){if(1&e&&(a.Sc(G,!0),a.Sc(V,!0)),2&e){let e;a.xc(e=a.fc())&&(t.signaturePad=e.first),a.xc(e=a.fc())&&(t.signaturePad2=e.first)}},decls:182,vars:79,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"container","card","px-4","py-4"],[3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["aria-label","Default select example","formControlName","profTitie",1,"form-select","form-control"],["selected","","hidden",""],[3,"value"],["class","text-danger",4,"ngIf"],["type","text","formControlName","profFirst",1,"form-control","inputData",3,"ngClass"],["type","text","formControlName","porfListName",1,"form-control","inputData"],["type","text","formControlName","porfEmail",1,"form-control"],["type","text","formControlName","porfPosition","id","siteName",1,"form-control"],["type","text","formControlName","porfDepartment",1,"form-control"],["type","text","formControlName","porfPhone",1,"form-control"],["type","text","formControlName","porfMobile",1,"form-control"],[1,"form-label","mb-3"],["aria-label","Default select example","formControlName","roleId",1,"form-select","form-control"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["aria-label","Default select example","formControlName","reportingTo",1,"form-select","form-control"],[1,"mb-3","mt-3","col-5"],["type","text","formControlName","porfStreetAddress","id","siteName",1,"form-control"],["type","text","formControlName","porfCityTown",1,"form-control"],[1,"mb-3","mt-3","col-2"],["type","text","formControlName","porfState",1,"form-control"],["type","text","formControlName","porfPostalCode",1,"form-control"],[1,"row","py-3"],[1,"offset-1","col-3","mt-2"],["onerror"," this.src='../../../assets/img/uploadImg.png' ","alt","","width","130","height","130",3,"src"],[1,"col-5","ml-4"],[1,"my-3"],["for","formFile",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"row","mt-3"],[1,"col-12"],[1,"emergrncy_1"],["type","text","formControlName","EmpFirst","id","siteName",1,"form-control","inputData"],["type","text","formControlName","empLastName",1,"form-control","inputData"],["type","text","formControlName","empRelationship",1,"form-control"],["type","text","formControlName","empEmail",1,"form-control"],["type","text","formControlName","empPhone","id","siteName",1,"form-control"],["type","text","formControlName","empMobile",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","UploadLicenceArr"],[4,"ngFor","ngForOf"],["label","PPE Register",3,"click"],["formArrayName","PPEArr"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature1",""],[1,"btn","btn-outline-primary","btn_1",3,"click"],["label","Plant/Equipment Register",3,"click"],["formArrayName","plantArr"],["signature2",""],[1,"text-danger"],[1,"invalid-feedback"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],["employee1","matAutocomplete"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],["for","formFile1",1,"form-label"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],["type","text","formControlName","PPESupplied","id","siteName",1,"form-control",3,"matAutocomplete"],["employee2","matAutocomplete"],["type","text","formControlName","BrandOrType",1,"form-control"],["type","date","formControlName","IssueDate",1,"form-control"],["type","date","formControlName","ReplacementDate",1,"form-control"],["type","text","formControlName","plantType",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],["type","text","formControlName","serialNumber",1,"form-control"],["type","date","formControlName","serviceRenewDate",1,"form-control"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Pb(1,"i",1),a.Tb(),a.Ub(2,"div",2),a.Ub(3,"form",3),a.Ub(4,"h1",4),a.Ub(5,"p",5),a.Oc(6,"Employee Information Preview"),a.Tb(),a.Tb(),a.Ub(7,"mat-tab-group"),a.Ub(8,"mat-tab",6),a.ec("click",function(){return t.profileshow()}),a.Ub(9,"div",7),a.Ub(10,"div",8),a.Ub(11,"label",9),a.Oc(12,"Title"),a.Tb(),a.Ub(13,"select",10),a.Ub(14,"option",11),a.Oc(15,"Select"),a.Tb(),a.Ub(16,"option",12),a.Oc(17,"Mr."),a.Tb(),a.Ub(18,"option",12),a.Oc(19,"Mrs."),a.Tb(),a.Ub(20,"option",12),a.Oc(21,"Miss"),a.Tb(),a.Ub(22,"option",12),a.Oc(23,"Ms."),a.Tb(),a.Tb(),a.Mc(24,z,2,0,"span",13),a.Tb(),a.Ub(25,"div",8),a.Ub(26,"label",9),a.Oc(27,"First Name"),a.Tb(),a.Pb(28,"input",14),a.Mc(29,Q,2,0,"span",13),a.Tb(),a.Ub(30,"div",8),a.Ub(31,"label",9),a.Oc(32,"Last Name"),a.Tb(),a.Pb(33,"input",15),a.Mc(34,H,2,0,"span",13),a.Tb(),a.Ub(35,"div",8),a.Ub(36,"label",9),a.Oc(37,"Email"),a.Tb(),a.Pb(38,"input",16),a.Mc(39,W,2,0,"span",13),a.Tb(),a.Tb(),a.Ub(40,"div",7),a.Ub(41,"div",8),a.Ub(42,"label",9),a.Oc(43,"Position"),a.Tb(),a.Pb(44,"input",17),a.Mc(45,$,2,0,"span",13),a.Tb(),a.Ub(46,"div",8),a.Ub(47,"label",9),a.Oc(48,"Department"),a.Tb(),a.Pb(49,"input",18),a.Mc(50,J,2,0,"span",13),a.Tb(),a.Ub(51,"div",8),a.Ub(52,"label",9),a.Oc(53,"Phone"),a.Tb(),a.Pb(54,"input",19),a.Mc(55,K,2,0,"span",13),a.Tb(),a.Ub(56,"div",8),a.Ub(57,"label",9),a.Oc(58,"Mobile"),a.Tb(),a.Pb(59,"input",20),a.Mc(60,Y,2,0,"span",13),a.Tb(),a.Ub(61,"div",8),a.Ub(62,"label",21),a.Oc(63,"Administration Right"),a.Tb(),a.Ub(64,"select",22),a.Ub(65,"option",11),a.Oc(66,"Select"),a.Tb(),a.Mc(67,Z,2,2,"option",23),a.Tb(),a.Mc(68,X,2,0,"span",24),a.Tb(),a.Ub(69,"div",8),a.Ub(70,"label",21),a.Oc(71,"Reporting To"),a.Tb(),a.Ub(72,"select",25),a.Ub(73,"option",11),a.Oc(74,"Select"),a.Tb(),a.Ub(75,"option",12),a.Oc(76,"Manager"),a.Tb(),a.Ub(77,"option",12),a.Oc(78,"Supervisor"),a.Tb(),a.Ub(79,"option",12),a.Oc(80,"Worker"),a.Tb(),a.Tb(),a.Mc(81,ee,2,0,"span",24),a.Tb(),a.Tb(),a.Ub(82,"div",7),a.Ub(83,"div",26),a.Ub(84,"label",9),a.Oc(85,"Street Address"),a.Tb(),a.Pb(86,"input",27),a.Mc(87,te,2,0,"span",13),a.Tb(),a.Ub(88,"div",8),a.Ub(89,"label",9),a.Oc(90,"City/town"),a.Tb(),a.Pb(91,"input",28),a.Mc(92,re,2,0,"span",13),a.Tb(),a.Ub(93,"div",29),a.Ub(94,"label",9),a.Oc(95,"State"),a.Tb(),a.Pb(96,"input",30),a.Mc(97,oe,2,0,"span",13),a.Tb(),a.Ub(98,"div",29),a.Ub(99,"label",9),a.Oc(100,"Postal Code"),a.Tb(),a.Pb(101,"input",31),a.Mc(102,ie,2,0,"span",13),a.Tb(),a.Tb(),a.Ub(103,"div",32),a.Ub(104,"div",33),a.Pb(105,"img",34),a.Tb(),a.Ub(106,"div",35),a.Ub(107,"div",36),a.Ub(108,"label",37),a.Oc(109,"Upload Image"),a.Tb(),a.Ub(110,"input",38),a.ec("change",function(e){return t.browser1(e)}),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Ub(111,"div",39),a.Ub(112,"div",40),a.Ub(113,"p",41),a.Oc(114,"Emergency Contact Information"),a.Tb(),a.Tb(),a.Tb(),a.Ub(115,"div",7),a.Ub(116,"div",8),a.Ub(117,"label",9),a.Oc(118,"First Name"),a.Tb(),a.Pb(119,"input",42),a.Mc(120,ne,2,0,"span",13),a.Tb(),a.Ub(121,"div",8),a.Ub(122,"label",9),a.Oc(123,"Last Name"),a.Tb(),a.Pb(124,"input",43),a.Mc(125,ae,2,0,"span",13),a.Tb(),a.Ub(126,"div",8),a.Ub(127,"label",9),a.Oc(128,"Relationship"),a.Tb(),a.Pb(129,"input",44),a.Mc(130,le,2,0,"span",13),a.Tb(),a.Ub(131,"div",8),a.Ub(132,"label",9),a.Oc(133,"Email "),a.Tb(),a.Pb(134,"input",45),a.Mc(135,se,2,0,"span",13),a.Tb(),a.Tb(),a.Ub(136,"div",7),a.Ub(137,"div",8),a.Ub(138,"label",9),a.Oc(139,"Phone"),a.Tb(),a.Pb(140,"input",46),a.Mc(141,ce,2,0,"span",13),a.Tb(),a.Ub(142,"div",8),a.Ub(143,"label",9),a.Oc(144,"Mobile"),a.Tb(),a.Pb(145,"input",47),a.Mc(146,be,2,0,"span",13),a.Tb(),a.Tb(),a.Mc(147,me,2,1,"button",48),a.Mc(148,de,2,1,"button",48),a.Tb(),a.Ub(149,"mat-tab",49),a.ec("click",function(){return t.LicenceInfoshow()}),a.Ub(150,"div",50),a.Mc(151,pe,37,5,"div",51),a.Tb(),a.Mc(152,fe,2,1,"button",48),a.Mc(153,ge,2,1,"button",48),a.Tb(),a.Ub(154,"mat-tab",52),a.ec("click",function(){return t.PPERegisteshow()}),a.Ub(155,"div",53),a.Mc(156,Ce,31,5,"div",51),a.Tb(),a.Ub(157,"div",7),a.Ub(158,"div",54),a.Ub(159,"label"),a.Oc(160,"Signature"),a.Tb(),a.Ub(161,"div",55),a.Ub(162,"signature-pad",56,57),a.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete()}),a.Tb(),a.Tb(),a.Tb(),a.Ub(164,"button",58),a.ec("click",function(){return t.clear()}),a.Oc(165," Clear "),a.Tb(),a.Mc(166,Te,2,1,"button",48),a.Mc(167,ve,2,1,"button",48),a.Tb(),a.Tb(),a.Ub(168,"mat-tab",59),a.ec("click",function(){return t.addPlantshow()}),a.Ub(169,"div",60),a.Mc(170,Ue,27,1,"div",51),a.Tb(),a.Ub(171,"div",7),a.Ub(172,"div",54),a.Ub(173,"label"),a.Oc(174,"Signature"),a.Tb(),a.Ub(175,"div",55),a.Ub(176,"signature-pad",56,61),a.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),a.Tb(),a.Tb(),a.Tb(),a.Ub(178,"button",58),a.ec("click",function(){return t.clear2()}),a.Oc(179," Clear "),a.Tb(),a.Mc(180,ye,2,1,"button",48),a.Mc(181,Pe,2,1,"button",48),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.qc("routerLink",a.tc(78,Oe)),a.Bb(3),a.qc("formGroup",t.empDetails),a.Bb(10),a.Gb("is-invalid",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),a.Bb(11),a.qc("ngIf",(t.registerFormControl.profTitie.touched||t.submitted)&&(null==t.registerFormControl.profTitie.errors?null:t.registerFormControl.profTitie.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),a.qc("ngClass",t.formData),a.Bb(1),a.qc("ngIf",(t.registerFormControl.profFirst.touched||t.submitted)&&(null==t.registerFormControl.profFirst.errors?null:t.registerFormControl.profFirst.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfListName.touched||t.submitted)&&(null==t.registerFormControl.porfListName.errors?null:t.registerFormControl.porfListName.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfEmail.touched||t.submitted)&&(null==t.registerFormControl.porfEmail.errors?null:t.registerFormControl.porfEmail.errors.required)),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfPosition.touched||t.submitted)&&(null==t.registerFormControl.porfPosition.errors?null:t.registerFormControl.porfPosition.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfDepartment.touched||t.submitted)&&(null==t.registerFormControl.porfDepartment.errors?null:t.registerFormControl.porfDepartment.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfMobile.touched||t.submitted)&&(null==t.registerFormControl.porfMobile.errors?null:t.registerFormControl.porfMobile.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),a.Bb(3),a.qc("ngForOf",t.roleData),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfPhone.touched||t.submitted)&&(null==t.registerFormControl.porfPhone.errors?null:t.registerFormControl.porfPhone.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),a.Bb(9),a.qc("ngIf",(t.registerFormControl.reportingTo.touched||t.submitted)&&(null==t.registerFormControl.reportingTo.errors?null:t.registerFormControl.reportingTo.errors.required)),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfStreetAddress.touched||t.submitted)&&(null==t.registerFormControl.porfStreetAddress.errors?null:t.registerFormControl.porfStreetAddress.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfCityTown.touched||t.submitted)&&(null==t.registerFormControl.porfCityTown.errors?null:t.registerFormControl.porfCityTown.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfCityTown.touched||t.submitted)&&(null==t.registerFormControl.porfCityTown.errors?null:t.registerFormControl.porfCityTown.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfState.touched||t.submitted)&&(null==t.registerFormControl.porfState.errors?null:t.registerFormControl.porfState.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.porfPostalCode.touched||t.submitted)&&(null==t.registerFormControl.porfPostalCode.errors?null:t.registerFormControl.porfPostalCode.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.porfPostalCode.touched||t.submitted)&&(null==t.registerFormControl.porfPostalCode.errors?null:t.registerFormControl.porfPostalCode.errors.required)),a.Bb(3),a.qc("src",t.file1,a.Ec),a.Bb(14),a.Gb("is-invalid",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.EmpFirst.touched||t.submitted)&&(null==t.registerFormControl.EmpFirst.errors?null:t.registerFormControl.EmpFirst.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.empLastName.touched||t.submitted)&&(null==t.registerFormControl.empLastName.errors?null:t.registerFormControl.empLastName.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.empRelationship.touched||t.submitted)&&(null==t.registerFormControl.empRelationship.errors?null:t.registerFormControl.empRelationship.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.empEmail.touched||t.submitted)&&(null==t.registerFormControl.empEmail.errors?null:t.registerFormControl.empEmail.errors.required)),a.Bb(5),a.Gb("is-invalid",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.empPhone.touched||t.submitted)&&(null==t.registerFormControl.empPhone.errors?null:t.registerFormControl.empPhone.errors.required)),a.Bb(4),a.Gb("is-invalid",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),a.Bb(1),a.qc("ngIf",(t.registerFormControl.empMobile.touched||t.submitted)&&(null==t.registerFormControl.empMobile.errors?null:t.registerFormControl.empMobile.errors.required)),a.Bb(1),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp),a.Bb(3),a.qc("ngForOf",t.addLicence().controls),a.Bb(1),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp),a.Bb(3),a.qc("ngForOf",t.addPPE().controls),a.Bb(6),a.qc("options",t.signaturePadOptions),a.Bb(4),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp),a.Bb(3),a.qc("ngForOf",t.addEquip().controls),a.Bb(6),a.qc("options",t.signaturePadOptions),a.Bb(4),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp))},directives:[i.g,n.E,n.s,n.k,_.b,_.a,n.A,n.r,n.i,n.v,n.D,o.n,n.d,o.l,o.m,n.e,k.a,n.l,R.c,R.a,j.n],pipes:[o.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();var Fe=r("OaSA"),De=r("LUZP"),xe=r("5QHs"),qe=r("yZxC"),we=r("iELJ"),Ee=r("7g+E"),Ae=r("Dxy4"),Me=r("Tj54"),Ie=r("ZFy/");function Le(e,t){1&e&&(a.Ub(0,"th",17),a.Oc(1," No. "),a.Tb())}function Be(e,t){if(1&e&&(a.Ub(0,"td",18),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.Bb(1),a.Pc(e.index)}}function Se(e,t){1&e&&(a.Ub(0,"th",17),a.Oc(1," Title "),a.Tb())}function _e(e,t){if(1&e&&(a.Ub(0,"td",18),a.Ub(1,"span",19),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.title)}}function ke(e,t){1&e&&(a.Ub(0,"th",17),a.Oc(1," First Name "),a.Tb())}function Re(e,t){if(1&e&&(a.Ub(0,"td",18),a.Ub(1,"span",20),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.firstName)}}function je(e,t){1&e&&(a.Ub(0,"th",17),a.Oc(1," Last Name "),a.Tb())}function Ge(e,t){if(1&e&&(a.Ub(0,"td",18),a.Ub(1,"span",20),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.lastName)}}function Ve(e,t){1&e&&(a.Ub(0,"th",17),a.Oc(1," Email "),a.Tb())}function ze(e,t){if(1&e&&(a.Ub(0,"td",18),a.Ub(1,"span",20),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.email)}}function Qe(e,t){1&e&&(a.Ub(0,"th",21),a.Oc(1," Action "),a.Tb())}function He(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td",18),a.Ub(1,"button",22),a.ec("click",function(){a.Cc(e);const r=t.$implicit;return a.ic().edit(r._id)}),a.Ub(2,"mat-icon",23),a.Oc(3,"edit"),a.Tb(),a.Tb(),a.Ub(4,"button",24),a.ec("click",function(){a.Cc(e);const r=t.$implicit;return a.ic().delete(r)}),a.Ub(5,"mat-icon",25),a.Oc(6,"delete"),a.Tb(),a.Tb(),a.Tb()}}function We(e,t){1&e&&a.Pb(0,"tr",26)}function $e(e,t){1&e&&a.Pb(0,"tr",27)}function Je(e,t){1&e&&(a.Ub(0,"tr",28),a.Ub(1,"td",29),a.Oc(2,"Data Not Found "),a.Tb(),a.Tb())}const Ke=function(e){return[e]},Ye=function(){return[20]};let Ze=(()=>{class e{constructor(e,t,r,o,i,n){this.employee=e,this.fb=t,this.setTitle=r,this.dialog=o,this.spinner=i,this.router=n,this.ELEMENT_DATA=[],this.displayedColumns=["index","title","firstName","lastName","email","action"],this.dataSource=new Fe.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllEmployee(),this.setTitle.setTitle("WHS-Employee Details")}getAllEmployee(){this.employee.getAllEmployeeInfo().subscribe(e=>{console.log(e);let t=e.data;t.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=t,this.dataSource=new Fe.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}delete(e){M.a.fire({title:"Are you sure?",text:`Do you want to delete "${e.firstName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(t=>{t.value&&(console.log(t),this.spinner.show(),this.employee.deleteEmployeeInfo(e._id).subscribe(e=>{this.getAllEmployee(),this.spinner.hide()}))})}edit(e){this.router.navigate(["/admin/registration/addEmployee/"+e])}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(L.a),a.Ob(n.f),a.Ob(qe.a),a.Ob(we.b),a.Ob(Ee.c),a.Ob(i.f))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-employee-registration"]],viewQuery:function(e,t){if(1&e&&(a.Sc(xe.a,!0),a.Sc(De.a,!0)),2&e){let e;a.xc(e=a.fc())&&(t.paginator=e.first),a.xc(e=a.fc())&&(t.sort=e.first)}},decls:31,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","title"],["matColumnDef","firstName"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["matTooltip","Edit"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["matTooltip","Delete"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"h1"),a.Oc(2," Employee Details "),a.Tb(),a.Tb(),a.Ub(3,"div"),a.Ub(4,"button",1),a.Pb(5,"i",2),a.Oc(6," Add Employee "),a.Tb(),a.Tb(),a.Ub(7,"div"),a.Ub(8,"table",3),a.Sb(9,4),a.Mc(10,Le,2,0,"th",5),a.Mc(11,Be,2,1,"td",6),a.Rb(),a.Sb(12,7),a.Mc(13,Se,2,0,"th",5),a.Mc(14,_e,3,1,"td",6),a.Rb(),a.Sb(15,8),a.Mc(16,ke,2,0,"th",5),a.Mc(17,Re,3,1,"td",6),a.Rb(),a.Sb(18,9),a.Mc(19,je,2,0,"th",5),a.Mc(20,Ge,3,1,"td",6),a.Rb(),a.Sb(21,10),a.Mc(22,Ve,2,0,"th",5),a.Mc(23,ze,3,1,"td",6),a.Rb(),a.Sb(24,11),a.Mc(25,Qe,2,0,"th",12),a.Mc(26,He,7,0,"td",6),a.Rb(),a.Mc(27,We,1,0,"tr",13),a.Mc(28,$e,1,0,"tr",14),a.Mc(29,Je,3,0,"tr",15),a.Tb(),a.Pb(30,"mat-paginator",16),a.Tb()),2&e&&(a.Bb(4),a.qc("routerLink",a.uc(5,Ke,"/admin/registration/addEmployee/form")),a.Bb(4),a.qc("dataSource",t.dataSource),a.Bb(19),a.qc("matHeaderRowDef",t.displayedColumns),a.Bb(1),a.qc("matRowDefColumns",t.displayedColumns),a.Bb(2),a.qc("pageSizeOptions",a.tc(7,Ye)))},directives:[i.g,Fe.k,De.a,Fe.c,Fe.e,Fe.b,Fe.g,Fe.j,Fe.h,xe.a,Fe.d,De.b,Fe.a,Ae.a,Me.a,Ie.a,Fe.f,Fe.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),e})();const Xe=["signature2"];function et(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",10),a.Ub(2,"div",3),a.Ub(3,"div",11),a.Ub(4,"label",12),a.Oc(5,"Plant Type "),a.Tb(),a.Pb(6,"input",13),a.Tb(),a.Ub(7,"div",11),a.Ub(8,"label",12),a.Oc(9,"Model Number"),a.Tb(),a.Pb(10,"input",14),a.Tb(),a.Ub(11,"div",15),a.Ub(12,"label",12),a.Oc(13,"Serial Number"),a.Tb(),a.Pb(14,"input",16),a.Tb(),a.Ub(15,"div",15),a.Ub(16,"label",12),a.Oc(17,"Service/Replacement Date"),a.Tb(),a.Pb(18,"input",17),a.Tb(),a.Ub(19,"div",18),a.Ub(20,"div",19),a.Ub(21,"span",20),a.ec("click",function(){return a.Cc(e),a.ic().addEquipFiled2()}),a.Oc(22,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(23,"div",18),a.Ub(24,"div",19),a.Ub(25,"span",20),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeEquipFiled1(r)}),a.Oc(26," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index;a.Bb(1),a.qc("formGroupName",e)}}function tt(e,t){if(1&e&&(a.Ub(0,"button",21),a.Oc(1," Submit "),a.Tb()),2&e){const e=a.ic();a.qc("disabled",!e.plantDetails.valid)}}function rt(e,t){if(1&e&&(a.Ub(0,"button",21),a.Oc(1," Update "),a.Tb()),2&e){const e=a.ic();a.qc("disabled",!e.plantDetails.valid)}}let ot=(()=>{class e{constructor(e,t){this.fb=e,this.activatedRoute=t,this.signaturePadOptions={minWidth:1,canvasWidth:500,canvasHeight:100},this.plantDetails=this.fb.group({plantArr:this.fb.array([]),plantSignature:[""],modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,this.addEquipFiled2()}addEquip(){return this.plantDetails.get("plantArr")}newEquipFiled2(){return this.fb.group({modelNumber:[""],serialNumber:[""],plantType:[""],serviceRenewDate:[""]})}addEquipFiled2(){this.addEquip().push(this.newEquipFiled2()),console.log(this.plantDetails.value)}removeEquipFiled1(e){const t=this.plantDetails.controls.plantArr;t.length>1&&t.removeAt(e)}drawComplete2(){this.plantDetails.controls.plantSignature.setValue(this.signaturePad2.toDataURL()),console.log(this.signaturePad2.toDataURL())}clear2(){this.signaturePad2.clear()}drawStart(){console.log("begin drawing")}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(n.f),a.Ob(i.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-plant-registration"]],viewQuery:function(e,t){if(1&e&&a.Sc(Xe,!0),2&e){let e;a.xc(e=a.fc())&&(t.signaturePad2=e.first)}},decls:14,vars:5,consts:[[1,"container","bg-white",3,"formGroup"],["formArrayName","plantArr"],[4,"ngFor","ngForOf"],[1,"row"],[1,"mb-3","mt-3","col-12"],[1,"sign"],[3,"options","onBeginEvent","onEndEvent"],["signature2",""],[1,"btn","btn-outline-primary","btn_1",3,"click"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled",4,"ngIf"],[3,"formGroupName"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","plantType",1,"form-control"],["type","text","formControlName","modelNumber",1,"form-control"],[1,"mb-3","mt-3","col-2"],["type","text","formControlName","serialNumber",1,"form-control"],["type","date","formControlName","serviceRenewDate",1,"form-control"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"div",1),a.Mc(2,et,27,1,"div",2),a.Tb(),a.Ub(3,"div",3),a.Ub(4,"div",4),a.Ub(5,"label"),a.Oc(6,"Signature"),a.Tb(),a.Ub(7,"div",5),a.Ub(8,"signature-pad",6,7),a.ec("onBeginEvent",function(){return t.drawStart()})("onEndEvent",function(){return t.drawComplete2()}),a.Tb(),a.Tb(),a.Tb(),a.Ub(10,"button",8),a.ec("click",function(){return t.clear2()}),a.Oc(11," Clear "),a.Tb(),a.Mc(12,tt,2,1,"button",9),a.Mc(13,rt,2,1,"button",9),a.Tb(),a.Tb()),2&e&&(a.qc("formGroup",t.plantDetails),a.Bb(2),a.qc("ngForOf",t.addEquip().controls),a.Bb(6),a.qc("options",t.signaturePadOptions),a.Bb(4),a.qc("ngIf",!t.dataPlant),a.Bb(1),a.qc("ngIf",t.dataPlant))},directives:[n.s,n.k,n.e,o.m,k.a,o.n,n.l,n.d,n.r,n.i],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();function it(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",24),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.subcontractDetails.valid)}}function nt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",24),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.subcontractDetails.valid)}}function at(e,t){if(1&e&&(a.Ub(0,"mat-option",40),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.qc("value",e),a.Bb(1),a.Qc(" ",e.title," ")}}function lt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"div"),a.Ub(1,"div",25),a.Ub(2,"div",6),a.Ub(3,"div",7),a.Ub(4,"label",8),a.Oc(5,"Licence Name"),a.Tb(),a.Pb(6,"input",26),a.Ub(7,"mat-autocomplete",27,28),a.Mc(9,at,2,2,"mat-option",29),a.jc(10,"async"),a.Tb(),a.Tb(),a.Ub(11,"div",7),a.Ub(12,"label",8),a.Oc(13,"Licence Number"),a.Tb(),a.Pb(14,"input",30),a.Tb(),a.Ub(15,"div",7),a.Ub(16,"label",8),a.Oc(17,"Training Organisation"),a.Tb(),a.Pb(18,"input",31),a.Tb(),a.Ub(19,"div",7),a.Ub(20,"label",8),a.Oc(21,"Expiry Date "),a.Tb(),a.Pb(22,"input",32),a.Tb(),a.Tb(),a.Ub(23,"div",6),a.Ub(24,"div",33),a.Ub(25,"div",34),a.Ub(26,"label",35),a.Oc(27,"Upload Licence"),a.Tb(),a.Ub(28,"input",36),a.ec("change",function(r){a.Cc(e);const o=t.index;return a.ic().browser(r,o)}),a.Tb(),a.Tb(),a.Tb(),a.Ub(29,"div",37),a.Ub(30,"div",38),a.Ub(31,"span",39),a.ec("click",function(){return a.Cc(e),a.ic().addFiled()}),a.Oc(32,"add_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Ub(33,"div",37),a.Ub(34,"div",38),a.Ub(35,"span",39),a.ec("click",function(){a.Cc(e);const r=t.index;return a.ic().removeFiled(r)}),a.Oc(36," remove_circle_outline "),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb(),a.Tb()}if(2&e){const e=t.index,r=a.yc(8),o=a.ic();a.Bb(1),a.qc("formGroupName",e),a.Bb(5),a.qc("matAutocomplete",r),a.Bb(1),a.qc("displayWith",o.displayFn),a.Bb(2),a.qc("ngForOf",a.kc(10,4,o.licenceValueChanges[e]))}}function st(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",24),a.ec("click",function(){return a.Cc(e),a.ic().onFormSubmit()}),a.Oc(1," Submit "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.subcontractDetails.valid)}}function ct(e,t){if(1&e){const e=a.Vb();a.Ub(0,"button",24),a.ec("click",function(t){return a.Cc(e),a.ic().onFormUpdate(t)}),a.Oc(1," Update "),a.Tb()}if(2&e){const e=a.ic();a.qc("disabled",!e.subcontractDetails.valid)}}const bt=function(){return["/admin/registration/subcontract"]};let mt=(()=>{class e{constructor(e,t,r,o,i){this.fb=e,this.upload=t,this.activatedRoute=r,this.router=o,this.licenceInfo=i,this.LicenceInfo=!1,this.profile=!1,this.licenceData=[],this.subcontractDetails=this.fb.group({companyName:["",n.C.required],phone:["",n.C.required],fax:[""],email:["",n.C.required],suburb:["",n.C.required],postCode:["",n.C.required],mailingAddress:["",n.C.required],streetAddress:["",n.C.required],ABN:["",n.C.required],file:[""],licenceNumber:["",n.C.required],website:["",n.C.required],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""],licenceAndQualifications:this.fb.array([])})}ngOnInit(){this.id=this.activatedRoute.snapshot.params.id,"form"!==this.id?(this.licenceInfo.getAllLicence().pipe(Object(y.a)(e=>e.data.map(e=>(e.fullName=""+e.title,e)))).subscribe(e=>{this.licenceData=e,console.log("this.empData",this.licenceData)}),this.dataEmp=!0,this.patchData()):(this.dataEmp=!1,this.licenceInfo.getAllLicence().pipe(Object(y.a)(e=>e.data.map(e=>(e.fullName=""+e.title,e)))).subscribe(e=>{this.licenceData=e,console.log("this.empData",this.licenceData),this.addFiled()})),this.filteredOptions2=this.subcontractDetails.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(800),Object(q.a)(),Object(w.a)(e=>(console.log("myControl22..",e,this.filteredOptions2),this.filter2(e||""))))}addLicence(){return this.subcontractDetails.get("licenceAndQualifications")}newFiled(){return this.fb.group({file:[""],LicenceName:[""],LicenceNumber:[""],TrainingQrginisation:[""],ExpiryDate:[""]})}newFiled1(e){return this.fb.group({file:[e.file],LicenceName:[e.LicenceName],LicenceNumber:[e.LicenceNumber],TrainingQrginisation:[e.TrainingQrginisation],ExpiryDate:[e.ExpiryDate]})}addFiled1(e){this.addLicence().push(this.newFiled1(e)),this.licenceValueChanges=new Array;for(let t=0;t<this.addLicence().length;t++){let e=this.addLicence().at(t);this.licenceValueChanges.push(e.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filter(e):this.licenceData.slice()))),console.log(e.valueChanges)}}addFiled(){this.addLicence().push(this.newFiled()),this.licenceValueChanges=new Array;for(let e=0;e<this.addLicence().length;e++){let t=this.addLicence().at(e);this.licenceValueChanges.push(t.controls.LicenceName.valueChanges.pipe(Object(D.a)(""),Object(x.a)(400),Object(E.a)(e=>console.log("value",e)),Object(y.a)(e=>"string"==typeof e?e:e.fullName),Object(y.a)(e=>e?this._filter(e):this.licenceData.slice()))),console.log(t.valueChanges)}}_filter(e){const t=e.toLowerCase();return this.licenceData.filter(e=>e.fullName.toLowerCase().includes(t))}removeFiled(e){const t=this.subcontractDetails.controls.licenceAndQualifications;t.length>1&&t.removeAt(e)}browser(e,t){const r=e.target.files[0],o=new FormData;o.append("",r),console.log(r),this.upload.upload(o).subscribe(e=>{console.log("AddProductComponent -> browser -> res",e),this.selectedImage=e.files,this.addLicence().at(t).get("file").patchValue(this.selectedImage),console.log("AddProductComponent -> browse -> this.selectedImage",this.selectedImage)})}profileshow(){this.LicenceInfo=!1,this.profile=!0}LicenceInfoshow(){this.LicenceInfo=!0,this.profile=!1}filter2(e){return this.licenceInfo.getAllLicence().pipe(Object(y.a)(e=>(e.data=e.data.map(e=>(e.LicenceName=""+e.title,e)),e)),Object(y.a)(t=>(t.data=t.data.filter(t=>0===t.LicenceName.toLowerCase().indexOf(e.toLowerCase())),t.data)))}displayFn(e){return e&&e.title?e.title:""}patchData(){this.licenceInfo.getSubcontract(this.id).subscribe(e=>{console.log("dataId=>",e.data),e.data.licenceAndQualifications.forEach(e=>{this.addFiled1(e)}),this.subcontractDetails.patchValue({companyName:e.data.companyName,phone:e.data.companyName,fax:e.data.companyName,email:e.data.companyName,streetAddress:e.data.companyName,suburb:e.data.companyName,postCode:e.data.companyName,mailingAddress:e.data.companyName,ABN:e.data.companyName,licenceNumber:e.data.companyName,website:e.data.companyName})})}onFormSubmit(){this.submitted=!0;const e={licenceAndQualifications:(()=>{this.addLicence();let e=[];return this.addLicence().controls.forEach(t=>{console.log("item",t),e.push({LicenceName:t.controls.LicenceName.value,LicenceNumber:t.controls.LicenceNumber.value,TrainingQrginisation:t.controls.TrainingQrginisation.value,ExpiryDate:t.controls.ExpiryDate.value,file:t.controls.file.value})}),e})(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,postCode:this.subcontractDetails.get("postCode").value,mailingAddress:this.subcontractDetails.get("mailingAddress").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",e),this.licenceInfo.addSubcontract(e).subscribe(e=>{console.log("data=>",e),M.a.fire({title:"Subcontractor Added successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/registration/subcontract"])},e=>{console.error(e)})}onFormUpdate(e){const t={licenceAndQualifications:(()=>{this.addLicence();let e=[];return this.addLicence().controls.forEach(t=>{console.log("item",t),e.push({LicenceName:t.controls.LicenceName.value,LicenceNumber:t.controls.LicenceNumber.value,TrainingQrginisation:t.controls.TrainingQrginisation.value,ExpiryDate:t.controls.ExpiryDate.value,file:t.controls.file.value})}),e})(),companyName:this.subcontractDetails.get("companyName").value,phone:this.subcontractDetails.get("phone").value,fax:this.subcontractDetails.get("fax").value,email:this.subcontractDetails.get("email").value,streetAddress:this.subcontractDetails.get("streetAddress").value,suburb:this.subcontractDetails.get("suburb").value,postCode:this.subcontractDetails.get("postCode").value,mailingAddress:this.subcontractDetails.get("mailingAddress").value,ABN:this.subcontractDetails.get("ABN").value,licenceNumber:this.subcontractDetails.get("licenceNumber").value,website:this.subcontractDetails.get("website").value};console.log("body=>",t),this.licenceInfo.updateSubcontract(this.id,t).subscribe(e=>{console.log("updateData",e),M.a.fire({title:"Subcontractor Updated successfully",showConfirmButton:!1,timer:1200}),this.router.navigate(["/admin/registration/subcontract"])},e=>{console.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(n.f),a.Ob(S),a.Ob(i.a),a.Ob(i.f),a.Ob(B.a))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-add-and-edit-subcontract"]],decls:60,vars:8,consts:[[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],[1,"container","bg-white",3,"formGroup"],[1,"text-center","mt-3","pt-3"],[1,"title"],["label","Profile",3,"click"],[1,"row"],[1,"mb-3","mt-3","col-3"],["for","exampleFormControlInput1",1,"form-label"],["type","text","formControlName","companyName",1,"form-control"],["type","text","formControlName","phone",1,"form-control"],["type","text","formControlName","fax",1,"form-control"],["type","text","formControlName","email",1,"form-control"],["type","text","formControlName","streetAddress",1,"form-control"],["type","text","formControlName","suburb",1,"form-control"],["type","text","formControlName","postCode",1,"form-control"],["type","text","formControlName","mailingAddress",1,"form-control"],["type","text","formControlName","ABN",1,"form-control"],["type","text","formControlName","licenceNumber",1,"form-control"],["type","text","formControlName","website",1,"form-control"],["type","submit","class","btn btn-outline-primary btn_1",3,"disabled","click",4,"ngIf"],["label","Licence And Qualifications",3,"click"],["formArrayName","licenceAndQualifications"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-outline-primary","btn_1",3,"disabled","click"],[3,"formGroupName"],["type","text","formControlName","LicenceName","id","siteName",1,"form-control",3,"matAutocomplete"],[3,"displayWith"],["employee1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","LicenceNumber",1,"form-control"],["type","text","formControlName","TrainingQrginisation",1,"form-control"],["type","date","formControlName","ExpiryDate",1,"form-control"],[1,"col-10"],[1,"my-3"],["for","formFile1",1,"form-label"],["type","file",1,"form-control",3,"change"],[1,"col-1","mt-4"],[1,"my-4"],[1,"material-icons",3,"click"],[3,"value"]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Pb(1,"i",1),a.Tb(),a.Ub(2,"div",2),a.Ub(3,"h1",3),a.Ub(4,"p",4),a.Oc(5,"Subcontractor Information Preview"),a.Tb(),a.Tb(),a.Ub(6,"mat-tab-group"),a.Ub(7,"mat-tab",5),a.ec("click",function(){return t.profileshow()}),a.Ub(8,"div",6),a.Ub(9,"div",7),a.Ub(10,"label",8),a.Oc(11,"Company Name "),a.Tb(),a.Pb(12,"input",9),a.Tb(),a.Ub(13,"div",7),a.Ub(14,"label",8),a.Oc(15,"Phone"),a.Tb(),a.Pb(16,"input",10),a.Tb(),a.Ub(17,"div",7),a.Ub(18,"label",8),a.Oc(19,"Fax "),a.Tb(),a.Pb(20,"input",11),a.Tb(),a.Ub(21,"div",7),a.Ub(22,"label",8),a.Oc(23,"Email"),a.Tb(),a.Pb(24,"input",12),a.Tb(),a.Ub(25,"div",7),a.Ub(26,"label",8),a.Oc(27,"Street Address "),a.Tb(),a.Pb(28,"input",13),a.Tb(),a.Ub(29,"div",7),a.Ub(30,"label",8),a.Oc(31,"Suburb"),a.Tb(),a.Pb(32,"input",14),a.Tb(),a.Ub(33,"div",7),a.Ub(34,"label",8),a.Oc(35,"Post Code"),a.Tb(),a.Pb(36,"input",15),a.Tb(),a.Ub(37,"div",7),a.Ub(38,"label",8),a.Oc(39,"Mailing Address"),a.Tb(),a.Pb(40,"input",16),a.Tb(),a.Ub(41,"div",7),a.Ub(42,"label",8),a.Oc(43,"ABN"),a.Tb(),a.Pb(44,"input",17),a.Tb(),a.Ub(45,"div",7),a.Ub(46,"label",8),a.Oc(47,"Licence Number "),a.Tb(),a.Pb(48,"input",18),a.Tb(),a.Ub(49,"div",7),a.Ub(50,"label",8),a.Oc(51,"Website "),a.Tb(),a.Pb(52,"input",19),a.Tb(),a.Tb(),a.Mc(53,it,2,1,"button",20),a.Mc(54,nt,2,1,"button",20),a.Tb(),a.Ub(55,"mat-tab",21),a.ec("click",function(){return t.LicenceInfoshow()}),a.Ub(56,"div",22),a.Mc(57,lt,37,6,"div",23),a.Tb(),a.Mc(58,st,2,1,"button",20),a.Mc(59,ct,2,1,"button",20),a.Tb(),a.Tb(),a.Tb()),2&e&&(a.qc("routerLink",a.tc(7,bt)),a.Bb(2),a.qc("formGroup",t.subcontractDetails),a.Bb(51),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp),a.Bb(3),a.qc("ngForOf",t.addLicence().controls),a.Bb(1),a.qc("ngIf",!t.dataEmp),a.Bb(1),a.qc("ngIf",t.dataEmp))},directives:[i.g,n.s,n.k,_.b,_.a,n.d,n.r,n.i,o.n,n.e,o.m,n.l,R.c,R.a,j.n],pipes:[o.b],styles:["input[type=file][_ngcontent-%COMP%]{height:10%;padding:0}button[_ngcontent-%COMP%]{background-color:transparent;background-repeat:no-repeat;border:none;cursor:pointer;overflow:hidden;outline:none}.text_2[_ngcontent-%COMP%]{font-size:15px}.outline[_ngcontent-%COMP%]:focus, .outline[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.title[_ngcontent-%COMP%]{font-size:32px;font-weight:700;word-break:break-word;text-align:center;font-family:Inter,sans-serif}.form-check-input[_ngcontent-%COMP%]:hover, .form-control[_ngcontent-%COMP%]:hover{border-color:rgba(46,105,255,.5);box-shadow:0 0 0 2px rgba(46,105,255,.25)}.form-check-input[_ngcontent-%COMP%]{width:15px;height:15px}.label_2[_ngcontent-%COMP%]{display:inline-block;font-size:14px;font-weight:500;margin-left:7px;margin-top:5px}.emergrncy_1[_ngcontent-%COMP%]{font-size:16px!important}.emergrncy_1[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{display:inline-block;font-weight:500!important;word-break:break-word;font-family:Inter,sans-serif!important}label[_ngcontent-%COMP%]{font-size:14px!important}.sign[_ngcontent-%COMP%]{padding:10px;border:1px solid rgba(46,105,255,.5);width:500px;border-radius:5px}.sign[_ngcontent-%COMP%]:hover{border:1px solid rgba(46,105,255,.25098039215686274);box-shadow:0 0 0 3px rgba(46,105,255,.25)}.formfield[_ngcontent-%COMP%]{border:1px solid red}.inputData[_ngcontent-%COMP%]{text-transform:capitalize}"]}),e})();function dt(e,t){1&e&&(a.Ub(0,"th",16),a.Oc(1," No. "),a.Tb())}function ut(e,t){if(1&e&&(a.Ub(0,"td",17),a.Oc(1),a.Tb()),2&e){const e=t.$implicit;a.Bb(1),a.Pc(e.index)}}function pt(e,t){1&e&&(a.Ub(0,"th",16),a.Oc(1," Company Name "),a.Tb())}function ft(e,t){if(1&e&&(a.Ub(0,"td",17),a.Ub(1,"span",18),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.companyName)}}function gt(e,t){1&e&&(a.Ub(0,"th",16),a.Oc(1," Email "),a.Tb())}function ht(e,t){if(1&e&&(a.Ub(0,"td",17),a.Ub(1,"span",19),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.email)}}function Ct(e,t){1&e&&(a.Ub(0,"th",16),a.Oc(1," Street Address "),a.Tb())}function Tt(e,t){if(1&e&&(a.Ub(0,"td",17),a.Ub(1,"span",19),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.streetAddress)}}function vt(e,t){1&e&&(a.Ub(0,"th",16),a.Oc(1," Phone "),a.Tb())}function Ut(e,t){if(1&e&&(a.Ub(0,"td",17),a.Ub(1,"span",19),a.Oc(2),a.Tb(),a.Tb()),2&e){const e=t.$implicit;a.Bb(2),a.Pc(e.phone)}}function yt(e,t){1&e&&(a.Ub(0,"th",20),a.Oc(1," Action "),a.Tb())}function Pt(e,t){if(1&e){const e=a.Vb();a.Ub(0,"td",17),a.Ub(1,"button",21),a.ec("click",function(){a.Cc(e);const r=t.$implicit;return a.ic().edit(r._id)}),a.Ub(2,"mat-icon"),a.Oc(3,"edit"),a.Tb(),a.Tb(),a.Ub(4,"button",22),a.ec("click",function(){a.Cc(e);const r=t.$implicit;return a.ic().delete(r)}),a.Ub(5,"mat-icon"),a.Oc(6,"delete"),a.Tb(),a.Tb(),a.Tb()}}function Ot(e,t){1&e&&a.Pb(0,"tr",23)}function Nt(e,t){1&e&&a.Pb(0,"tr",24)}const Ft=function(e){return[e]},Dt=function(){return[20]},xt=[{path:"",component:N},{path:"employeeRegistration",component:Ze},{path:"addEmployee/:id",component:Ne},{path:"plantRegistration",component:ot},{path:"subcontract",component:(()=>{class e{constructor(e,t,r,o,i,n){this.subContract=e,this.fb=t,this.setTitle=r,this.dialog=o,this.spinner=i,this.router=n,this.ELEMENT_DATA=[],this.displayedColumns=["index","companyName","email","streetAddress","phone","action"],this.dataSource=new Fe.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}ngOnInit(){this.getAllSubcontractor(),this.setTitle.setTitle("WHS-Subcontractor Details")}getAllSubcontractor(){this.subContract.getAllSubcontract().subscribe(e=>{console.log(e);let t=e.data;t.forEach((e,t)=>{e.index=t+1}),this.ELEMENT_DATA=t,this.dataSource=new Fe.l(this.ELEMENT_DATA),this.dataSource.paginator=this.paginator})}delete(e){M.a.fire({title:"Are you sure?",text:`Do you want to delete "${e.companyName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(t=>{t.value&&(console.log(t),this.spinner.show(),this.subContract.deleteSubcontract(e._id).subscribe(e=>{this.getAllSubcontractor(),this.spinner.hide()}))})}edit(e){this.router.navigate(["/admin/registration/addSubcontract/"+e])}}return e.\u0275fac=function(t){return new(t||e)(a.Ob(B.a),a.Ob(n.f),a.Ob(qe.a),a.Ob(we.b),a.Ob(Ee.c),a.Ob(i.f))},e.\u0275cmp=a.Ib({type:e,selectors:[["app-subcontract"]],viewQuery:function(e,t){if(1&e&&(a.Sc(xe.a,!0),a.Sc(De.a,!0)),2&e){let e;a.xc(e=a.fc())&&(t.paginator=e.first),a.xc(e=a.fc())&&(t.sort=e.first)}},decls:30,vars:8,consts:[[1,"col","ml-2","pt-1"],["type","button",1,"btn","btn-outline-primary","mr-2","float-right",3,"routerLink"],[1,"fas","fa-plus"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","companyName"],["matColumnDef","email"],["matColumnDef","streetAddress"],["matColumnDef","phone"],["matColumnDef","action"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex"],[1,"flex-start"],["mat-header-cell",""],["mat-icon-button","","aria-label","Example icon button with a delete icon",1,"mr-2",3,"click"],["mat-icon-button","","aria-label","Example icon button with a delete icon",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(a.Ub(0,"div",0),a.Ub(1,"h1"),a.Oc(2," Subcontractor Details "),a.Tb(),a.Tb(),a.Ub(3,"div"),a.Ub(4,"button",1),a.Pb(5,"i",2),a.Oc(6," Add Subcontractor "),a.Tb(),a.Tb(),a.Ub(7,"div"),a.Ub(8,"table",3),a.Sb(9,4),a.Mc(10,dt,2,0,"th",5),a.Mc(11,ut,2,1,"td",6),a.Rb(),a.Sb(12,7),a.Mc(13,pt,2,0,"th",5),a.Mc(14,ft,3,1,"td",6),a.Rb(),a.Sb(15,8),a.Mc(16,gt,2,0,"th",5),a.Mc(17,ht,3,1,"td",6),a.Rb(),a.Sb(18,9),a.Mc(19,Ct,2,0,"th",5),a.Mc(20,Tt,3,1,"td",6),a.Rb(),a.Sb(21,10),a.Mc(22,vt,2,0,"th",5),a.Mc(23,Ut,3,1,"td",6),a.Rb(),a.Sb(24,11),a.Mc(25,yt,2,0,"th",12),a.Mc(26,Pt,7,0,"td",6),a.Rb(),a.Mc(27,Ot,1,0,"tr",13),a.Mc(28,Nt,1,0,"tr",14),a.Tb(),a.Pb(29,"mat-paginator",15),a.Tb()),2&e&&(a.Bb(4),a.qc("routerLink",a.uc(5,Ft,"/admin/registration/addSubcontract/form")),a.Bb(4),a.qc("dataSource",t.dataSource),a.Bb(19),a.qc("matHeaderRowDef",t.displayedColumns),a.Bb(1),a.qc("matRowDefColumns",t.displayedColumns),a.Bb(1),a.qc("pageSizeOptions",a.tc(7,Dt)))},directives:[i.g,Fe.k,De.a,Fe.c,Fe.e,Fe.b,Fe.g,Fe.j,xe.a,Fe.d,De.b,Fe.a,Ae.a,Me.a,Fe.f,Fe.i],styles:["table[_ngcontent-%COMP%]{width:100%}  .mat-sort-header-container{margin-left:47%!important}"]}),e})()},{path:"addSubcontract/:id",component:mt},{path:"compdetails",component:v}];let qt=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[i.j.forChild(xt)],i.j]}),e})();var wt=r("PCNd");let Et=(()=>{class e{}return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},imports:[[o.c,qt,n.m,n.y,k.b,Fe.m,wt.a]]}),e})()}}]);