!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function i(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"6bhV":function(e,n,o){"use strict";o.d(n,"a",function(){return r}),o.d(n,"b",function(){return s});var a=o("fXoL"),c=function(){var e=function(){function e(){t(this,e)}return i(e,[{key:"nativeWindow",get:function(){return window}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=a.Kb({token:e,factory:e.\u0275fac,providedIn:"root"}),e.ngInjectableDef=Object(a.Kb)({factory:function(){return new e},token:e,providedIn:"root"}),e}(),r=function(){var e=function(){function e(i,n,o){t(this,e),this.element=i,this._window=n,this._zone=o,this.onlyGrow=!1,this.useImportant=!1,this.resized=new a.o,this.retries=0,this._destroyed=!1,"TEXTAREA"!==this.element.nativeElement.tagName?this._findNestedTextArea():(this.textAreaEl=this.element.nativeElement,this.textAreaEl.style.overflow="hidden",this._onTextAreaFound())}return i(e,[{key:"minRows",set:function(t){this._minRows=t,this.textAreaEl&&(this.textAreaEl.rows=t)}},{key:"onInput",value:function(t){this.adjust()}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._windowResizeHandler&&this._window.nativeWindow.removeEventListener("resize",this._windowResizeHandler,!1)}},{key:"ngAfterContentChecked",value:function(){this.adjust()}},{key:"ngOnChanges",value:function(t){this.adjust(!0)}},{key:"_findNestedTextArea",value:function(){var t=this;this.textAreaEl=this.element.nativeElement.querySelector("TEXTAREA"),!this.textAreaEl&&this.element.nativeElement.shadowRoot&&(this.textAreaEl=this.element.nativeElement.shadowRoot.querySelector("TEXTAREA")),this.textAreaEl?(this.textAreaEl.style.overflow="hidden",this._onTextAreaFound()):this.retries>=3?console.warn("ngx-autosize: textarea not found"):(this.retries++,setTimeout(function(){t._findNestedTextArea()},100))}},{key:"_onTextAreaFound",value:function(){var t=this;this._addWindowResizeHandler(),setTimeout(function(){t.adjust()})}},{key:"_addWindowResizeHandler",value:function(){var t=this;this._windowResizeHandler=function(t,e){var i,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(){var o=this,a=arguments,c=function(){i=null,n||t.apply(o,a)},r=n&&!i;clearTimeout(i),i=setTimeout(c,e),r&&t.apply(o,a)}}(function(){t._zone.run(function(){t.adjust()})},200),this._zone.runOutsideAngular(function(){t._window.nativeWindow.addEventListener("resize",t._windowResizeHandler,!1)})}},{key:"adjust",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this._destroyed&&this.textAreaEl&&this.textAreaEl.parentNode){var e=this.textAreaEl.value;if(!1===t&&e===this._oldContent&&this.textAreaEl.offsetWidth===this._oldWidth)return;this._oldContent=e,this._oldWidth=this.textAreaEl.offsetWidth;var i=this.textAreaEl.cloneNode(!0),n=this.textAreaEl.parentNode;i.style.width=this.textAreaEl.offsetWidth+"px",i.style.visibility="hidden",i.style.position="absolute",i.textContent=e,n.appendChild(i),i.style.overflow="hidden",i.style.height="auto";var o=i.scrollHeight,a=this._window.nativeWindow.getComputedStyle(i,null);o+=parseInt(a.getPropertyValue("border-top-width")),o+=parseInt(a.getPropertyValue("border-bottom-width")),o+=parseInt(a.getPropertyValue("padding-top")),o+=parseInt(a.getPropertyValue("padding-bottom"));var c=this.textAreaEl.offsetHeight,r=o>c;if(!1===this.onlyGrow||r){var s=this._getLineHeight(),l=o/s;if(this._minRows&&this._minRows>=l)o=this._minRows*s;else if(this.maxRows&&this.maxRows<=l){var u=this.maxRows*s;o=this.onlyGrow?Math.max(u,c):u,this.textAreaEl.style.overflow="auto"}else this.textAreaEl.style.overflow="hidden";this.textAreaEl.style.setProperty("height",o+"px",this.useImportant?"important":""),this.resized.emit(o)}n.removeChild(i)}}},{key:"_getLineHeight",value:function(){var t=parseInt(this.textAreaEl.style.lineHeight,10);if(isNaN(t)&&this._window.nativeWindow.getComputedStyle){var e=this._window.nativeWindow.getComputedStyle(this.textAreaEl);t=parseInt(e.lineHeight,10)}if(isNaN(t)){var i=this._window.nativeWindow.getComputedStyle(this.textAreaEl,null).getPropertyValue("font-size");t=Math.floor(1.5*parseInt(i.replace("px",""),10))}return t}}]),e}();return e.\u0275fac=function(t){return new(t||e)(a.Ob(a.l),a.Ob(c),a.Ob(a.B))},e.\u0275dir=a.Jb({type:e,selectors:[["","autosize",""]],hostBindings:function(t,e){1&t&&a.ec("input",function(t){return e.onInput(t.target)})},inputs:{onlyGrow:"onlyGrow",useImportant:"useImportant",minRows:"minRows",maxRows:"maxRows"},outputs:{resized:"resized"},features:[a.zb]}),e}(),s=function(){var e=function e(){t(this,e)};return e.\u0275mod=a.Mb({type:e}),e.\u0275inj=a.Lb({factory:function(t){return new(t||e)},providers:[c],imports:[[]]}),e}()},jASi:function(e,n,o){"use strict";o.r(n),o.d(n,"FormsModule1",function(){return _n});var a,c,r=o("ofXK"),s=o("fXoL"),l=((c=function e(){t(this,e)}).\u0275mod=s.Mb({type:c}),c.\u0275inj=s.Lb({factory:function(t){return new(t||c)},imports:[[r.c]]}),c),u=((a=function(){function e(i){t(this,e),this.elementRef=i}return i(e,[{key:"onInput",value:function(){this.resize()}},{key:"ngOnInit",value:function(){var t=this;this.elementRef.nativeElement.scrollHeight&&setTimeout(function(){return t.resize()})}},{key:"resize",value:function(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}]),e}()).\u0275fac=function(t){return new(t||a)(s.Ob(s.l))},a.\u0275dir=s.Jb({type:a,selectors:[["","appTextareaAutoresize",""]],hostBindings:function(t,e){1&t&&s.ec("input",function(){return e.onInput()})}}),a),d=o("/1cH"),m=o("tyNb"),b=o("wZkO"),f=o("M9IT"),h=o("+0xr"),p=o("Dh3D"),v=o("0IaG"),g=o("JqCM"),y=o("yZxC"),T=o("3Pt+"),w=o("1jcm"),O=o("Qu3c"),D=o("OFbc");function C(t,e){1&t&&(s.Ub(0,"th",15),s.Oc(1," No. "),s.Tb())}function k(t,e){if(1&t&&(s.Ub(0,"td",16),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.index)}}function U(t,e){1&t&&(s.Ub(0,"th",15),s.Oc(1," Form Name "),s.Tb())}function M(t,e){if(1&t&&(s.Ub(0,"td",16),s.Ub(1,"span",17),s.Oc(2),s.Tb(),s.Tb()),2&t){var i=e.$implicit;s.Bb(2),s.Pc(i.title)}}function I(t,e){1&t&&(s.Ub(0,"th",18),s.Oc(1," Form Frequency "),s.Tb())}function S(t,e){1&t&&(s.Ub(0,"td",16),s.Ub(1,"select",19),s.Ub(2,"option",20),s.Oc(3,"Daily"),s.Tb(),s.Ub(4,"option",21),s.Oc(5,"Weekly"),s.Tb(),s.Ub(6,"option",21),s.Oc(7,"Monthly"),s.Tb(),s.Ub(8,"option",22),s.Oc(9,"Quaterly"),s.Tb(),s.Ub(10,"option",23),s.Oc(11,"Half yearly"),s.Tb(),s.Ub(12,"option",24),s.Oc(13,"Yearly"),s.Tb(),s.Ub(14,"option",25),s.Oc(15,"Once Off"),s.Tb(),s.Tb(),s.Tb())}function R(t,e){1&t&&(s.Ub(0,"th",18),s.Oc(1," Disable/Enable "),s.Tb())}function B(t,e){1&t&&(s.Ub(0,"td",16),s.Pb(1,"mat-slide-toggle",26),s.Tb())}function A(t,e){1&t&&(s.Ub(0,"th",18),s.Oc(1," Action "),s.Tb())}function x(t,e){if(1&t&&(s.Ub(0,"span",30),s.Pb(1,"svg-icon",31),s.Tb()),2&t){var i=s.ic().$implicit;s.qc("routerLink",i.link)}}function H(t,e){if(1&t){var i=s.Vb();s.Ub(0,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().goTo(t.title)}),s.Oc(1," launch "),s.Tb()}}function P(t,e){if(1&t&&(s.Ub(0,"td",16),s.Ub(1,"div",27),s.Mc(2,x,2,1,"span",28),s.Mc(3,H,2,0,"span",29),s.Tb(),s.Tb()),2&t){var i=s.ic();s.Bb(2),s.qc("ngIf","fillConfigForm"==i.url[0].path),s.Bb(1),s.qc("ngIf","fillConfigForm"==i.url[0].path)}}function F(t,e){1&t&&s.Pb(0,"tr",33)}function _(t,e){1&t&&s.Pb(0,"tr",34)}function q(t,e){1&t&&(s.Ub(0,"tr",35),s.Ub(1,"td",36),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var z,$,N=function(){return[20]},E=((z=function(){function e(i,n,o,a,c){t(this,e),this.dialog=i,this.spinner=n,this.router=o,this.setTitle=a,this.activatedRoute=c,this.page=1,this.pageSize=10,this.collectionSize=10,this.ELEMENT_DATA=[{index:1,title:"Hazards Reported",link:["/admin/forms/hazardRep/form"]},{index:2,title:"Notifiable Accident",link:["/admin/forms/incidentRep/Form"]},{index:3,title:"Toolbox Talk",link:["/admin/forms/toolboxTalk/form"]},{index:4,title:"Site Inspection",link:["/admin/forms/siteInspect/form"]},{index:5,title:"Risk Assessment",link:["/admin/forms/riskAssessSWMS/form"]}],this.formName="",this.displayedColumns=["index","formName","formFrequency","Disable/Enable"],this.dataSource=new h.l(this.ELEMENT_DATA)}return i(e,[{key:"ngAfterViewInit",value:function(){this.dataSource.paginator=this.paginator}},{key:"goTo",value:function(t){console.log("title",t),"Toolbox Talk"===t&&this.router.navigate(["/admin/forms/tableData"]),"Site Inspection"===t&&this.router.navigate(["/admin/forms/siteinspectiontable"]),"Hazards Reported"===t&&this.router.navigate(["/admin/forms/hazardTable"]),"Notifiable Accident"===t&&this.router.navigate(["/admin/forms/incidentsTable"]),"Risk Assessment"===t&&this.router.navigate(["/admin/forms/riskAssessTable"])}},{key:"ngOnInit",value:function(){this.url=this.activatedRoute.snapshot.url,this.setTitle.setTitle("WHS-All Form")}}]),e}()).\u0275fac=function(t){return new(t||z)(s.Ob(v.b),s.Ob(g.c),s.Ob(m.f),s.Ob(y.a),s.Ob(m.a))},z.\u0275cmp=s.Ib({type:z,selectors:[["app-forms"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(p.a,!0),s.Sc(f.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.sort=i.first),s.xc(i=s.fc())&&(e.paginator=i.first))},inputs:{displayedColumns:"displayedColumns"},decls:24,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formName"],["matColumnDef","formFrequency"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Disable/Enable"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["aria-label","Default select example",1,"form-select","form-control"],["value","daily"],["value","weekly"],["value","quaterly"],["value","halfYearly"],["value","yearly"],["value","onceOff"],["color","primary","checked",""],[2,"display","flex","justify-content","space-evenly"],["class","material-icons","matTooltip","Fill The Form","style","font-size: 26px ;cursor: pointer !important;",3,"routerLink",4,"ngIf"],["class","material-icons mt-2","matTooltip","Saved Form List","style","cursor: pointer !important;",3,"click",4,"ngIf"],["matTooltip","Fill The Form",1,"material-icons",2,"font-size","26px","cursor","pointer !important",3,"routerLink"],["name","Fill_form"],["matTooltip","Saved Form List",1,"material-icons","mt-2",2,"cursor","pointer !important",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"h1"),s.Oc(2," Forms List"),s.Tb(),s.Tb(),s.Ub(3,"div",1),s.Ub(4,"table",2),s.Sb(5,3),s.Mc(6,C,2,0,"th",4),s.Mc(7,k,2,1,"td",5),s.Rb(),s.Sb(8,6),s.Mc(9,U,2,0,"th",4),s.Mc(10,M,3,1,"td",5),s.Rb(),s.Sb(11,7),s.Mc(12,I,2,0,"th",8),s.Mc(13,S,16,0,"td",5),s.Rb(),s.Sb(14,9),s.Mc(15,R,2,0,"th",8),s.Mc(16,B,2,0,"td",5),s.Rb(),s.Sb(17,10),s.Mc(18,A,2,0,"th",8),s.Mc(19,P,4,2,"td",5),s.Rb(),s.Mc(20,F,1,0,"tr",11),s.Mc(21,_,1,0,"tr",12),s.Mc(22,q,3,0,"tr",13),s.Tb(),s.Pb(23,"mat-paginator",14),s.Tb()),2&t&&(s.Bb(4),s.qc("dataSource",e.dataSource),s.Bb(16),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(4,N)))},directives:[h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,h.d,p.b,h.a,T.v,T.D,w.a,r.n,O.a,m.g,D.b,h.f,h.i],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),z),L=o("1tPq"),j=(($=function(){function e(i){t(this,e),this.activatedRoute=i,this.displayedColumns=["index","formName","edit"]}return i(e,[{key:"ngOnInit",value:function(){this.selectValue=this.activatedRoute.snapshot.params.index}}]),e}()).\u0275fac=function(t){return new(t||$)(s.Ob(m.a))},$.\u0275cmp=s.Ib({type:$,selectors:[["app-fill-configured-form"]],decls:5,vars:3,consts:[[3,"selectedIndex"],["label","Logical Forms List"],[3,"displayedColumns"],["label","Dynamic Forms List"]],template:function(t,e){1&t&&(s.Ub(0,"mat-tab-group",0),s.Ub(1,"mat-tab",1),s.Pb(2,"app-forms",2),s.Tb(),s.Ub(3,"mat-tab",3),s.Pb(4,"app-dynamic-list",2),s.Tb(),s.Tb()),2&t&&(s.qc("selectedIndex",e.selectValue),s.Bb(2),s.qc("displayedColumns",e.displayedColumns),s.Bb(2),s.qc("displayedColumns",e.displayedColumns))},directives:[b.b,b.a,E,L.a],styles:[""]}),$),Q=o("lJxs"),V=o("wbBK"),W=o("zXlT"),G=function(t){return[t]};function J(t,e){1&t&&(s.Ub(0,"div",24),s.Pb(1,"i",25),s.Tb()),2&t&&s.qc("routerLink",s.uc(1,G,"/admin/forms/fillConfigForm/0"))}var X=function(){return["/admin/forms/tableData"]};function Y(t,e){1&t&&(s.Ub(0,"div",24),s.Pb(1,"i",25),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,X))}function K(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," ToolBox Talk List"),s.Tb())}function Z(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," ToolBox Talk Form Histroy List"),s.Tb())}function tt(t,e){1&t&&(s.Ub(0,"th",26),s.Oc(1," No. "),s.Tb())}function et(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.index+1)}}function it(t,e){1&t&&(s.Ub(0,"th",26),s.Oc(1," Form Id "),s.Tb())}function nt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.formId)}}function ot(t,e){1&t&&(s.Ub(0,"th",26),s.Oc(1," Version "),s.Tb())}function at(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.version)}}function ct(t,e){1&t&&(s.Ub(0,"th",26),s.Oc(1," Name "),s.Tb())}function rt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.customerName)}}function st(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1," Phone"),s.Tb())}function lt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.custConct)}}function ut(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Email"),s.Tb())}function dt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.custEmail," ")}}function mt(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Site Name"),s.Tb())}function bt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.siteName," ")}}function ft(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Created Date"),s.Tb())}function ht(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdAt,"medium")," ")}}function pt(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Updated Date"),s.Tb())}function vt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedAt,"medium")," ")}}function gt(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Created Date"),s.Tb())}function yt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdTime,"medium")," ")}}function Tt(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1,"Updated Date"),s.Tb())}function wt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedTime,"medium")," ")}}function Ot(t,e){1&t&&(s.Ub(0,"th",28),s.Oc(1," Action "),s.Tb())}function Dt(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",30),s.Ub(1,"span",31),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().edit(t._id)}),s.Oc(2," edit "),s.Tb(),s.Ub(3,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().printPage(t._id)}),s.Oc(4," print "),s.Tb(),s.Ub(5,"span",33),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().delete(t._id)}),s.Oc(6," delete "),s.Tb(),s.Ub(7,"span",34),s.Oc(8," history "),s.Tb(),s.Tb()}if(2&t){var n=s.ic().$implicit;s.Bb(7),s.qc("routerLink",s.uc(1,G,"/admin/forms/tableData/history/"+n._id))}}function Ct(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",30),s.Ub(1,"span",35),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().view(t._id)}),s.Oc(2," visibility "),s.Tb(),s.Tb()}}function kt(t,e){if(1&t&&(s.Ub(0,"td",27),s.Mc(1,Dt,9,3,"div",29),s.Mc(2,Ct,3,0,"div",29),s.Tb()),2&t){var i=s.ic();s.Bb(1),s.qc("ngIf",!i.isHistory),s.Bb(1),s.qc("ngIf",i.isHistory)}}function Ut(t,e){1&t&&s.Pb(0,"tr",36)}function Mt(t,e){1&t&&s.Pb(0,"tr",37)}function It(t,e){1&t&&(s.Ub(0,"tr",38),s.Ub(1,"td",39),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var St,Rt=function(){return[20]},Bt=((St=function(){function e(i,n,o,a,c){t(this,e),this.activatedRoute=i,this.logicalFormInfo=n,this.router=o,this.shared=a,this.spinner=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"],this.role=["product owner"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/tableData/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(Q.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getToolBoxHistory()}):this.getToolBox()}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;this.logicalFormInfo.deleteToolBox(t).subscribe(function(t){console.log("deleted",t),e.getToolBox()})}},{key:"getToolBox",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.gettoolBox(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"getToolBoxHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.gettoolBoxHistory(e,i,n).subscribe(function(e){t.showDatas=e.data[0].result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/toolboxTalk/"+t])}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/tableData/history/toolboxTalk/"+t],{queryParams:{returnTo:this.router.url}})}},{key:"sortData",value:function(t){this.isHistory?this.getToolBoxHistory(t.active,t.direction):this.getToolBox(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}])}}]),e}()).\u0275fac=function(t){return new(t||St)(s.Ob(m.a),s.Ob(V.a),s.Ob(m.f),s.Ob(W.a),s.Ob(g.c))},St.\u0275cmp=s.Ib({type:St,selectors:[["app-display-table"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(f.a,!0),s.Sc(p.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.paginator=i.first),s.xc(i=s.fc())&&(e.sort=i.first))},decls:47,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","version"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["mat-icon-button","","matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Mc(0,J,2,3,"div",0),s.Mc(1,Y,2,2,"div",0),s.Ub(2,"div",1),s.Mc(3,K,2,0,"h1",2),s.Mc(4,Z,2,0,"h1",2),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"table",4),s.ec("matSortChange",function(t){return e.sortData(t)}),s.Sb(7,5),s.Mc(8,tt,2,0,"th",6),s.Mc(9,et,2,1,"td",7),s.Rb(),s.Sb(10,8),s.Mc(11,it,2,0,"th",6),s.Mc(12,nt,2,1,"td",7),s.Rb(),s.Sb(13,9),s.Mc(14,ot,2,0,"th",6),s.Mc(15,at,2,1,"td",7),s.Rb(),s.Sb(16,10),s.Mc(17,ct,2,0,"th",6),s.Mc(18,rt,2,1,"td",7),s.Rb(),s.Sb(19,11),s.Mc(20,st,2,0,"th",12),s.Mc(21,lt,2,1,"td",7),s.Rb(),s.Sb(22,13),s.Mc(23,ut,2,0,"th",12),s.Mc(24,dt,2,1,"td",7),s.Rb(),s.Sb(25,14),s.Mc(26,mt,2,0,"th",12),s.Mc(27,bt,2,1,"td",7),s.Rb(),s.Sb(28,15),s.Mc(29,ft,2,0,"th",12),s.Mc(30,ht,3,4,"td",7),s.Rb(),s.Sb(31,16),s.Mc(32,pt,2,0,"th",12),s.Mc(33,vt,3,4,"td",7),s.Rb(),s.Sb(34,17),s.Mc(35,gt,2,0,"th",12),s.Mc(36,yt,3,4,"td",7),s.Rb(),s.Sb(37,18),s.Mc(38,Tt,2,0,"th",12),s.Mc(39,wt,3,4,"td",7),s.Rb(),s.Sb(40,19),s.Mc(41,Ot,2,0,"th",12),s.Mc(42,kt,3,2,"td",7),s.Rb(),s.Mc(43,Ut,1,0,"tr",20),s.Mc(44,Mt,1,0,"tr",21),s.Mc(45,It,3,0,"tr",22),s.Tb(),s.Pb(46,"mat-paginator",23),s.Tb()),2&t&&(s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("dataSource",e.tempArray),s.Bb(37),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(8,Rt)))},directives:[r.n,h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,m.g,h.d,p.b,h.a,O.a,m.h,h.f,h.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),St),At=o("9Ohn"),xt=o("4psL"),Ht=o("woRl"),Pt=o("lJ0R"),Ft=o("h5Ns"),_t=o("PSD3"),qt=o.n(_t),zt=function(t){return[t]};function $t(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.uc(1,zt,"/admin/forms/fillConfigForm/0"))}var Nt=function(){return["/admin/forms/siteinspectiontable"]};function Et(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,Nt))}function Lt(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Site Inspection List"),s.Tb())}function jt(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Site Inspection Form History List"),s.Tb())}function Qt(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Version "),s.Tb())}function Vt(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.version)}}function Wt(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Form Id "),s.Tb())}function Gt(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.formId)}}function Jt(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Name "),s.Tb())}function Xt(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.customerName)}}function Yt(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Phone"),s.Tb())}function Kt(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.custConctPh)}}function Zt(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Email"),s.Tb())}function te(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.custEmail," ")}}function ee(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Site Name"),s.Tb())}function ie(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.siteName," ")}}function ne(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function oe(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdAt,"medium")," ")}}function ae(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function ce(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedAt,"medium")," ")}}function re(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function se(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdTime,"medium")," ")}}function le(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function ue(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedTime,"medium")," ")}}function de(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Action "),s.Tb())}function me(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",30),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().edit(t._id)}),s.Oc(2," edit "),s.Tb(),s.Ub(3,"span",31),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().printPage(t._id)}),s.Oc(4," print "),s.Tb(),s.Ub(5,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().delete(t._id)}),s.Oc(6," delete "),s.Tb(),s.Ub(7,"span",33),s.Oc(8," history "),s.Tb(),s.Tb()}if(2&t){var n=s.ic().$implicit;s.Bb(7),s.qc("routerLink",s.uc(1,zt,"/admin/forms/siteinspectiontable/history/"+n._id))}}function be(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",34),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().view(t._id)}),s.Oc(2," visibility "),s.Tb(),s.Tb()}}function fe(t,e){if(1&t&&(s.Ub(0,"td",26),s.Mc(1,me,9,3,"div",28),s.Mc(2,be,3,0,"div",28),s.Tb()),2&t){var i=s.ic();s.Bb(1),s.qc("ngIf",!i.isHistory),s.Bb(1),s.qc("ngIf",i.isHistory)}}function he(t,e){1&t&&s.Pb(0,"tr",35)}function pe(t,e){1&t&&s.Pb(0,"tr",36)}function ve(t,e){1&t&&(s.Ub(0,"tr",37),s.Ub(1,"td",38),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var ge,ye=function(){return[20]},Te=((ge=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/siteinspectiontable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(Q.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getsiteInspectionHistory()}):this.getsiteInspection()}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteSiteInspection(t).subscribe(function(t){qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getsiteInspection()})})}},{key:"getsiteInspection",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllSiteInspection(e,i).subscribe(function(e){console.log("res",e.data),t.showDatas=e.data,console.log("res",t.showDatas),t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"getsiteInspectionHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllSiteInspectionHistory(e,i,n).subscribe(function(e){console.log("res",e.result),t.showDatas=e.result,console.log("res",t.showDatas),t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/siteInspect/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getsiteInspectionHistory(t.active,t.direction):this.getsiteInspection(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.clear(),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}])}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/siteinspectiontable/history/siteInspect/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||ge)(s.Ob(V.a),s.Ob(m.f),s.Ob(g.c),s.Ob(W.a),s.Ob(m.a))},ge.\u0275cmp=s.Ib({type:ge,selectors:[["app-site-inspection-table"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(f.a,!0),s.Sc(p.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.paginator=i.first),s.xc(i=s.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Mc(0,$t,2,3,"div",0),s.Mc(1,Et,2,2,"div",0),s.Ub(2,"div",1),s.Mc(3,Lt,2,0,"h1",2),s.Mc(4,jt,2,0,"h1",2),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"table",4),s.ec("matSortChange",function(t){return e.sortData(t)}),s.Sb(7,5),s.Mc(8,Qt,2,0,"th",6),s.Mc(9,Vt,2,1,"td",7),s.Rb(),s.Sb(10,8),s.Mc(11,Wt,2,0,"th",6),s.Mc(12,Gt,2,1,"td",7),s.Rb(),s.Sb(13,9),s.Mc(14,Jt,2,0,"th",6),s.Mc(15,Xt,2,1,"td",7),s.Rb(),s.Sb(16,10),s.Mc(17,Yt,2,0,"th",11),s.Mc(18,Kt,2,1,"td",7),s.Rb(),s.Sb(19,12),s.Mc(20,Zt,2,0,"th",11),s.Mc(21,te,2,1,"td",7),s.Rb(),s.Sb(22,13),s.Mc(23,ee,2,0,"th",11),s.Mc(24,ie,2,1,"td",7),s.Rb(),s.Sb(25,14),s.Mc(26,ne,2,0,"th",11),s.Mc(27,oe,3,4,"td",7),s.Rb(),s.Sb(28,15),s.Mc(29,ae,2,0,"th",11),s.Mc(30,ce,3,4,"td",7),s.Rb(),s.Sb(31,16),s.Mc(32,re,2,0,"th",11),s.Mc(33,se,3,4,"td",7),s.Rb(),s.Sb(34,17),s.Mc(35,le,2,0,"th",11),s.Mc(36,ue,3,4,"td",7),s.Rb(),s.Sb(37,18),s.Mc(38,de,2,0,"th",11),s.Mc(39,fe,3,2,"td",7),s.Rb(),s.Mc(40,he,1,0,"tr",19),s.Mc(41,pe,1,0,"tr",20),s.Mc(42,ve,3,0,"tr",21),s.Tb(),s.Pb(43,"mat-paginator",22),s.Tb()),2&t&&(s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("dataSource",e.tempArray),s.Bb(34),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(8,ye)))},directives:[r.n,h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,m.g,h.d,p.b,h.a,O.a,m.h,h.f,h.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),ge),we=function(t){return[t]};function Oe(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.uc(1,we,"/admin/forms/fillConfigForm/0"))}var De=function(){return["/admin/forms/hazardTable"]};function Ce(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,De))}function ke(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Hazard Form List"),s.Tb())}function Ue(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Hazard Form History List"),s.Tb())}function Me(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Version "),s.Tb())}function Ie(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.version)}}function Se(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Form Id "),s.Tb())}function Re(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.formId)}}function Be(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Name "),s.Tb())}function Ae(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.fullName)}}function xe(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Phone"),s.Tb())}function He(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.phone)}}function Pe(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Email"),s.Tb())}function Fe(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.email," ")}}function _e(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Position"),s.Tb())}function qe(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.position," ")}}function ze(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function $e(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdAt,"medium")," ")}}function Ne(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function Ee(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedAt,"medium")," ")}}function Le(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function je(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdTime,"medium")," ")}}function Qe(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function Ve(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedTime,"medium")," ")}}function We(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Action "),s.Tb())}function Ge(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",30),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().edit(t._id)}),s.Oc(2," edit "),s.Tb(),s.Ub(3,"span",31),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().printPage(t._id)}),s.Oc(4," print "),s.Tb(),s.Ub(5,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().delete(t._id)}),s.Oc(6," delete "),s.Tb(),s.Ub(7,"span",33),s.Oc(8," history "),s.Tb(),s.Tb()}if(2&t){var n=s.ic().$implicit;s.Bb(7),s.qc("routerLink",s.uc(1,we,"/admin/forms/hazardTable/history/"+n._id))}}function Je(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",34),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().view(t._id)}),s.Oc(2," visibility "),s.Tb(),s.Tb()}}function Xe(t,e){if(1&t&&(s.Ub(0,"td",26),s.Mc(1,Ge,9,3,"div",28),s.Mc(2,Je,3,0,"div",28),s.Tb()),2&t){var i=s.ic();s.Bb(1),s.qc("ngIf",!i.isHistory),s.Bb(1),s.qc("ngIf",i.isHistory)}}function Ye(t,e){1&t&&s.Pb(0,"tr",35)}function Ke(t,e){1&t&&s.Pb(0,"tr",36)}function Ze(t,e){1&t&&(s.Ub(0,"tr",37),s.Ub(1,"td",38),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var ti,ei=function(){return[20]},ii=((ti=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","name","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/hazardTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(Q.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","name","phone","email","site","createdTime","updatedTime","action"],t.getAllHazardFormDataHistory()}):this.getAllHazardFormData()}},{key:"getAllHazardFormDataHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllHazardFormDataHistory(e,i,n).subscribe(function(e){console.log("res",e.data),t.showDatas=e.result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),console.log("this.showDatas",t.showDatas),t.dataSource=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteHazardFormData(t).subscribe(function(t){qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getAllHazardFormData()})})}},{key:"getAllHazardFormData",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllHazardFormData(e,i).subscribe(function(e){console.log("res",e.data),t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),console.log("this.showDatas",t.showDatas),t.dataSource=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/hazardRep/"+t])}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}])}},{key:"sortData",value:function(t){this.isHistory?this.getAllHazardFormDataHistory(t.active,t.direction):this.getAllHazardFormData(t.active,t.direction)}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/hazardTable/history/hazardRep/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||ti)(s.Ob(V.a),s.Ob(m.f),s.Ob(g.c),s.Ob(W.a),s.Ob(m.a))},ti.\u0275cmp=s.Ib({type:ti,selectors:[["app-hazard-form-table-details"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(f.a,!0),s.Sc(p.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.paginator=i.first),s.xc(i=s.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Mc(0,Oe,2,3,"div",0),s.Mc(1,Ce,2,2,"div",0),s.Ub(2,"div",1),s.Mc(3,ke,2,0,"h1",2),s.Mc(4,Ue,2,0,"h1",2),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"table",4),s.ec("matSortChange",function(t){return e.sortData(t)}),s.Sb(7,5),s.Mc(8,Me,2,0,"th",6),s.Mc(9,Ie,2,1,"td",7),s.Rb(),s.Sb(10,8),s.Mc(11,Se,2,0,"th",6),s.Mc(12,Re,2,1,"td",7),s.Rb(),s.Sb(13,9),s.Mc(14,Be,2,0,"th",6),s.Mc(15,Ae,2,1,"td",7),s.Rb(),s.Sb(16,10),s.Mc(17,xe,2,0,"th",11),s.Mc(18,He,2,1,"td",7),s.Rb(),s.Sb(19,12),s.Mc(20,Pe,2,0,"th",11),s.Mc(21,Fe,2,1,"td",7),s.Rb(),s.Sb(22,13),s.Mc(23,_e,2,0,"th",11),s.Mc(24,qe,2,1,"td",7),s.Rb(),s.Sb(25,14),s.Mc(26,ze,2,0,"th",11),s.Mc(27,$e,3,4,"td",7),s.Rb(),s.Sb(28,15),s.Mc(29,Ne,2,0,"th",11),s.Mc(30,Ee,3,4,"td",7),s.Rb(),s.Sb(31,16),s.Mc(32,Le,2,0,"th",11),s.Mc(33,je,3,4,"td",7),s.Rb(),s.Sb(34,17),s.Mc(35,Qe,2,0,"th",11),s.Mc(36,Ve,3,4,"td",7),s.Rb(),s.Sb(37,18),s.Mc(38,We,2,0,"th",11),s.Mc(39,Xe,3,2,"td",7),s.Rb(),s.Mc(40,Ye,1,0,"tr",19),s.Mc(41,Ke,1,0,"tr",20),s.Mc(42,Ze,3,0,"tr",21),s.Tb(),s.Pb(43,"mat-paginator",22),s.Tb()),2&t&&(s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("dataSource",e.dataSource),s.Bb(34),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(8,ei)))},directives:[r.n,h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,m.g,h.d,p.b,h.a,O.a,m.h,h.f,h.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),ti),ni=function(t){return[t]};function oi(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.uc(1,ni,"/admin/forms/fillConfigForm/0"))}var ai=function(){return["/admin/forms/incidentsTable"]};function ci(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,ai))}function ri(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Accident Report List"),s.Tb())}function si(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Accident Report Form Histroy List"),s.Tb())}function li(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Version "),s.Tb())}function ui(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.version)}}function di(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Form Id "),s.Tb())}function mi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.formId)}}function bi(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Project Name "),s.Tb())}function fi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.projectName)}}function hi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Customer Name"),s.Tb())}function pi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.customerName)}}function vi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Email"),s.Tb())}function gi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.customerEmail," ")}}function yi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Site Name"),s.Tb())}function Ti(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.siteName," ")}}function wi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function Oi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdAt,"medium")," ")}}function Di(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function Ci(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedAt,"medium")," ")}}function ki(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function Ui(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdTime,"medium")," ")}}function Mi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function Ii(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedTime,"medium")," ")}}function Si(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Action "),s.Tb())}function Ri(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",30),s.Ub(1,"span",31),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().edit(t._id)}),s.Oc(2," edit "),s.Tb(),s.Ub(3,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().printPage(t._id)}),s.Oc(4," print "),s.Tb(),s.Ub(5,"span",33),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().delete(t._id)}),s.Oc(6," delete "),s.Tb(),s.Ub(7,"span",34),s.Oc(8," history "),s.Tb(),s.Tb()}if(2&t){var n=s.ic().$implicit;s.Bb(7),s.qc("routerLink",s.uc(1,ni,"/admin/forms/incidentsTable/history/"+n._id))}}function Bi(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",35),s.Ub(1,"span",36),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().view(t._id)}),s.Oc(2," visibility "),s.Tb(),s.Tb()}}function Ai(t,e){if(1&t&&(s.Ub(0,"td",26),s.Mc(1,Ri,9,3,"div",28),s.Mc(2,Bi,3,0,"div",29),s.Tb()),2&t){var i=s.ic();s.Bb(1),s.qc("ngIf",!i.isHistory),s.Bb(1),s.qc("ngIf",i.isHistory)}}function xi(t,e){1&t&&s.Pb(0,"tr",37)}function Hi(t,e){1&t&&s.Pb(0,"tr",38)}function Pi(t,e){1&t&&(s.Ub(0,"tr",39),s.Ub(1,"td",40),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var Fi,_i=function(){return[20]},qi=((Fi=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.shared=o,this.spinner=a,this.activatedRoute=c,this.displayedColumns=["formId","projectName","customerName","Email","Site","createdAt","updatedAt","Action"],this.isHistory=!1}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/incidentsTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(Q.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","projectName","customerName","Email","Site","createdTime","updatedTime","Action"],t.getIncidentReportHistory()}):this.getIncidentReport()}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/incidentsTable/history/incidentRep/"+t],{queryParams:{returnTo:this.router.url}})}},{key:"getIncidentReportHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllIncidentHistory(e,i,n).subscribe(function(e){t.showDatas=e.data[0].result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&e.logicalFormInfo.deleteIncidentReport(t).subscribe(function(t){console.log("deleted",t),qt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),e.getIncidentReport()})})}},{key:"getIncidentReport",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllIncidentReport(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){this.router.navigate(["/admin/forms/incidentRep/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getIncidentReportHistory(t.active,t.direction):this.getIncidentReport(t.active,t.direction)}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}])}}]),e}()).\u0275fac=function(t){return new(t||Fi)(s.Ob(V.a),s.Ob(m.f),s.Ob(W.a),s.Ob(g.c),s.Ob(m.a))},Fi.\u0275cmp=s.Ib({type:Fi,selectors:[["app-incidents-table"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(f.a,!0),s.Sc(p.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.paginator=i.first),s.xc(i=s.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","projectName"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["div","","style","display: flex; justify-content: space-around;",4,"ngIf"],["style","display: flex; justify-content: space-around;",4,"ngIf"],["div","",2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","Delete","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],[2,"display","flex","justify-content","space-around"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Mc(0,oi,2,3,"div",0),s.Mc(1,ci,2,2,"div",0),s.Ub(2,"div",1),s.Mc(3,ri,2,0,"h1",2),s.Mc(4,si,2,0,"h1",2),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"table",4),s.ec("matSortChange",function(t){return e.sortData(t)}),s.Sb(7,5),s.Mc(8,li,2,0,"th",6),s.Mc(9,ui,2,1,"td",7),s.Rb(),s.Sb(10,8),s.Mc(11,di,2,0,"th",6),s.Mc(12,mi,2,1,"td",7),s.Rb(),s.Sb(13,9),s.Mc(14,bi,2,0,"th",6),s.Mc(15,fi,2,1,"td",7),s.Rb(),s.Sb(16,10),s.Mc(17,hi,2,0,"th",11),s.Mc(18,pi,2,1,"td",7),s.Rb(),s.Sb(19,12),s.Mc(20,vi,2,0,"th",11),s.Mc(21,gi,2,1,"td",7),s.Rb(),s.Sb(22,13),s.Mc(23,yi,2,0,"th",11),s.Mc(24,Ti,2,1,"td",7),s.Rb(),s.Sb(25,14),s.Mc(26,wi,2,0,"th",11),s.Mc(27,Oi,3,4,"td",7),s.Rb(),s.Sb(28,15),s.Mc(29,Di,2,0,"th",11),s.Mc(30,Ci,3,4,"td",7),s.Rb(),s.Sb(31,16),s.Mc(32,ki,2,0,"th",11),s.Mc(33,Ui,3,4,"td",7),s.Rb(),s.Sb(34,17),s.Mc(35,Mi,2,0,"th",11),s.Mc(36,Ii,3,4,"td",7),s.Rb(),s.Sb(37,18),s.Mc(38,Si,2,0,"th",11),s.Mc(39,Ai,3,2,"td",7),s.Rb(),s.Mc(40,xi,1,0,"tr",19),s.Mc(41,Hi,1,0,"tr",20),s.Mc(42,Pi,3,0,"tr",21),s.Tb(),s.Pb(43,"mat-paginator",22),s.Tb()),2&t&&(s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("dataSource",e.tempArray),s.Bb(34),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(8,_i)))},directives:[r.n,h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,m.g,h.d,p.b,h.a,O.a,m.h,h.f,h.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),Fi),zi=function(t){return[t]};function $i(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.uc(1,zi,"/admin/forms/fillConfigForm/0"))}var Ni=function(){return["/admin/forms/riskAssessTable"]};function Ei(t,e){1&t&&(s.Ub(0,"div",23),s.Pb(1,"i",24),s.Tb()),2&t&&s.qc("routerLink",s.tc(1,Ni))}function Li(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Risk Assessment List"),s.Tb())}function ji(t,e){1&t&&(s.Ub(0,"h1"),s.Oc(1," Risk Assessment History List"),s.Tb())}function Qi(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Version "),s.Tb())}function Vi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.version)}}function Wi(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Form Id "),s.Tb())}function Gi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.formId)}}function Ji(t,e){1&t&&(s.Ub(0,"th",25),s.Oc(1," Name "),s.Tb())}function Xi(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.customerName)}}function Yi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Phone"),s.Tb())}function Ki(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Pc(i.custConct)}}function Zi(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Email"),s.Tb())}function tn(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.custEmail," ")}}function en(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Site Name"),s.Tb())}function nn(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",i.siteName," ")}}function on(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function an(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdAt,"medium")," ")}}function cn(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function rn(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedAt,"medium")," ")}}function sn(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Created Date"),s.Tb())}function ln(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.createdTime,"medium")," ")}}function un(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1,"Updated Date"),s.Tb())}function dn(t,e){if(1&t&&(s.Ub(0,"td",26),s.Oc(1),s.jc(2,"date"),s.Tb()),2&t){var i=e.$implicit;s.Bb(1),s.Qc(" ",s.lc(2,1,i.updatedTime,"medium")," ")}}function mn(t,e){1&t&&(s.Ub(0,"th",27),s.Oc(1," Action "),s.Tb())}function bn(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",30),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().edit(t._id)}),s.Oc(2," edit "),s.Tb(),s.Ub(3,"span",31),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().printPage(t._id)}),s.Oc(4," print "),s.Tb(),s.Ub(5,"span",32),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().delete(t)}),s.Oc(6," delete "),s.Tb(),s.Ub(7,"span",33),s.Oc(8," history "),s.Tb(),s.Tb()}if(2&t){var n=s.ic().$implicit;s.Bb(7),s.qc("routerLink",s.uc(1,zi,"/admin/forms/riskAssessTable/history/"+n._id))}}function fn(t,e){if(1&t){var i=s.Vb();s.Ub(0,"div",29),s.Ub(1,"span",34),s.ec("click",function(){s.Cc(i);var t=s.ic().$implicit;return s.ic().view(t._id)}),s.Oc(2," visibility "),s.Tb(),s.Tb()}}function hn(t,e){if(1&t&&(s.Ub(0,"td",26),s.Mc(1,bn,9,3,"div",28),s.Mc(2,fn,3,0,"div",28),s.Tb()),2&t){var i=s.ic();s.Bb(1),s.qc("ngIf",!i.isHistory),s.Bb(1),s.qc("ngIf",i.isHistory)}}function pn(t,e){1&t&&s.Pb(0,"tr",35)}function vn(t,e){1&t&&s.Pb(0,"tr",36)}function gn(t,e){1&t&&(s.Ub(0,"tr",37),s.Ub(1,"td",38),s.Oc(2,"Data Not Found "),s.Tb(),s.Tb())}var yn,Tn,wn,On=function(){return[20]},Dn=((yn=function(){function e(i,n,o,a,c){t(this,e),this.logicalFormInfo=i,this.router=n,this.spinner=o,this.shared=a,this.activatedRoute=c,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}return i(e,[{key:"ngOnInit",value:function(){var t=this;this.isHistory=this.router.url.includes("/riskAssessTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(Q.a)(function(t){return t.get("id")})).subscribe(function(e){t.id=e,t.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],t.getAssesmentHistory()}):this.getAssesment()}},{key:"getAssesmentHistory",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.id;this.logicalFormInfo.getAllassessmetHistory(e,i,n).subscribe(function(e){t.showDatas=e.result,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"ngAfterViewInit",value:function(){}},{key:"delete",value:function(t){var e=this;qt.a.fire({title:"Are you sure?",text:'Do you want to delete "'.concat(t.customerName,'"?'),icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(function(i){i.value&&(e.spinner.show(),e.logicalFormInfo.deleteAssessment(t._id).subscribe(function(i){qt.a.fire({title:'"'.concat(t.customerName,'"? Deleted successfully'),showConfirmButton:!1,timer:1200}),e.getAssesment(),e.spinner.hide()}))})}},{key:"printPage",value:function(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}])}},{key:"getAssesment",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.logicalFormInfo.getAllassessmet(e,i).subscribe(function(e){t.showDatas=e.data,t.showDatas.forEach(function(e,i){return t.showDatas[i].index=i}),t.tempArray=new h.l(t.showDatas),console.log("get res",t.showDatas)})}},{key:"edit",value:function(t){localStorage.setItem("key"," "),this.router.navigate(["/admin/forms/riskAssessSWMS/"+t])}},{key:"sortData",value:function(t){this.isHistory?this.getAssesmentHistory(t.active,t.direction):this.getAssesment(t.active,t.direction)}},{key:"view",value:function(t){this.router.navigate(["/admin/forms/riskAssessTable/history/riskAssessSWMS/"+t],{queryParams:{returnTo:this.router.url}})}}]),e}()).\u0275fac=function(t){return new(t||yn)(s.Ob(V.a),s.Ob(m.f),s.Ob(g.c),s.Ob(W.a),s.Ob(m.a))},yn.\u0275cmp=s.Ib({type:yn,selectors:[["app-risk-assesment-table"]],viewQuery:function(t,e){var i;1&t&&(s.Sc(f.a,!0),s.Sc(p.a,!0)),2&t&&(s.xc(i=s.fc())&&(e.paginator=i.first),s.xc(i=s.fc())&&(e.sort=i.first))},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(s.Mc(0,$i,2,3,"div",0),s.Mc(1,Ei,2,2,"div",0),s.Ub(2,"div",1),s.Mc(3,Li,2,0,"h1",2),s.Mc(4,ji,2,0,"h1",2),s.Tb(),s.Ub(5,"div",3),s.Ub(6,"table",4),s.ec("matSortChange",function(t){return e.sortData(t)}),s.Sb(7,5),s.Mc(8,Qi,2,0,"th",6),s.Mc(9,Vi,2,1,"td",7),s.Rb(),s.Sb(10,8),s.Mc(11,Wi,2,0,"th",6),s.Mc(12,Gi,2,1,"td",7),s.Rb(),s.Sb(13,9),s.Mc(14,Ji,2,0,"th",6),s.Mc(15,Xi,2,1,"td",7),s.Rb(),s.Sb(16,10),s.Mc(17,Yi,2,0,"th",11),s.Mc(18,Ki,2,1,"td",7),s.Rb(),s.Sb(19,12),s.Mc(20,Zi,2,0,"th",11),s.Mc(21,tn,2,1,"td",7),s.Rb(),s.Sb(22,13),s.Mc(23,en,2,0,"th",11),s.Mc(24,nn,2,1,"td",7),s.Rb(),s.Sb(25,14),s.Mc(26,on,2,0,"th",11),s.Mc(27,an,3,4,"td",7),s.Rb(),s.Sb(28,15),s.Mc(29,cn,2,0,"th",11),s.Mc(30,rn,3,4,"td",7),s.Rb(),s.Sb(31,16),s.Mc(32,sn,2,0,"th",11),s.Mc(33,ln,3,4,"td",7),s.Rb(),s.Sb(34,17),s.Mc(35,un,2,0,"th",11),s.Mc(36,dn,3,4,"td",7),s.Rb(),s.Sb(37,18),s.Mc(38,mn,2,0,"th",11),s.Mc(39,hn,3,2,"td",7),s.Rb(),s.Mc(40,pn,1,0,"tr",19),s.Mc(41,vn,1,0,"tr",20),s.Mc(42,gn,3,0,"tr",21),s.Tb(),s.Pb(43,"mat-paginator",22),s.Tb()),2&t&&(s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("ngIf",!e.isHistory),s.Bb(1),s.qc("ngIf",e.isHistory),s.Bb(2),s.qc("dataSource",e.tempArray),s.Bb(34),s.qc("matHeaderRowDef",e.displayedColumns),s.Bb(1),s.qc("matRowDefColumns",e.displayedColumns),s.Bb(2),s.qc("pageSizeOptions",s.tc(8,On)))},directives:[r.n,h.k,p.a,h.c,h.e,h.b,h.g,h.j,h.h,f.a,m.g,h.d,p.b,h.a,O.a,m.h,h.f,h.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),yn),Cn=[{path:"",component:E},{path:"forms",component:E},{path:"siteInspect/:id",component:Pt.a},{path:"toolboxTalk/:id",component:Ft.a},{path:"hazardRep/:id",component:At.a},{path:"incidentRep/:id",component:xt.a},{path:"riskAssessSWMS/:id",component:Ht.a},{path:"riskAssessTable",component:Dn},{path:"tableData",component:Bt},{path:"tableData/history/:id",component:Bt},{path:"tableData/history/:id",component:Bt},{path:"riskAssessTable/history/:id",component:Dn},{path:"siteinspectiontable/history/:id",component:Te},{path:"hazardTable/history/:id",component:ii},{path:"incidentsTable/history/:id",component:qi},{path:"tableData/history/toolboxTalk/:id",component:Ft.a},{path:"riskAssessTable/history/riskAssessSWMS/:id",component:Ht.a},{path:"siteinspectiontable/history/siteInspect/:id",component:Pt.a},{path:"hazardTable/history/hazardRep/:id",component:At.a},{path:"incidentsTable/history/incidentRep/:id",component:xt.a},{path:"siteinspectiontable",component:Te},{path:"hazardTable",component:ii},{path:"incidentsTable",component:qi},{path:"fillConfigForm/:index",component:j}],kn=((Tn=function e(){t(this,e)}).\u0275mod=s.Mb({type:Tn}),Tn.\u0275inj=s.Lb({factory:function(t){return new(t||Tn)},imports:[[m.j.forChild(Cn)],m.j]}),Tn),Un=o("HnZm"),Mn=o("PCNd"),In=o("zioG"),Sn=o("tk/3"),Rn=o("0SJk"),Bn=o("kY4h"),An=o("6bhV"),xn=o("qFsG"),Hn=o("iadO"),Pn=o("tZ2A"),Fn=o("x+4y"),_n=((wn=function e(){t(this,e)}).\u0275mod=s.Mb({type:wn}),wn.\u0275inj=s.Lb({factory:function(t){return new(t||wn)},providers:[u,{provide:Sn.a,useClass:Rn.a,multi:!0}],imports:[[r.c,l,kn,T.y,Un.b,Mn.a,T.m,In.b,Bn.b,An.b,d.b,xn.c,Hn.c,Pn.DynamicFormModule,Fn.a,D.a,O.b]]}),wn)}}])}();