!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"8df9":function(t,i,r){"use strict";r.r(i),r.d(i,"AdminSetupModule",function(){return G});var o=r("ofXK"),a=r("tyNb"),s=r("mrSG"),l=r("3Pt+"),d=r("0IaG"),c=r("+z1p"),u=r("IzEk"),p=r("lJxs"),m=r("VfN6"),f=r("fXoL"),g=r("wbBK"),h=r("zioG");function v(e,t){if(1&e&&f["\u0275\u0275element"](0,"ckeditor",6),2&e){var n=t.ngIf,i=f["\u0275\u0275nextContext"]();f["\u0275\u0275propertyInterpolate"]("data",n.termsAndCond),f["\u0275\u0275property"]("editor",i.Editor)("disabled",!0)}}var b,S=((b=function(){function t(n,i,r,o,a){e(this,t),this.fb=n,this.router=i,this.logicalFormInfo=r,this.dialogRef=o,this.data=a,this.Editor=c,this.termsAndCond=new l.g}return n(t,[{key:"ngOnInit",value:function(){this.acknowledgment$=this.logicalFormInfo.getTermsAndConditions().pipe(Object(u.a)(1),Object(p.a)(function(e){return e[0]}))}},{key:"onFormSubmit",value:function(){this.dialogRef.close(!0)}}]),t}()).\u0275fac=function(e){return new(e||b)(f["\u0275\u0275directiveInject"](l.f),f["\u0275\u0275directiveInject"](a.f),f["\u0275\u0275directiveInject"](g.a),f["\u0275\u0275directiveInject"](d.f),f["\u0275\u0275directiveInject"](d.a))},b.\u0275cmp=f["\u0275\u0275defineComponent"]({type:b,selectors:[["app-add-terms-and-conditions"]],decls:13,vars:3,consts:[[1,"container","px-4","py-4","bg-white"],[1,"text-center"],[1,"col"],["class","toolbarborder","style","width: 100%",3,"editor","disabled","data",4,"ngIf"],[1,"col-md-2"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"toolbarborder",2,"width","100%",3,"editor","disabled","data"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"form"),f["\u0275\u0275elementStart"](2,"h2",1),f["\u0275\u0275text"](3,"Acknowledgement"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](4,"br"),f["\u0275\u0275element"](5,"hr"),f["\u0275\u0275elementStart"](6,"div",2),f["\u0275\u0275template"](7,v,1,3,"ckeditor",3),f["\u0275\u0275pipe"](8,"async"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275element"](9,"br"),f["\u0275\u0275elementStart"](10,"div",4),f["\u0275\u0275elementStart"](11,"button",5),f["\u0275\u0275listener"]("click",function(){return t.onFormSubmit()}),f["\u0275\u0275text"](12," I Acknowledge "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](7),f["\u0275\u0275property"]("ngIf",f["\u0275\u0275pipeBind1"](8,1,t.acknowledgment$)))},directives:[l.E,l.s,l.t,o.n,h.a],pipes:[o.b],styles:[""]}),b=Object(s.b)([Object(m.a)({checkProperties:!0})],b)),y=r("AjY1"),x=r("bH0Y"),E=r("xHqg"),I=r("YfJ4"),w=r("bTqV"),D=r("Qu3c"),F=r("9NQz"),k=r("pYHN"),j=r("45le"),C=["stepper"];function L(e,t){1&e&&f["\u0275\u0275text"](0,"Enter Company Details")}function O(e,t){1&e&&f["\u0275\u0275text"](0,"Add Roles")}function N(e,t){1&e&&f["\u0275\u0275text"](0,"Employee Details")}function R(e,t){1&e&&f["\u0275\u0275text"](0,"Add Sub Contractor")}var A,P,M,z=[{path:"",component:(A=function(){function t(n,i,r,o,a){e(this,t),this._formBuilder=n,this.router=i,this.authService=r,this.changeDetectorRef=o,this.dialog=a,this.isEditable=!1,this.closed=!1}return n(t,[{key:"ngAfterViewInit",value:function(){var e=this;this.authService.loginData$.subscribe(function(t){(null==t?void 0:t.designation)===y.a.clientAdmin&&(e.changeDetectorRef.detectChanges(),!1===(null==t?void 0:t.FirstLogin.step1)&&(e.stepper.selected.completed=!0,e.stepper.next()),!1===(null==t?void 0:t.FirstLogin.step2)&&(e.stepper.selected.completed=!0,e.stepper.next()),!1===(null==t?void 0:t.FirstLogin.step3)&&(e.stepper.selected.completed=!0,e.stepper.next()),!1===(null==t?void 0:t.FirstLogin.step4)&&(e.stepper.selected.completed=!0,e.stepper.next()))})}},{key:"ngOnInit",value:function(){var e=this;this.authService.loginData$.subscribe(function(t){(null==t?void 0:t.designation)===y.a.clientAdmin&&(null==t?void 0:t.FirstLogin.step1)&&!e.closed&&e.openDialog(),e.userData=t}),this.firstFormGroup=this._formBuilder.group({firstCtrl:["",l.C.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",l.C.required]})}},{key:"updateFirstLogin",value:function(e){var t=this;this.userData.FirstLogin[e]=!1,this.authService.updateFirstLogin(this.userData.FirstLogin).subscribe(function(n){"step4"===e&&t.setupComplete(),t.authService.nextLoginData(t.userData),sessionStorage.setItem("userData",JSON.stringify(t.userData)),sessionStorage.setItem("firstLogin",JSON.stringify(t.userData.FirstLogin))})}},{key:"setupComplete",value:function(){var e=this;this.userData.FirstLogin.firstLogin=!1,this.authService.updateFirstLogin(this.userData.FirstLogin).subscribe(function(t){sessionStorage.setItem("firstLogin",JSON.stringify(e.userData.FirstLogin)),sessionStorage.setItem("userData",JSON.stringify(e.userData)),e.authService.nextLoginData(e.userData)}),this.router.navigate(["/admin"])}},{key:"openDialog",value:function(){var e=this;try{this.dialog.open(S,{disableClose:!0}).afterClosed().subscribe(function(t){e.closed=t})}catch(t){console.error(t)}}}]),t}(),A.\u0275fac=function(e){return new(e||A)(f["\u0275\u0275directiveInject"](l.f),f["\u0275\u0275directiveInject"](a.f),f["\u0275\u0275directiveInject"](x.a),f["\u0275\u0275directiveInject"](f.ChangeDetectorRef),f["\u0275\u0275directiveInject"](d.b))},A.\u0275cmp=f["\u0275\u0275defineComponent"]({type:A,selectors:[["app-admin-setup"]],viewQuery:function(e,t){var n;1&e&&f["\u0275\u0275viewQuery"](C,!0),2&e&&f["\u0275\u0275queryRefresh"](n=f["\u0275\u0275loadQuery"]())&&(t.stepper=n.first)},decls:33,vars:2,consts:[[1,"d-flex","justify-content-end"],[1,"col-4","card","p-3","mr-4",2,"font-size","24px","text-align","center"],["stepper",""],["matStepLabel",""],[3,"isInvalid","updatedSuccessFull"],[1,"buttonDiv"],["matTooltip","Please Update Company Details","mat-raised-button","","matStepperNext","",3,"disabled","click"],[3,"isRoleInvaid"],["mat-raised-button","","matStepperNext","",3,"click"],[1,"shadow"],[3,"isEmpRegInvalid"]],template:function(e,t){1&e&&(f["\u0275\u0275elementStart"](0,"div",0),f["\u0275\u0275elementStart"](1,"div",1),f["\u0275\u0275text"](2),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](3,"mat-horizontal-stepper",null,2),f["\u0275\u0275elementStart"](5,"mat-step"),f["\u0275\u0275template"](6,L,1,0,"ng-template",3),f["\u0275\u0275elementStart"](7,"div"),f["\u0275\u0275elementStart"](8,"app-add-and-edit-company-info",4),f["\u0275\u0275listener"]("isInvalid",function(e){return t.companyInfoValid=e})("updatedSuccessFull",function(e){return t.updatedSuccessFull=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](9,"div",5),f["\u0275\u0275elementStart"](10,"button",6),f["\u0275\u0275listener"]("click",function(){return t.updateFirstLogin("step1")}),f["\u0275\u0275text"](11," Next "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](12,"mat-step"),f["\u0275\u0275template"](13,O,1,0,"ng-template",3),f["\u0275\u0275elementStart"](14,"div"),f["\u0275\u0275elementStart"](15,"app-role-management",7),f["\u0275\u0275listener"]("isRoleInvaid",function(e){return t.isRoleInvaid=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](16,"div",5),f["\u0275\u0275elementStart"](17,"button",8),f["\u0275\u0275listener"]("click",function(){return t.updateFirstLogin("step2")}),f["\u0275\u0275text"](18," Next "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](19,"mat-step"),f["\u0275\u0275template"](20,N,1,0,"ng-template",3),f["\u0275\u0275elementStart"](21,"div",9),f["\u0275\u0275elementStart"](22,"app-employee-registration",10),f["\u0275\u0275listener"]("isEmpRegInvalid",function(e){return t.isEmpRegInvalid=e}),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](23,"div",5),f["\u0275\u0275elementStart"](24,"button",8),f["\u0275\u0275listener"]("click",function(){return t.updateFirstLogin("step3")}),f["\u0275\u0275text"](25," Next "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](26,"mat-step"),f["\u0275\u0275template"](27,R,1,0,"ng-template",3),f["\u0275\u0275elementStart"](28,"div",9),f["\u0275\u0275element"](29,"app-subcontract"),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementStart"](30,"div",5),f["\u0275\u0275elementStart"](31,"button",8),f["\u0275\u0275listener"]("click",function(){return t.updateFirstLogin("step4")}),f["\u0275\u0275text"](32," Goto DashBoard "),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"](),f["\u0275\u0275elementEnd"]()),2&e&&(f["\u0275\u0275advance"](2),f["\u0275\u0275textInterpolate1"](" Subscription Purchased For ",t.userData.employeePurchased||0," Employees "),f["\u0275\u0275advance"](8),f["\u0275\u0275property"]("disabled",!t.updatedSuccessFull))},directives:[E.a,E.b,E.c,I.a,w.a,E.e,D.a,F.a,k.a,j.a],styles:[".shadow[_ngcontent-%COMP%]{box-shadow:0 6px 7px hsla(0,0%,50.2%,.25882352941176473)}  .mat-horizontal-stepper-header{pointer-events:none!important}.buttonDiv[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;padding:2%}.buttonDiv[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:200px;box-shadow:inset;font-size:30px}"]}),A=Object(s.b)([Object(m.a)({checkProperties:!0})],A))}],J=((P=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:P}),P.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||P)},imports:[[a.j.forChild(z)],a.j]}),P),_=r("DNuw"),B=r("xd2E"),G=((M=function t(){e(this,t)}).\u0275mod=f["\u0275\u0275defineNgModule"]({type:M}),M.\u0275inj=f["\u0275\u0275defineInjector"]({factory:function(e){return new(e||M)},imports:[[o.c,J,E.d,_.RegistrationModule,B.RoleManagementModule,h.b]]}),M)}}])}();