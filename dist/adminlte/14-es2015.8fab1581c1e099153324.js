(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{jASi:function(t,e,n){"use strict";n.r(e),n.d(e,"FormsModule1",function(){return Di});var i=n("Tnig"),a=n("fXoL");let o=(()=>{class t{constructor(t){this.elementRef=t}onInput(){this.resize()}ngOnInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](a.ElementRef))},t.\u0275dir=a["\u0275\u0275defineDirective"]({type:t,selectors:[["","appTextareaAutoresize",""]],hostBindings:function(t,e){1&t&&a["\u0275\u0275listener"]("input",function(){return e.onInput()})}}),t})();var r=n("ofXK"),l=n("/1cH"),m=n("tyNb"),s=n("wZkO"),d=n("M9IT"),c=n("+0xr"),p=n("Dh3D"),u=n("0IaG"),f=n("JqCM"),h=n("yZxC"),x=n("3Pt+"),y=n("1jcm"),C=n("Qu3c"),S=n("OFbc");function g(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",15),a["\u0275\u0275text"](1," No. "),a["\u0275\u0275elementEnd"]())}function v(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",16),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.index)}}function E(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",15),a["\u0275\u0275text"](1," Form Name "),a["\u0275\u0275elementEnd"]())}function w(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",16),a["\u0275\u0275elementStart"](1,"span",17),a["\u0275\u0275text"](2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](2),a["\u0275\u0275textInterpolate"](t.title)}}function D(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",18),a["\u0275\u0275text"](1," Form Frequency "),a["\u0275\u0275elementEnd"]())}function I(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"td",16),a["\u0275\u0275elementStart"](1,"select",19),a["\u0275\u0275elementStart"](2,"option",20),a["\u0275\u0275text"](3,"Daily"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](4,"option",21),a["\u0275\u0275text"](5,"Weekly"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](6,"option",21),a["\u0275\u0275text"](7,"Monthly"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](8,"option",22),a["\u0275\u0275text"](9,"Quaterly"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](10,"option",23),a["\u0275\u0275text"](11,"Half yearly"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](12,"option",24),a["\u0275\u0275text"](13,"Yearly"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](14,"option",25),a["\u0275\u0275text"](15,"Once Off"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}function b(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",18),a["\u0275\u0275text"](1," Disable/Enable "),a["\u0275\u0275elementEnd"]())}function k(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"td",16),a["\u0275\u0275element"](1,"mat-slide-toggle",26),a["\u0275\u0275elementEnd"]())}function T(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",18),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function H(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"span",30),a["\u0275\u0275element"](1,"svg-icon",31),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275property"]("routerLink",t.link)}}function A(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().goTo(e.title)}),a["\u0275\u0275text"](1," launch "),a["\u0275\u0275elementEnd"]()}}function F(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",16),a["\u0275\u0275elementStart"](1,"div",27),a["\u0275\u0275template"](2,H,2,1,"span",28),a["\u0275\u0275template"](3,A,2,0,"span",29),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf","fillConfigForm"==t.url[0].path),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf","fillConfigForm"==t.url[0].path)}}function R(t,e){1&t&&a["\u0275\u0275element"](0,"tr",33)}function $(t,e){1&t&&a["\u0275\u0275element"](0,"tr",34)}function B(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",35),a["\u0275\u0275elementStart"](1,"td",36),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const N=function(){return[20]};let j=(()=>{class t{constructor(t,e,n,i,a){this.dialog=t,this.spinner=e,this.router=n,this.setTitle=i,this.activatedRoute=a,this.page=1,this.pageSize=10,this.collectionSize=10,this.ELEMENT_DATA=[{index:1,title:"Hazards Reported",link:["/admin/forms/hazardRep/form"]},{index:2,title:"Notifiable Accident",link:["/admin/forms/incidentRep/Form"]},{index:3,title:"Toolbox Talk",link:["/admin/forms/toolboxTalk/form"]},{index:4,title:"Site Inspection",link:["/admin/forms/siteInspect/form"]},{index:5,title:"Risk Assessment",link:["/admin/forms/riskAssessSWMS/form"]}],this.formName="",this.displayedColumns=["index","formName","formFrequency","Disable/Enable"],this.dataSource=new c.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}goTo(t){console.log("title",t),"Toolbox Talk"===t&&this.router.navigate(["/admin/forms/tableData"]),"Site Inspection"===t&&this.router.navigate(["/admin/forms/siteinspectiontable"]),"Hazards Reported"===t&&this.router.navigate(["/admin/forms/hazardTable"]),"Notifiable Accident"===t&&this.router.navigate(["/admin/forms/incidentsTable"]),"Risk Assessment"===t&&this.router.navigate(["/admin/forms/riskAssessTable"])}ngOnInit(){this.url=this.activatedRoute.snapshot.url,this.setTitle.setTitle("WHS-All Form")}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](u.b),a["\u0275\u0275directiveInject"](f.c),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](h.a),a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-forms"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](p.a,!0),a["\u0275\u0275viewQuery"](d.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first)}},inputs:{displayedColumns:"displayedColumns"},decls:24,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formName"],["matColumnDef","formFrequency"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Disable/Enable"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["aria-label","Default select example",1,"form-select","form-control"],["value","daily"],["value","weekly"],["value","quaterly"],["value","halfYearly"],["value","yearly"],["value","onceOff"],["color","primary","checked",""],[2,"display","flex","justify-content","space-evenly"],["class","material-icons","matTooltip","Fill The Form","style","font-size: 26px ;cursor: pointer !important;",3,"routerLink",4,"ngIf"],["class","material-icons mt-2","matTooltip","Saved Form List","style","cursor: pointer !important;",3,"click",4,"ngIf"],["matTooltip","Fill The Form",1,"material-icons",2,"font-size","26px","cursor","pointer !important",3,"routerLink"],["name","Fill_form"],["matTooltip","Saved Form List",1,"material-icons","mt-2",2,"cursor","pointer !important",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",0),a["\u0275\u0275elementStart"](1,"h1"),a["\u0275\u0275text"](2," Forms List"),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"div",1),a["\u0275\u0275elementStart"](4,"table",2),a["\u0275\u0275elementContainerStart"](5,3),a["\u0275\u0275template"](6,g,2,0,"th",4),a["\u0275\u0275template"](7,v,2,1,"td",5),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](8,6),a["\u0275\u0275template"](9,E,2,0,"th",4),a["\u0275\u0275template"](10,w,3,1,"td",5),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](11,7),a["\u0275\u0275template"](12,D,2,0,"th",8),a["\u0275\u0275template"](13,I,16,0,"td",5),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](14,9),a["\u0275\u0275template"](15,b,2,0,"th",8),a["\u0275\u0275template"](16,k,2,0,"td",5),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](17,10),a["\u0275\u0275template"](18,T,2,0,"th",8),a["\u0275\u0275template"](19,F,4,2,"td",5),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](20,R,1,0,"tr",11),a["\u0275\u0275template"](21,$,1,0,"tr",12),a["\u0275\u0275template"](22,B,3,0,"tr",13),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](23,"mat-paginator",14),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275advance"](4),a["\u0275\u0275property"]("dataSource",e.dataSource),a["\u0275\u0275advance"](16),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](4,N)))},directives:[c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,c.d,p.b,c.a,x.v,x.D,y.a,r.n,C.a,m.g,S.b,c.f,c.i],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var L=n("1tPq");let z=(()=>{class t{constructor(t){this.activatedRoute=t,this.displayedColumns=["index","formName","edit"]}ngOnInit(){this.selectValue=this.activatedRoute.snapshot.params.index}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-fill-configured-form"]],decls:5,vars:3,consts:[[3,"selectedIndex"],["label","Logical Forms List"],[3,"displayedColumns"],["label","Dynamic Forms List"]],template:function(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"mat-tab-group",0),a["\u0275\u0275elementStart"](1,"mat-tab",1),a["\u0275\u0275element"](2,"app-forms",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"mat-tab",3),a["\u0275\u0275element"](4,"app-dynamic-list",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("selectedIndex",e.selectValue),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("displayedColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("displayedColumns",e.displayedColumns))},directives:[s.b,s.a,j,L.a],styles:[""]}),t})();var O=n("lJxs"),P=n("wbBK"),_=n("zXlT");const V=function(t){return[t]};function M(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275element"](1,"i",25),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,V,"/admin/forms/fillConfigForm/0"))}const Q=function(){return["/admin/forms/tableData"]};function q(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",24),a["\u0275\u0275element"](1,"i",25),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](1,Q))}function U(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," ToolBox Talk List"),a["\u0275\u0275elementEnd"]())}function W(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," ToolBox Talk Form Histroy List"),a["\u0275\u0275elementEnd"]())}function J(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",26),a["\u0275\u0275text"](1," No. "),a["\u0275\u0275elementEnd"]())}function Y(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.index+1)}}function Z(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",26),a["\u0275\u0275text"](1," Form Id "),a["\u0275\u0275elementEnd"]())}function G(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.formId)}}function X(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",26),a["\u0275\u0275text"](1," Version "),a["\u0275\u0275elementEnd"]())}function K(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.version)}}function tt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",26),a["\u0275\u0275text"](1," Name "),a["\u0275\u0275elementEnd"]())}function et(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.customerName)}}function nt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1," Phone"),a["\u0275\u0275elementEnd"]())}function it(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.custConct)}}function at(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Email"),a["\u0275\u0275elementEnd"]())}function ot(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.custEmail," ")}}function rt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Site Name"),a["\u0275\u0275elementEnd"]())}function lt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.siteName," ")}}function mt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function st(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdAt,"medium")," ")}}function dt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function ct(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedAt,"medium")," ")}}function pt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function ut(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdTime,"medium")," ")}}function ft(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function ht(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedTime,"medium")," ")}}function xt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",28),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function yt(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",30),a["\u0275\u0275elementStart"](1,"span",31),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().edit(e._id)}),a["\u0275\u0275text"](2," edit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().printPage(e._id)}),a["\u0275\u0275text"](4," print "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"span",33),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().delete(e._id)}),a["\u0275\u0275text"](6," delete "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",34),a["\u0275\u0275text"](8," history "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,V,"/admin/forms/tableData/history/"+t._id))}}function Ct(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",30),a["\u0275\u0275elementStart"](1,"span",35),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().view(e._id)}),a["\u0275\u0275text"](2," visibility "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function St(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",27),a["\u0275\u0275template"](1,yt,9,3,"div",29),a["\u0275\u0275template"](2,Ct,3,0,"div",29),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isHistory)}}function gt(t,e){1&t&&a["\u0275\u0275element"](0,"tr",36)}function vt(t,e){1&t&&a["\u0275\u0275element"](0,"tr",37)}function Et(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",38),a["\u0275\u0275elementStart"](1,"td",39),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const wt=function(){return[20]};let Dt=(()=>{class t{constructor(t,e,n,i,a){this.activatedRoute=t,this.logicalFormInfo=e,this.router=n,this.shared=i,this.spinner=a,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"],this.role=["product owner"]}ngOnInit(){this.isHistory=this.router.url.includes("/tableData/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(O.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getToolBoxHistory()}):this.getToolBox()}ngAfterViewInit(){}delete(t){this.logicalFormInfo.deleteToolBox(t).subscribe(t=>{console.log("deleted",t),this.getToolBox()})}getToolBox(t="",e=""){this.logicalFormInfo.gettoolBox(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}getToolBoxHistory(t="",e="",n=this.id){this.logicalFormInfo.gettoolBoxHistory(t,e,n).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/toolboxTalk/"+t])}view(t){this.router.navigate(["/admin/forms/tableData/history/toolboxTalk/"+t],{queryParams:{returnTo:this.router.url}})}sortData(t){this.isHistory?this.getToolBoxHistory(t.active,t.direction):this.getToolBox(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}])}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](m.a),a["\u0275\u0275directiveInject"](P.a),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](f.c))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-display-table"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](d.a,!0),a["\u0275\u0275viewQuery"](p.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:47,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","version"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["mat-icon-button","","matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,M,2,3,"div",0),a["\u0275\u0275template"](1,q,2,2,"div",0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,U,2,0,"h1",2),a["\u0275\u0275template"](4,W,2,0,"h1",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"table",4),a["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),a["\u0275\u0275elementContainerStart"](7,5),a["\u0275\u0275template"](8,J,2,0,"th",6),a["\u0275\u0275template"](9,Y,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,8),a["\u0275\u0275template"](11,Z,2,0,"th",6),a["\u0275\u0275template"](12,G,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,9),a["\u0275\u0275template"](14,X,2,0,"th",6),a["\u0275\u0275template"](15,K,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,10),a["\u0275\u0275template"](17,tt,2,0,"th",6),a["\u0275\u0275template"](18,et,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,11),a["\u0275\u0275template"](20,nt,2,0,"th",12),a["\u0275\u0275template"](21,it,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](22,13),a["\u0275\u0275template"](23,at,2,0,"th",12),a["\u0275\u0275template"](24,ot,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](25,14),a["\u0275\u0275template"](26,rt,2,0,"th",12),a["\u0275\u0275template"](27,lt,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](28,15),a["\u0275\u0275template"](29,mt,2,0,"th",12),a["\u0275\u0275template"](30,st,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](31,16),a["\u0275\u0275template"](32,dt,2,0,"th",12),a["\u0275\u0275template"](33,ct,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](34,17),a["\u0275\u0275template"](35,pt,2,0,"th",12),a["\u0275\u0275template"](36,ut,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](37,18),a["\u0275\u0275template"](38,ft,2,0,"th",12),a["\u0275\u0275template"](39,ht,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](40,19),a["\u0275\u0275template"](41,xt,2,0,"th",12),a["\u0275\u0275template"](42,St,3,2,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](43,gt,1,0,"tr",20),a["\u0275\u0275template"](44,vt,1,0,"tr",21),a["\u0275\u0275template"](45,Et,3,0,"tr",22),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](46,"mat-paginator",23),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("dataSource",e.tempArray),a["\u0275\u0275advance"](37),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](8,wt)))},directives:[r.n,c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,m.g,c.d,p.b,c.a,C.a,m.h,c.f,c.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var It=n("9Ohn"),bt=n("4psL"),kt=n("woRl"),Tt=n("lJ0R"),Ht=n("h5Ns"),At=n("PSD3"),Ft=n.n(At);const Rt=function(t){return[t]};function $t(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,Rt,"/admin/forms/fillConfigForm/0"))}const Bt=function(){return["/admin/forms/siteinspectiontable"]};function Nt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](1,Bt))}function jt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Site Inspection List"),a["\u0275\u0275elementEnd"]())}function Lt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Site Inspection Form History List"),a["\u0275\u0275elementEnd"]())}function zt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Version "),a["\u0275\u0275elementEnd"]())}function Ot(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.version)}}function Pt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Form Id "),a["\u0275\u0275elementEnd"]())}function _t(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.formId)}}function Vt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Name "),a["\u0275\u0275elementEnd"]())}function Mt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.customerName)}}function Qt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Phone"),a["\u0275\u0275elementEnd"]())}function qt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.custConctPh)}}function Ut(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Email"),a["\u0275\u0275elementEnd"]())}function Wt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.custEmail," ")}}function Jt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Site Name"),a["\u0275\u0275elementEnd"]())}function Yt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.siteName," ")}}function Zt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Gt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdAt,"medium")," ")}}function Xt(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Kt(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedAt,"medium")," ")}}function te(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function ee(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdTime,"medium")," ")}}function ne(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function ie(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedTime,"medium")," ")}}function ae(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function oe(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",30),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().edit(e._id)}),a["\u0275\u0275text"](2," edit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",31),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().printPage(e._id)}),a["\u0275\u0275text"](4," print "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().delete(e._id)}),a["\u0275\u0275text"](6," delete "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",33),a["\u0275\u0275text"](8," history "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,Rt,"/admin/forms/siteinspectiontable/history/"+t._id))}}function re(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",34),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().view(e._id)}),a["\u0275\u0275text"](2," visibility "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function le(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275template"](1,oe,9,3,"div",28),a["\u0275\u0275template"](2,re,3,0,"div",28),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isHistory)}}function me(t,e){1&t&&a["\u0275\u0275element"](0,"tr",35)}function se(t,e){1&t&&a["\u0275\u0275element"](0,"tr",36)}function de(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",37),a["\u0275\u0275elementStart"](1,"td",38),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const ce=function(){return[20]};let pe=(()=>{class t{constructor(t,e,n,i,a){this.logicalFormInfo=t,this.router=e,this.spinner=n,this.shared=i,this.activatedRoute=a,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/siteinspectiontable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(O.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getsiteInspectionHistory()}):this.getsiteInspection()}ngAfterViewInit(){}delete(t){Ft.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteSiteInspection(t).subscribe(t=>{Ft.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getsiteInspection()})})}getsiteInspection(t="",e=""){this.logicalFormInfo.getAllSiteInspection(t,e).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,console.log("res",this.showDatas),this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}getsiteInspectionHistory(t="",e="",n=this.id){this.logicalFormInfo.getAllSiteInspectionHistory(t,e,n).subscribe(t=>{console.log("res",t.result),this.showDatas=t.result,console.log("res",this.showDatas),this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/siteInspect/"+t])}sortData(t){this.isHistory?this.getsiteInspectionHistory(t.active,t.direction):this.getsiteInspection(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.clear(),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}])}view(t){this.router.navigate(["/admin/forms/siteinspectiontable/history/siteInspect/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](P.a),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](f.c),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-site-inspection-table"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](d.a,!0),a["\u0275\u0275viewQuery"](p.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,$t,2,3,"div",0),a["\u0275\u0275template"](1,Nt,2,2,"div",0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,jt,2,0,"h1",2),a["\u0275\u0275template"](4,Lt,2,0,"h1",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"table",4),a["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),a["\u0275\u0275elementContainerStart"](7,5),a["\u0275\u0275template"](8,zt,2,0,"th",6),a["\u0275\u0275template"](9,Ot,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,8),a["\u0275\u0275template"](11,Pt,2,0,"th",6),a["\u0275\u0275template"](12,_t,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,9),a["\u0275\u0275template"](14,Vt,2,0,"th",6),a["\u0275\u0275template"](15,Mt,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,10),a["\u0275\u0275template"](17,Qt,2,0,"th",11),a["\u0275\u0275template"](18,qt,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,12),a["\u0275\u0275template"](20,Ut,2,0,"th",11),a["\u0275\u0275template"](21,Wt,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](22,13),a["\u0275\u0275template"](23,Jt,2,0,"th",11),a["\u0275\u0275template"](24,Yt,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](25,14),a["\u0275\u0275template"](26,Zt,2,0,"th",11),a["\u0275\u0275template"](27,Gt,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](28,15),a["\u0275\u0275template"](29,Xt,2,0,"th",11),a["\u0275\u0275template"](30,Kt,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](31,16),a["\u0275\u0275template"](32,te,2,0,"th",11),a["\u0275\u0275template"](33,ee,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](34,17),a["\u0275\u0275template"](35,ne,2,0,"th",11),a["\u0275\u0275template"](36,ie,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](37,18),a["\u0275\u0275template"](38,ae,2,0,"th",11),a["\u0275\u0275template"](39,le,3,2,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](40,me,1,0,"tr",19),a["\u0275\u0275template"](41,se,1,0,"tr",20),a["\u0275\u0275template"](42,de,3,0,"tr",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"mat-paginator",22),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("dataSource",e.tempArray),a["\u0275\u0275advance"](34),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](8,ce)))},directives:[r.n,c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,m.g,c.d,p.b,c.a,C.a,m.h,c.f,c.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const ue=function(t){return[t]};function fe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,ue,"/admin/forms/fillConfigForm/0"))}const he=function(){return["/admin/forms/hazardTable"]};function xe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](1,he))}function ye(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Hazard Form List"),a["\u0275\u0275elementEnd"]())}function Ce(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Hazard Form History List"),a["\u0275\u0275elementEnd"]())}function Se(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Version "),a["\u0275\u0275elementEnd"]())}function ge(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.version)}}function ve(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Form Id "),a["\u0275\u0275elementEnd"]())}function Ee(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.formId)}}function we(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Name "),a["\u0275\u0275elementEnd"]())}function De(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.fullName)}}function Ie(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Phone"),a["\u0275\u0275elementEnd"]())}function be(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.phone)}}function ke(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Email"),a["\u0275\u0275elementEnd"]())}function Te(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.email," ")}}function He(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Position"),a["\u0275\u0275elementEnd"]())}function Ae(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.position," ")}}function Fe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Re(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdAt,"medium")," ")}}function $e(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function Be(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedAt,"medium")," ")}}function Ne(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function je(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdTime,"medium")," ")}}function Le(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function ze(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedTime,"medium")," ")}}function Oe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function Pe(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",30),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().edit(e._id)}),a["\u0275\u0275text"](2," edit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",31),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().printPage(e._id)}),a["\u0275\u0275text"](4," print "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().delete(e._id)}),a["\u0275\u0275text"](6," delete "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",33),a["\u0275\u0275text"](8," history "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,ue,"/admin/forms/hazardTable/history/"+t._id))}}function _e(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",34),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().view(e._id)}),a["\u0275\u0275text"](2," visibility "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Ve(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275template"](1,Pe,9,3,"div",28),a["\u0275\u0275template"](2,_e,3,0,"div",28),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isHistory)}}function Me(t,e){1&t&&a["\u0275\u0275element"](0,"tr",35)}function Qe(t,e){1&t&&a["\u0275\u0275element"](0,"tr",36)}function qe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",37),a["\u0275\u0275elementStart"](1,"td",38),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const Ue=function(){return[20]};let We=(()=>{class t{constructor(t,e,n,i,a){this.logicalFormInfo=t,this.router=e,this.spinner=n,this.shared=i,this.activatedRoute=a,this.displayedColumns=["formId","name","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/hazardTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(O.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","name","phone","email","site","createdTime","updatedTime","action"],this.getAllHazardFormDataHistory()}):this.getAllHazardFormData()}getAllHazardFormDataHistory(t="",e="",n=this.id){this.logicalFormInfo.getAllHazardFormDataHistory(t,e,n).subscribe(t=>{console.log("res",t.data),this.showDatas=t.result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),console.log("this.showDatas",this.showDatas),this.dataSource=new c.l(this.showDatas),console.log("get res",this.showDatas)})}delete(t){Ft.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteHazardFormData(t).subscribe(t=>{Ft.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllHazardFormData()})})}getAllHazardFormData(t="",e=""){this.logicalFormInfo.getAllHazardFormData(t,e).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),console.log("this.showDatas",this.showDatas),this.dataSource=new c.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/hazardRep/"+t])}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}])}sortData(t){this.isHistory?this.getAllHazardFormDataHistory(t.active,t.direction):this.getAllHazardFormData(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/hazardTable/history/hazardRep/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](P.a),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](f.c),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-hazard-form-table-details"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](d.a,!0),a["\u0275\u0275viewQuery"](p.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,fe,2,3,"div",0),a["\u0275\u0275template"](1,xe,2,2,"div",0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,ye,2,0,"h1",2),a["\u0275\u0275template"](4,Ce,2,0,"h1",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"table",4),a["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),a["\u0275\u0275elementContainerStart"](7,5),a["\u0275\u0275template"](8,Se,2,0,"th",6),a["\u0275\u0275template"](9,ge,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,8),a["\u0275\u0275template"](11,ve,2,0,"th",6),a["\u0275\u0275template"](12,Ee,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,9),a["\u0275\u0275template"](14,we,2,0,"th",6),a["\u0275\u0275template"](15,De,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,10),a["\u0275\u0275template"](17,Ie,2,0,"th",11),a["\u0275\u0275template"](18,be,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,12),a["\u0275\u0275template"](20,ke,2,0,"th",11),a["\u0275\u0275template"](21,Te,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](22,13),a["\u0275\u0275template"](23,He,2,0,"th",11),a["\u0275\u0275template"](24,Ae,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](25,14),a["\u0275\u0275template"](26,Fe,2,0,"th",11),a["\u0275\u0275template"](27,Re,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](28,15),a["\u0275\u0275template"](29,$e,2,0,"th",11),a["\u0275\u0275template"](30,Be,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](31,16),a["\u0275\u0275template"](32,Ne,2,0,"th",11),a["\u0275\u0275template"](33,je,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](34,17),a["\u0275\u0275template"](35,Le,2,0,"th",11),a["\u0275\u0275template"](36,ze,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](37,18),a["\u0275\u0275template"](38,Oe,2,0,"th",11),a["\u0275\u0275template"](39,Ve,3,2,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](40,Me,1,0,"tr",19),a["\u0275\u0275template"](41,Qe,1,0,"tr",20),a["\u0275\u0275template"](42,qe,3,0,"tr",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"mat-paginator",22),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("dataSource",e.dataSource),a["\u0275\u0275advance"](34),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](8,Ue)))},directives:[r.n,c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,m.g,c.d,p.b,c.a,C.a,m.h,c.f,c.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const Je=function(t){return[t]};function Ye(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,Je,"/admin/forms/fillConfigForm/0"))}const Ze=function(){return["/admin/forms/incidentsTable"]};function Ge(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](1,Ze))}function Xe(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Accident Report List"),a["\u0275\u0275elementEnd"]())}function Ke(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Accident Report Form Histroy List"),a["\u0275\u0275elementEnd"]())}function tn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Version "),a["\u0275\u0275elementEnd"]())}function en(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.version)}}function nn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Form Id "),a["\u0275\u0275elementEnd"]())}function an(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.formId)}}function on(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Project Name "),a["\u0275\u0275elementEnd"]())}function rn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.projectName)}}function ln(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Customer Name"),a["\u0275\u0275elementEnd"]())}function mn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.customerName)}}function sn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Email"),a["\u0275\u0275elementEnd"]())}function dn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.customerEmail," ")}}function cn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Site Name"),a["\u0275\u0275elementEnd"]())}function pn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.siteName," ")}}function un(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function fn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdAt,"medium")," ")}}function hn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function xn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedAt,"medium")," ")}}function yn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Cn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdTime,"medium")," ")}}function Sn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function gn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedTime,"medium")," ")}}function vn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function En(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",30),a["\u0275\u0275elementStart"](1,"span",31),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().edit(e._id)}),a["\u0275\u0275text"](2," edit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().printPage(e._id)}),a["\u0275\u0275text"](4," print "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"span",33),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().delete(e._id)}),a["\u0275\u0275text"](6," delete "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",34),a["\u0275\u0275text"](8," history "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,Je,"/admin/forms/incidentsTable/history/"+t._id))}}function wn(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",35),a["\u0275\u0275elementStart"](1,"span",36),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().view(e._id)}),a["\u0275\u0275text"](2," visibility "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function Dn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275template"](1,En,9,3,"div",28),a["\u0275\u0275template"](2,wn,3,0,"div",29),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isHistory)}}function In(t,e){1&t&&a["\u0275\u0275element"](0,"tr",37)}function bn(t,e){1&t&&a["\u0275\u0275element"](0,"tr",38)}function kn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",39),a["\u0275\u0275elementStart"](1,"td",40),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const Tn=function(){return[20]};let Hn=(()=>{class t{constructor(t,e,n,i,a){this.logicalFormInfo=t,this.router=e,this.shared=n,this.spinner=i,this.activatedRoute=a,this.displayedColumns=["formId","projectName","customerName","Email","Site","createdAt","updatedAt","Action"],this.isHistory=!1}ngOnInit(){this.isHistory=this.router.url.includes("/incidentsTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(O.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","projectName","customerName","Email","Site","createdTime","updatedTime","Action"],this.getIncidentReportHistory()}):this.getIncidentReport()}view(t){this.router.navigate(["/admin/forms/incidentsTable/history/incidentRep/"+t],{queryParams:{returnTo:this.router.url}})}getIncidentReportHistory(t="",e="",n=this.id){this.logicalFormInfo.getAllIncidentHistory(t,e,n).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Ft.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&this.logicalFormInfo.deleteIncidentReport(t).subscribe(t=>{console.log("deleted",t),Ft.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getIncidentReport()})})}getIncidentReport(t="",e=""){this.logicalFormInfo.getAllIncidentReport(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/incidentRep/"+t])}sortData(t){this.isHistory?this.getIncidentReportHistory(t.active,t.direction):this.getIncidentReport(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}])}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](P.a),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](f.c),a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-incidents-table"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](d.a,!0),a["\u0275\u0275viewQuery"](p.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","projectName"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["div","","style","display: flex; justify-content: space-around;",4,"ngIf"],["style","display: flex; justify-content: space-around;",4,"ngIf"],["div","",2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","Delete","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],[2,"display","flex","justify-content","space-around"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,Ye,2,3,"div",0),a["\u0275\u0275template"](1,Ge,2,2,"div",0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,Xe,2,0,"h1",2),a["\u0275\u0275template"](4,Ke,2,0,"h1",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"table",4),a["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),a["\u0275\u0275elementContainerStart"](7,5),a["\u0275\u0275template"](8,tn,2,0,"th",6),a["\u0275\u0275template"](9,en,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,8),a["\u0275\u0275template"](11,nn,2,0,"th",6),a["\u0275\u0275template"](12,an,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,9),a["\u0275\u0275template"](14,on,2,0,"th",6),a["\u0275\u0275template"](15,rn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,10),a["\u0275\u0275template"](17,ln,2,0,"th",11),a["\u0275\u0275template"](18,mn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,12),a["\u0275\u0275template"](20,sn,2,0,"th",11),a["\u0275\u0275template"](21,dn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](22,13),a["\u0275\u0275template"](23,cn,2,0,"th",11),a["\u0275\u0275template"](24,pn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](25,14),a["\u0275\u0275template"](26,un,2,0,"th",11),a["\u0275\u0275template"](27,fn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](28,15),a["\u0275\u0275template"](29,hn,2,0,"th",11),a["\u0275\u0275template"](30,xn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](31,16),a["\u0275\u0275template"](32,yn,2,0,"th",11),a["\u0275\u0275template"](33,Cn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](34,17),a["\u0275\u0275template"](35,Sn,2,0,"th",11),a["\u0275\u0275template"](36,gn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](37,18),a["\u0275\u0275template"](38,vn,2,0,"th",11),a["\u0275\u0275template"](39,Dn,3,2,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](40,In,1,0,"tr",19),a["\u0275\u0275template"](41,bn,1,0,"tr",20),a["\u0275\u0275template"](42,kn,3,0,"tr",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"mat-paginator",22),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("dataSource",e.tempArray),a["\u0275\u0275advance"](34),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](8,Tn)))},directives:[r.n,c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,m.g,c.d,p.b,c.a,C.a,m.h,c.f,c.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const An=function(t){return[t]};function Fn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,An,"/admin/forms/fillConfigForm/0"))}const Rn=function(){return["/admin/forms/riskAssessTable"]};function $n(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"div",23),a["\u0275\u0275element"](1,"i",24),a["\u0275\u0275elementEnd"]()),2&t&&a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction0"](1,Rn))}function Bn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Risk Assessment List"),a["\u0275\u0275elementEnd"]())}function Nn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"h1"),a["\u0275\u0275text"](1," Risk Assessment History List"),a["\u0275\u0275elementEnd"]())}function jn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Version "),a["\u0275\u0275elementEnd"]())}function Ln(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.version)}}function zn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Form Id "),a["\u0275\u0275elementEnd"]())}function On(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.formId)}}function Pn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",25),a["\u0275\u0275text"](1," Name "),a["\u0275\u0275elementEnd"]())}function _n(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.customerName)}}function Vn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Phone"),a["\u0275\u0275elementEnd"]())}function Mn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate"](t.custConct)}}function Qn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Email"),a["\u0275\u0275elementEnd"]())}function qn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.custEmail," ")}}function Un(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Site Name"),a["\u0275\u0275elementEnd"]())}function Wn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",t.siteName," ")}}function Jn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Yn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdAt,"medium")," ")}}function Zn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function Gn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedAt,"medium")," ")}}function Xn(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Created Date"),a["\u0275\u0275elementEnd"]())}function Kn(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.createdTime,"medium")," ")}}function ti(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1,"Updated Date"),a["\u0275\u0275elementEnd"]())}function ei(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275text"](1),a["\u0275\u0275pipe"](2,"date"),a["\u0275\u0275elementEnd"]()),2&t){const t=e.$implicit;a["\u0275\u0275advance"](1),a["\u0275\u0275textInterpolate1"](" ",a["\u0275\u0275pipeBind2"](2,1,t.updatedTime,"medium")," ")}}function ni(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"th",27),a["\u0275\u0275text"](1," Action "),a["\u0275\u0275elementEnd"]())}function ii(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",30),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().edit(e._id)}),a["\u0275\u0275text"](2," edit "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](3,"span",31),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().printPage(e._id)}),a["\u0275\u0275text"](4," print "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"span",32),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().delete(e)}),a["\u0275\u0275text"](6," delete "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](7,"span",33),a["\u0275\u0275text"](8," history "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}if(2&t){const t=a["\u0275\u0275nextContext"]().$implicit;a["\u0275\u0275advance"](7),a["\u0275\u0275property"]("routerLink",a["\u0275\u0275pureFunction1"](1,An,"/admin/forms/riskAssessTable/history/"+t._id))}}function ai(t,e){if(1&t){const t=a["\u0275\u0275getCurrentView"]();a["\u0275\u0275elementStart"](0,"div",29),a["\u0275\u0275elementStart"](1,"span",34),a["\u0275\u0275listener"]("click",function(){a["\u0275\u0275restoreView"](t);const e=a["\u0275\u0275nextContext"]().$implicit;return a["\u0275\u0275nextContext"]().view(e._id)}),a["\u0275\u0275text"](2," visibility "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]()}}function oi(t,e){if(1&t&&(a["\u0275\u0275elementStart"](0,"td",26),a["\u0275\u0275template"](1,ii,9,3,"div",28),a["\u0275\u0275template"](2,ai,3,0,"div",28),a["\u0275\u0275elementEnd"]()),2&t){const t=a["\u0275\u0275nextContext"]();a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",!t.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",t.isHistory)}}function ri(t,e){1&t&&a["\u0275\u0275element"](0,"tr",35)}function li(t,e){1&t&&a["\u0275\u0275element"](0,"tr",36)}function mi(t,e){1&t&&(a["\u0275\u0275elementStart"](0,"tr",37),a["\u0275\u0275elementStart"](1,"td",38),a["\u0275\u0275text"](2,"Data Not Found "),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementEnd"]())}const si=function(){return[20]};let di=(()=>{class t{constructor(t,e,n,i,a){this.logicalFormInfo=t,this.router=e,this.spinner=n,this.shared=i,this.activatedRoute=a,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/riskAssessTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(O.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getAssesmentHistory()}):this.getAssesment()}getAssesmentHistory(t="",e="",n=this.id){this.logicalFormInfo.getAllassessmetHistory(t,e,n).subscribe(t=>{this.showDatas=t.result,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Ft.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.customerName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(e=>{e.value&&(this.spinner.show(),this.logicalFormInfo.deleteAssessment(t._id).subscribe(e=>{Ft.a.fire({title:`"${t.customerName}"? Deleted successfully`,showConfirmButton:!1,timer:1200}),this.getAssesment(),this.spinner.hide()}))})}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}])}getAssesment(t="",e=""){this.logicalFormInfo.getAllassessmet(t,e).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,e)=>this.showDatas[e].index=e),this.tempArray=new c.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){localStorage.setItem("key"," "),this.router.navigate(["/admin/forms/riskAssessSWMS/"+t])}sortData(t){this.isHistory?this.getAssesmentHistory(t.active,t.direction):this.getAssesment(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/riskAssessTable/history/riskAssessSWMS/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(e){return new(e||t)(a["\u0275\u0275directiveInject"](P.a),a["\u0275\u0275directiveInject"](m.f),a["\u0275\u0275directiveInject"](f.c),a["\u0275\u0275directiveInject"](_.a),a["\u0275\u0275directiveInject"](m.a))},t.\u0275cmp=a["\u0275\u0275defineComponent"]({type:t,selectors:[["app-risk-assesment-table"]],viewQuery:function(t,e){if(1&t&&(a["\u0275\u0275viewQuery"](d.a,!0),a["\u0275\u0275viewQuery"](p.a,!0)),2&t){let t;a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.paginator=t.first),a["\u0275\u0275queryRefresh"](t=a["\u0275\u0275loadQuery"]())&&(e.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,e){1&t&&(a["\u0275\u0275template"](0,Fn,2,3,"div",0),a["\u0275\u0275template"](1,$n,2,2,"div",0),a["\u0275\u0275elementStart"](2,"div",1),a["\u0275\u0275template"](3,Bn,2,0,"h1",2),a["\u0275\u0275template"](4,Nn,2,0,"h1",2),a["\u0275\u0275elementEnd"](),a["\u0275\u0275elementStart"](5,"div",3),a["\u0275\u0275elementStart"](6,"table",4),a["\u0275\u0275listener"]("matSortChange",function(t){return e.sortData(t)}),a["\u0275\u0275elementContainerStart"](7,5),a["\u0275\u0275template"](8,jn,2,0,"th",6),a["\u0275\u0275template"](9,Ln,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](10,8),a["\u0275\u0275template"](11,zn,2,0,"th",6),a["\u0275\u0275template"](12,On,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](13,9),a["\u0275\u0275template"](14,Pn,2,0,"th",6),a["\u0275\u0275template"](15,_n,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](16,10),a["\u0275\u0275template"](17,Vn,2,0,"th",11),a["\u0275\u0275template"](18,Mn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](19,12),a["\u0275\u0275template"](20,Qn,2,0,"th",11),a["\u0275\u0275template"](21,qn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](22,13),a["\u0275\u0275template"](23,Un,2,0,"th",11),a["\u0275\u0275template"](24,Wn,2,1,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](25,14),a["\u0275\u0275template"](26,Jn,2,0,"th",11),a["\u0275\u0275template"](27,Yn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](28,15),a["\u0275\u0275template"](29,Zn,2,0,"th",11),a["\u0275\u0275template"](30,Gn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](31,16),a["\u0275\u0275template"](32,Xn,2,0,"th",11),a["\u0275\u0275template"](33,Kn,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](34,17),a["\u0275\u0275template"](35,ti,2,0,"th",11),a["\u0275\u0275template"](36,ei,3,4,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275elementContainerStart"](37,18),a["\u0275\u0275template"](38,ni,2,0,"th",11),a["\u0275\u0275template"](39,oi,3,2,"td",7),a["\u0275\u0275elementContainerEnd"](),a["\u0275\u0275template"](40,ri,1,0,"tr",19),a["\u0275\u0275template"](41,li,1,0,"tr",20),a["\u0275\u0275template"](42,mi,3,0,"tr",21),a["\u0275\u0275elementEnd"](),a["\u0275\u0275element"](43,"mat-paginator",22),a["\u0275\u0275elementEnd"]()),2&t&&(a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("ngIf",!e.isHistory),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("ngIf",e.isHistory),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("dataSource",e.tempArray),a["\u0275\u0275advance"](34),a["\u0275\u0275property"]("matHeaderRowDef",e.displayedColumns),a["\u0275\u0275advance"](1),a["\u0275\u0275property"]("matRowDefColumns",e.displayedColumns),a["\u0275\u0275advance"](2),a["\u0275\u0275property"]("pageSizeOptions",a["\u0275\u0275pureFunction0"](8,si)))},directives:[r.n,c.k,p.a,c.c,c.e,c.b,c.g,c.j,c.h,d.a,m.g,c.d,p.b,c.a,C.a,m.h,c.f,c.i],pipes:[r.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const ci=[{path:"",component:j},{path:"forms",component:j},{path:"siteInspect/:id",component:Tt.a},{path:"toolboxTalk/:id",component:Ht.a},{path:"hazardRep/:id",component:It.a},{path:"incidentRep/:id",component:bt.a},{path:"riskAssessSWMS/:id",component:kt.a},{path:"riskAssessTable",component:di},{path:"tableData",component:Dt},{path:"tableData/history/:id",component:Dt},{path:"tableData/history/:id",component:Dt},{path:"riskAssessTable/history/:id",component:di},{path:"siteinspectiontable/history/:id",component:pe},{path:"hazardTable/history/:id",component:We},{path:"incidentsTable/history/:id",component:Hn},{path:"tableData/history/toolboxTalk/:id",component:Ht.a},{path:"riskAssessTable/history/riskAssessSWMS/:id",component:kt.a},{path:"siteinspectiontable/history/siteInspect/:id",component:Tt.a},{path:"hazardTable/history/hazardRep/:id",component:It.a},{path:"incidentsTable/history/incidentRep/:id",component:bt.a},{path:"siteinspectiontable",component:pe},{path:"hazardTable",component:We},{path:"incidentsTable",component:Hn},{path:"fillConfigForm/:index",component:z}];let pi=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},imports:[[m.j.forChild(ci)],m.j]}),t})();var ui=n("Zw0B"),fi=n("PCNd"),hi=n("zioG"),xi=n("tk/3"),yi=n("0SJk"),Ci=n("PqUb"),Si=n("5eqV"),gi=n("qFsG"),vi=n("iadO"),Ei=n("tZ2A"),wi=n("x+4y");let Di=(()=>{class t{}return t.\u0275mod=a["\u0275\u0275defineNgModule"]({type:t}),t.\u0275inj=a["\u0275\u0275defineInjector"]({factory:function(e){return new(e||t)},providers:[o,{provide:xi.a,useClass:yi.a,multi:!0}],imports:[[r.c,i.a,pi,x.y,ui.SignaturePadModule,fi.a,x.m,hi.b,Ci.b,Si.b,l.b,gi.c,vi.c,Ei.DynamicFormModule,wi.a,S.a,C.b]]}),t})()}}]);