{"version":3,"sources":["webpack:///src/app/subscription/subscription.component.ts","webpack:///src/app/subscription/rate-and-coupon/rate-and-coupon.component.ts","webpack:///src/app/subscription/rate-and-coupon/rate-and-coupon.component.html","webpack:///src/app/subscription/coupon/coupon.component.ts","webpack:///src/app/subscription/coupon/coupon.component.html","webpack:///src/app/subscription/coupon/add-edit-coupon/add-edit-coupon.component.ts","webpack:///src/app/subscription/coupon/add-edit-coupon/add-edit-coupon.component.html","webpack:///src/app/subscription/subscription.module.ts","webpack:///src/app/subscription/subscription-routing.module.ts","webpack:///src/app/utils/services/subscription.service.ts","webpack:///src/app/subscription/rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component.ts","webpack:///src/app/subscription/rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component.html"],"names":["SubscriptionComponent","setTitle","selector","templateUrl","styleUrls","RateAndCouponComponent","subscript","fb","dialog","dataPlan","isValid","ELEMENT_DATA","displayedColumns","dataSource","addPlan","rateAndCoupon","group","monthly","required","yearly","getPlan","getPlanById","myId","getAllPlan","subscribe","data","length","sort","console","log","element","dialogRef","open","width","height","afterClosed","result","id","res","coupon","CouponComponent","spinner","paginator","getAllCoupon","couponData","forEach","index","item","fire","title","text","couponName","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","value","show","deleteCoupon","_id","hide","edit","AddEditCouponComponent","Subscription","dataRec","couponDetails","discount","get","editCoupon","close","showConfirmButton","timer","ngOnInit","addCoupon","resData","SubscriptionModule","declarations","imports","routes","path","component","SubscriptionRoutingModule","forChild","exports","SubscriptionService","https","apiUrl","pipe","put","post","providedIn","EditRateAndCouponComponent","couponsId","coupons","push","editSubcriptionForm","defaultMonthly","defaultEmp","yearlyDiscount","editPlan"],"mappings":"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","file":"subscription-subscription-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SetTitleService } from '../utils/services/set-title.service';\r\n\r\n@Component({\r\n  selector: 'app-subscription',\r\n  templateUrl: './subscription.component.html',\r\n  styleUrls: ['./subscription.component.scss']\r\n})\r\nexport class SubscriptionComponent implements OnInit {\r\n\r\n  constructor(private setTitle:SetTitleService) { }\r\n\r\n  ngOnInit(): void { \r\n    this.setTitle.setTitle('WHS-Subscription');\r\n  } \r\n\r\n}\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SetTitleService } from 'src/app/utils/services/set-title.service';\r\nimport { EditRateAndCouponComponent } from './edit-rate-and-coupon/edit-rate-and-coupon.component';\r\nimport { MatSort } from '@angular/material/sort';\r\n@Component({\r\n  selector: 'app-rate-and-coupon',\r\n  templateUrl: './rate-and-coupon.component.html',\r\n  styleUrls: ['./rate-and-coupon.component.scss']\r\n})\r\nexport class RateAndCouponComponent implements OnInit {\r\n  rateAndCoupon!:FormGroup;\r\n  dataPlan: any=[''];\r\n  myId: string;\r\n  data: any;\r\n  isValid:boolean = false;\r\n  ELEMENT_DATA = [];\r\n  displayedColumns: string[] = ['index', 'monthly','defaultMonthly','defaultEmp','yearlyDiscount','coupon', 'action'];\r\n  dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  addPlan=false;\r\n  coupon: any;\r\n  constructor(\r\n    private subscript: SubscriptionService,\r\n    private fb: FormBuilder,\r\n    private setTitle: SetTitleService, \r\n    private dialog: MatDialog, \r\n  ) { \r\n    this.rateAndCoupon = this.fb.group({\r\n      monthly: ['', Validators.required],\r\n      yearly: ['', Validators.required],\r\n      \r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getPlan();\r\n    this.getPlanById();\r\n    this.setTitle.setTitle('WHS-Subscription Details');\r\n    \r\n  }\r\n  monthly:number;\r\n  yearly:number;\r\n  getPlan() {\r\n    this.myId= '6177e0b96d0cc515a04870a2';\r\n    this.subscript.getAllPlan().subscribe((data) => {\r\n      let  dataPlan = data.data;\r\n       if ( dataPlan.length == 0) {\r\n              this.addPlan=true;\r\n               }\r\n        else{\r\n          this.addPlan=false;\r\n          this.ELEMENT_DATA = dataPlan;\r\n          this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n          this.dataSource.sort = this.sort;\r\n        }\r\n    \r\n     \r\n      // console.log('mode=>', data);\r\n      // this.dataSource.data = data.data;\r\n      console.log(\"dataPlan=>\",  dataPlan)\r\n     // this.dataPlan = data.data;\r\n      \r\n    });\r\n  }\r\n \r\n  \r\n  editPlan(){\r\n    this.isValid= true;\r\n  }\r\n  // editPlanInfo(element) {\r\n  //   console.log('id=>', element);\r\n\r\n  //   this.myId = element._id;\r\n\r\n  //   console.log('form', this.rateAndCoupon.value);\r\n\r\n  //   // this.isEdit = true;\r\n  //   this.subscript\r\n  //     .editPlan(this.myId, this.rateAndCoupon.value)\r\n  //     .subscribe((res) => {\r\n  //       console.log('Data Set response' + res);\r\n  //       this.data = res.data;\r\n  //       console.log('new response' + this.data);\r\n  //       // this.dialogRef.close('true');\r\n  //     });\r\n  // }\r\n  edit(element) {\r\n    const dialogRef = this.dialog.open(EditRateAndCouponComponent, {\r\n      width: \"550px\",\r\n     height:\"440px\",\r\n      data: element,\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if ((result == \"true\")) {\r\n        this.getPlan()\r\n      }\r\n      console.log(\"The dialog was closed\");\r\n    });\r\n  }\r\n\r\n  getPlanById(){\r\n    let id ='61b739367f7aba4a9f8684e1';\r\n    this.subscript.getPlan(id).subscribe((res)=>{\r\n      console.log(\"getId\",res)\r\n      this.coupon = res.data;\r\n      // this.coupon.forEach((element, index) => {\r\n      //   element.index = index + 1; //adding index\r\n      // });\r\n     \r\n    });\r\n  }\r\n  }\r\n\r\n","<div class=\"col ml-2 pt-1\">\r\n    <h1>\r\n     Subscription Details\r\n    </h1>\r\n  </div>\r\n  <div>\r\n  \r\n    <button type=\"button\"  \r\n      class=\"btn btn-outline-primary  mr-2 float-right\" *ngIf=\"addPlan\" (click)=\"edit('')\"><i  class=\"fas fa-plus\"></i> Add Coupon\r\n    </button>\r\n  </div>\r\n  <div >\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n  \r\n    \r\n      <ng-container matColumnDef=\"index\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>\r\n        <td mat-cell *matCellDef=\"let element,let i = index\">{{i+1}}</td>\r\n      </ng-container>\r\n \r\n      <ng-container matColumnDef=\"monthly\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Monthly Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.monthly}} </td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"defaultMonthly\">\r\n        <th mat-header-cell *matHeaderCellDef>  Default Monthly Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.defaultMonthly}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"defaultEmp\">\r\n        <th mat-header-cell *matHeaderCellDef>  DefaultEmp Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.defaultEmp}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"yearlyDiscount\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Yearly Discount %  </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.yearlyDiscount}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"coupon\">\r\n        <th mat-header-cell *matHeaderCellDef mat-sort-header> Coupon% </th>\r\n        <td mat-cell *matCellDef=\"let element\"><div *ngFor=\"let item of element.coupons; \">\r\n          {{item.couponName + ' ' + item.discount +'%'}}\r\n        </div>  </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"action\">\r\n        <th mat-header-cell *matHeaderCellDef> Action </th>\r\n        <td mat-cell *matCellDef=\"let element\"> \r\n          <!-- <i class=\"fas fa-pencil-alt mr-2 \" (click)=\"edit(element)\" title=\"edit\"></i>  -->\r\n          <button mat-icon-button class=\"mr-2\" aria-label=\"Example icon button with a delete icon\" (click)=\"edit(element)\">\r\n            <mat-icon >edit</mat-icon>\r\n          </button>\r\n          \r\n        </td>\r\n      </ng-container>\r\n\r\n  \r\n  \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n  \r\n  </div>\r\n\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SetTitleService } from 'src/app/utils/services/set-title.service';\r\nimport Swal from 'sweetalert2';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { AddEditCouponComponent } from './add-edit-coupon/add-edit-coupon.component';\r\nimport { MatSort } from '@angular/material/sort';\r\n@Component({\r\n  selector: 'app-coupon',\r\n  templateUrl: './coupon.component.html',\r\n  styleUrls: ['./coupon.component.scss']\r\n})\r\nexport class CouponComponent implements OnInit {\r\n  ELEMENT_DATA = [];\r\n  displayedColumns: string[] = ['index', 'couponName','discount', 'action'];\r\n  dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  @ViewChild(MatSort) sort: MatSort;\r\n  ngAfterViewInit() {\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n  constructor(\r\n    private subscript: SubscriptionService,\r\n    private fb: FormBuilder,\r\n    private setTitle: SetTitleService, \r\n    private dialog: MatDialog, \r\n    private spinner: NgxSpinnerService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllCoupon();\r\n    this.setTitle.setTitle('WHS-Coupon');\r\n    \r\n  }\r\ngetAllCoupon(){\r\n  this.subscript.getAllCoupon().subscribe((res)=>{\r\n    console.log(res)\r\n    let  couponData = res.data;\r\n    couponData.forEach((element, index) => {\r\n      element.index = index + 1; //adding index\r\n    });\r\n    this.ELEMENT_DATA = couponData;\r\n    this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n    this.dataSource.paginator = this.paginator;\r\n    this.dataSource.sort = this.sort;\r\n  });\r\n}\r\nedit(element) {\r\n  const dialogRef = this.dialog.open(AddEditCouponComponent, {\r\n    width: \"550px\",\r\n   height:\"300px\",\r\n    data: element,\r\n  });\r\n  dialogRef.afterClosed().subscribe((result) => {\r\n    if ((result == \"true\")) {\r\n      this.getAllCoupon()\r\n    }\r\n    console.log(\"The dialog was closed\");\r\n  });\r\n\r\n}\r\ndelete(item) {\r\n  Swal.fire({\r\n    title: 'Are you sure?',\r\n    text: `Do you want to delete \"${item.couponName}\"?`,\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonColor: '#00B96F',\r\n    cancelButtonColor: '#d33',\r\n    confirmButtonText: 'Yes, Delete!',\r\n  }).then((result) => {\r\n    if (result.value) {\r\n      console.log(result)\r\n      // this.model.attributes.splice(i,1);\r\n      this.spinner.show()\r\n      this.subscript.deleteCoupon(item._id).subscribe((res => {\r\n      this.getAllCoupon()\r\n      this.spinner.hide()\r\n      }))\r\n    }\r\n  });\r\n}\r\n}\r\n","<div class=\"col ml-2 pt-1\">\r\n    <h1>\r\n        Coupon Details\r\n    </h1>\r\n</div>\r\n<div>\r\n\r\n    <button type=\"button\" class=\"btn btn-outline-primary  mr-2 float-right\" (click)=\"edit('')\"><i\r\n            class=\"fas fa-plus\"></i> Add Coupon\r\n    </button>\r\n</div>\r\n<div>\r\n    <table mat-table [dataSource]=\"dataSource\" matSort>\r\n          <ng-container matColumnDef=\"index\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> No. </th>\r\n            <td mat-cell *matCellDef=\"let element,let i = index\">{{element.index}}</td>\r\n        </ng-container>\r\n         <ng-container matColumnDef=\"couponName\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Coupon Name </th>\r\n            <td mat-cell *matCellDef=\"let element\"> <span class=\"flex-start\">{{element.couponName}}</span> </td>\r\n        </ng-container>\r\n       <ng-container matColumnDef=\"discount\">\r\n            <th mat-header-cell *matHeaderCellDef mat-sort-header> Discount % </th>\r\n            <td mat-cell *matCellDef=\"let element\"> <span class=\"flex\">{{element.discount}}</span> </td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"action\">\r\n            <th mat-header-cell *matHeaderCellDef> Action </th>\r\n            <td mat-cell *matCellDef=\"let element\"> \r\n                <!-- <i class=\"fas fa-pencil-alt \"(click)=\"edit(element)\"\r\n           title=\"edit\" ></i> <i class=\"fas fa-trash\" (click)=\"delete(element)\" title=\"delete\"></i> -->\r\n           <button mat-icon-button class=\"mr-2\" aria-label=\"Example icon button with a delete icon\"  (click)=\"edit(element)\">\r\n            <mat-icon>edit</mat-icon>\r\n          </button>\r\n          <button mat-icon-button aria-label=\"Example icon button with a delete icon\" (click)=\"delete(element)\">\r\n            <mat-icon >delete</mat-icon>\r\n          </button>\r\n        </td>\r\n        </ng-container>\r\n       <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <mat-paginator [pageSizeOptions]=\"[20]\" showFirstLastButtons aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n</div>","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-add-edit-coupon',\r\n  templateUrl: './add-edit-coupon.component.html',\r\n  styleUrls: ['./add-edit-coupon.component.scss']\r\n})\r\nexport class AddEditCouponComponent implements OnInit {\r\n  couponDetails:FormGroup;\r\n  dataRec: any;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<AddEditCouponComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n    private fb : FormBuilder,\r\n    private Subscription: SubscriptionService\r\n    ) { \r\n      this.dataRec = data;\r\n    }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.couponDetails=this.fb.group({\r\n      couponName:[this.dataRec.couponName,Validators.required],\r\n      discount:[this.dataRec.discount,Validators.required],\r\n    })\r\n  }\r\n  onSubmit(){\r\n    let data={\r\n      couponName:this.couponDetails.get('couponName').value,\r\n      discount:this.couponDetails.get('discount').value\r\n    };\r\n\r\n    this.Subscription.editCoupon(this.dataRec._id,data).subscribe(res => {\r\n      \r\n       this.dialogRef.close('true');\r\n      Swal.fire({\r\n        title: ' Updated successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });   \r\n     \r\n      this.ngOnInit();\r\n    })\r\n  \r\n  }\r\n  addForm() {\r\n       \r\n    this.Subscription.addCoupon(this.couponDetails.value).subscribe((resData) => {\r\n      console.log('addCoupon', resData);\r\n\r\n      this.dialogRef.close('true');\r\n    \r\n        Swal.fire({\r\n          title: ' Added successfully',\r\n          showConfirmButton: false,\r\n          timer: 1200,\r\n        });\r\n      \r\n    });\r\n  }\r\n  close() {\r\n    this.dialogRef.close();\r\n}\r\n}\r\n","<section [formGroup]=\"couponDetails\">\r\n  <div >\r\n    <div mat-dialog-title class=\"dialog-title\">\r\n    <h3 *ngIf=\"!dataRec\">Add Coupon Details</h3>\r\n    <h3 *ngIf=\"dataRec\">Edit Coupon Details </h3>\r\n    <button type=\"button\" class=\"close\" \r\n    style=\"font-size: 25px;\"\r\n      (click)=\"close()\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">×</span>\r\n  </button>\r\n  </div>\r\n  <hr>\r\n    <div class=\"row\">\r\n      <div class=\"my-3 col\">\r\n        <p for=\"exampleFormControlInput1\" class=\"form-Label\">Coupon Name</p>\r\n        <input type=\"text\" class=\"form-control\" id=\"couponName\" formControlName=\"couponName\" />\r\n      </div>\r\n      <div class=\"my-3 col\">\r\n        <p for=\"exampleFormControlInput1\" class=\"form-Label\">Discount % </p>\r\n        <input type=\"text\" class=\"form-control\" id=\"discount\" formControlName=\"discount\" />\r\n      </div>\r\n    </div>\r\n\r\n    <hr>\r\n    <div>\r\n      <button class=\"btn btn-primary\" *ngIf=\"dataRec\"    (click)=\"onSubmit()\">\r\n        Update\r\n      </button>\r\n      <button class=\"btn btn-primary\" *ngIf=\"!dataRec\" [disabled]=\"couponDetails.invalid \" (click)=\"addForm()\">\r\n        Add\r\n      </button>\r\n    </div>\r\n\r\n  </div>\r\n</section>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from './../shared/shared.module';\r\nimport { SubscriptionRoutingModule } from './subscription-routing.module';\r\nimport { SubscriptionComponent } from './subscription.component';\r\nimport { RateAndCouponComponent } from './rate-and-coupon/rate-and-coupon.component';\r\nimport { EditRateAndCouponComponent } from './rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component';\r\nimport { CouponComponent } from './coupon/coupon.component';\r\nimport { AddEditCouponComponent } from './coupon/add-edit-coupon/add-edit-coupon.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [SubscriptionComponent, RateAndCouponComponent, EditRateAndCouponComponent, CouponComponent, AddEditCouponComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SubscriptionRoutingModule,\r\n    SharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class SubscriptionModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CouponComponent } from './coupon/coupon.component';\r\nimport { EditRateAndCouponComponent } from './rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component';\r\nimport { RateAndCouponComponent } from './rate-and-coupon/rate-and-coupon.component';\r\n\r\nimport { SubscriptionComponent } from './subscription.component';\r\n\r\nconst routes: Routes = [\r\n  // { path: '', component: SubscriptionComponent },\r\n  { path: '', component: RateAndCouponComponent },\r\n  { path: 'editRate', component: EditRateAndCouponComponent },\r\n  { path: 'coupon', component: CouponComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SubscriptionRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEventType } from '@angular/common/http';\r\nimport { environment } from '../../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SubscriptionService {\r\n  apiUrl = environment.apiUrl;\r\n  constructor(private https: HttpClient) {}\r\n\r\n  getPlan(id: any) {\r\n    return this.https.get(this.apiUrl + 'plan/get/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getAllPlan() {\r\n    return this.https.get(this.apiUrl + 'plan/getAll'  ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  editPlan(id, data){\r\n    return this.https.put(this.apiUrl + 'plan/update/' + id, data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  addPlan(data) {\r\n    return this.https.post(this.apiUrl + 'plan/add', data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getCoupon(id: any) {\r\n    return this.https.get(this.apiUrl + 'coupon/get/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getAllCoupon() {\r\n    return this.https.get(this.apiUrl + 'coupon/getAll'  ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  editCoupon(id, data){\r\n    return this.https.put(this.apiUrl + 'coupon/update/' + id, data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  addCoupon(data) {\r\n    return this.https.post(this.apiUrl + 'coupon/add', data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  deleteCoupon(id) {\r\n    return this.https.delete(this.apiUrl + 'coupon/delete/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormArray, FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-edit-rate-and-coupon',\r\n  templateUrl: './edit-rate-and-coupon.component.html',\r\n  styleUrls: ['./edit-rate-and-coupon.component.scss']\r\n})\r\nexport class EditRateAndCouponComponent implements OnInit {\r\n  editSubcriptionForm: FormGroup;\r\n  couponData:any;\r\n  couponsId:any=[];\r\n  dataRec: any;\r\n  coupon: any;\r\n  \r\n  constructor(\r\n    private dialogRef: MatDialogRef<EditRateAndCouponComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private fb: FormBuilder,\r\n    private Subscription: SubscriptionService\r\n  ) {\r\n    this.dataRec = data;\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.data);\r\n    this.getAllCoupon();\r\n    this.dataRec.coupons.forEach(element => {\r\n      this.couponsId.push(element._id)\r\n    });\r\n    console.log(\"this.couponsId\",this.couponsId);\r\n    \r\n    this.editSubcriptionForm = this.fb.group({\r\n      monthly: [this.dataRec.monthly,Validators.required],\r\n      defaultMonthly: [this.dataRec.defaultMonthly,Validators.required],\r\n      defaultEmp: [this.dataRec.defaultEmp,Validators.required],\r\n      yearlyDiscount: [this.dataRec.yearlyDiscount,Validators.required],\r\n      coupons: [this.couponsId,Validators.required],\r\n    });\r\n  }\r\n \r\n  onSubmit() {\r\n    let data = {\r\n      monthly: this.editSubcriptionForm.get('monthly').value,\r\n      defaultMonthly: this.editSubcriptionForm.get('defaultMonthly').value,\r\n      defaultEmp: this.editSubcriptionForm.get('defaultEmp').value,\r\n      yearlyDiscount: this.editSubcriptionForm.get('yearlyDiscount').value,\r\n      coupons: this.editSubcriptionForm.get('coupons').value,\r\n    };\r\n    this.Subscription.editPlan(this.dataRec._id, data).subscribe(res => {\r\n      console.log(res);\r\n      this.dialogRef.close('true');\r\n      Swal.fire({\r\n        title: ' Updated successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });\r\n\r\n      this.ngOnInit();\r\n    })\r\n  }\r\n  addForm() {\r\n\r\n    this.Subscription.addPlan(this.editSubcriptionForm.value).subscribe((resData) => {\r\n      console.log('addPlan', resData);\r\n\r\n      this.dialogRef.close('true');\r\n\r\n      Swal.fire({\r\n        title: ' Added successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });\r\n\r\n    });\r\n  }\r\n  close() {\r\n    this.dialogRef.close();\r\n}\r\ngetAllCoupon(){\r\n  this.Subscription.getAllCoupon().subscribe((res)=>{\r\n    console.log(res)\r\n    this.couponData = res.data;\r\n    // couponData.forEach((element, index) => {\r\n    //   element.index = index + 1; //adding index\r\n    // });\r\n   \r\n  });\r\n}\r\n\r\n}\r\n\r\n\r\n\r\n\r\n","\r\n<section [formGroup]=\"editSubcriptionForm\" >\r\n    <div >\r\n      <div mat-dialog-title class=\"dialog-title\">\r\n        <h3 *ngIf=\"!dataRec\">Add Subcription Rate</h3>\r\n        <h3 *ngIf=\"dataRec\">Edit Subcription Rate</h3>\r\n        <button type=\"button\" class=\"close\" \r\n      style=\"font-size: 25px;\"\r\n        (click)=\"close()\" aria-label=\"Close\">\r\n      <span aria-hidden=\"true\">×</span>\r\n    </button>\r\n    </div>\r\n    <hr>\r\n        <div class=\"row\">\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\">Monthly Rate</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"monthly\"\r\n              formControlName=\"monthly\"\r\n            />\r\n          </div>\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\"> Default Monthly Rate</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"defaultMonthly\"\r\n              formControlName=\"defaultMonthly\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\">Default Emp</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"defaultEmp\"\r\n              formControlName=\"defaultEmp\"\r\n            />\r\n          </div>\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\"> Yearly Discount %</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"yearlyDiscount\"\r\n              formControlName=\"yearlyDiscount\"\r\n            />\r\n          </div>\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\"> Coupon</p>\r\n            <mat-form-field appearance=\"outline\">\r\n              <mat-select formControlName=\"coupons\"  multiple>\r\n                  <mat-option *ngFor=\"let coupon of couponData\" [value]=\"coupon._id\">{{coupon.couponName}}&nbsp; {{coupon.discount+'%'}}</mat-option>\r\n              </mat-select>\r\n             </mat-form-field>\r\n            <!-- <select                  \r\n            class=\"form-control\"\r\n            id=\"coupon\"\r\n            name=\"coupon\"\r\n            formArrayName=\"coupon\"\r\n          >\r\n            <option value=\"\"selected hidden>Select</option>\r\n            <option [value]=\"coupon._id\" *ngFor=\"let coupon of couponData\">{{coupon.couponName}}&nbsp; %{{coupon.discount}}</option>\r\n            \r\n          </select> -->\r\n           \r\n          </div>\r\n        </div> \r\n      <hr>\r\n      <div >\r\n        <button class=\"btn btn-primary\"   *ngIf=\"dataRec\"  (click)=\"onSubmit()\">\r\n          Update\r\n        </button>\r\n        <button class=\"btn btn-primary\" *ngIf=\"!dataRec\" (click)=\"addForm()\" [disabled]=\"editSubcriptionForm.invalid \"  >\r\n            Add\r\n          </button>\r\n      </div>\r\n       \r\n      </div>\r\n    </section>"]}