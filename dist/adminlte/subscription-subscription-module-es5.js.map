{"version":3,"sources":["webpack:///src/app/subscription/subscription.component.ts","webpack:///src/app/subscription/rate-and-coupon/rate-and-coupon.component.ts","webpack:///src/app/subscription/rate-and-coupon/rate-and-coupon.component.html","webpack:///src/app/subscription/coupon/coupon.component.ts","webpack:///src/app/subscription/coupon/coupon.component.html","webpack:///src/app/subscription/coupon/add-edit-coupon/add-edit-coupon.component.ts","webpack:///src/app/subscription/coupon/add-edit-coupon/add-edit-coupon.component.html","webpack:///src/app/subscription/subscription.module.ts","webpack:///src/app/subscription/subscription-routing.module.ts","webpack:///src/app/utils/services/subscription.service.ts","webpack:///src/app/subscription/rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component.ts","webpack:///src/app/subscription/rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component.html"],"names":["SubscriptionComponent","setTitle","selector","templateUrl","styleUrls","RateAndCouponComponent","subscript","fb","dialog","dataPlan","isValid","ELEMENT_DATA","displayedColumns","dataSource","addPlan","rateAndCoupon","group","monthly","required","yearly","getPlan","myId","getAllPlan","subscribe","data","length","console","log","element","dialogRef","open","width","height","afterClosed","result","CouponComponent","spinner","paginator","getAllCoupon","res","couponData","forEach","index","item","fire","title","text","couponName","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","value","show","deleteCoupon","_id","hide","edit","AddEditCouponComponent","Subscription","dataRec","couponDetails","discount","get","editCoupon","close","showConfirmButton","timer","ngOnInit","addCoupon","resData","SubscriptionModule","declarations","imports","routes","path","component","SubscriptionRoutingModule","forChild","exports","SubscriptionService","https","apiUrl","id","pipe","put","post","providedIn","EditRateAndCouponComponent","editSubcriptionForm","defaultMonthly","defaultEmp","yearlyDiscount","editPlan"],"mappings":"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","file":"subscription-subscription-module-es5.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { SetTitleService } from '../utils/services/set-title.service';\r\n\r\n@Component({\r\n  selector: 'app-subscription',\r\n  templateUrl: './subscription.component.html',\r\n  styleUrls: ['./subscription.component.scss']\r\n})\r\nexport class SubscriptionComponent implements OnInit {\r\n\r\n  constructor(private setTitle:SetTitleService) { }\r\n\r\n  ngOnInit(): void { \r\n    this.setTitle.setTitle('WHS-Subscription');\r\n  } \r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SetTitleService } from 'src/app/utils/services/set-title.service';\r\nimport { EditRateAndCouponComponent } from './edit-rate-and-coupon/edit-rate-and-coupon.component';\r\n@Component({\r\n  selector: 'app-rate-and-coupon',\r\n  templateUrl: './rate-and-coupon.component.html',\r\n  styleUrls: ['./rate-and-coupon.component.scss']\r\n})\r\nexport class RateAndCouponComponent implements OnInit {\r\n  rateAndCoupon!:FormGroup;\r\n  dataPlan: any=[''];\r\n  myId: string;\r\n  data: any;\r\n  isValid:boolean = false;\r\n  ELEMENT_DATA = [];\r\n  displayedColumns: string[] = ['index', 'monthly','defaultMonthly','defaultEmp','yearlyDiscount', 'action'];\r\n  dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n  addPlan=false;\r\n  constructor(\r\n    private subscript: SubscriptionService,\r\n    private fb: FormBuilder,\r\n    private setTitle: SetTitleService, \r\n    private dialog: MatDialog, \r\n  ) { \r\n    this.rateAndCoupon = this.fb.group({\r\n      monthly: ['', Validators.required],\r\n      yearly: ['', Validators.required],\r\n      \r\n    });\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getPlan();\r\n    this.setTitle.setTitle('WHS-Subscription Details');\r\n    \r\n  }\r\n  monthly:number;\r\n  yearly:number;\r\n  getPlan() {\r\n    this.myId= '6177e0b96d0cc515a04870a2';\r\n    this.subscript.getAllPlan().subscribe((data) => {\r\n      let  dataPlan = data.data;\r\n       if ( dataPlan.length == 0) {\r\n              this.addPlan=true;\r\n               }\r\n        else{\r\n          this.addPlan=false;\r\n          this.ELEMENT_DATA = dataPlan;\r\n          this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n        }\r\n    \r\n     \r\n      // console.log('mode=>', data);\r\n      // this.dataSource.data = data.data;\r\n      console.log(\"dataPlan=>\",  dataPlan)\r\n     // this.dataPlan = data.data;\r\n      \r\n    });\r\n  }\r\n \r\n  editPlan(){\r\n    this.isValid= true;\r\n  }\r\n  // editPlanInfo(element) {\r\n  //   console.log('id=>', element);\r\n\r\n  //   this.myId = element._id;\r\n\r\n  //   console.log('form', this.rateAndCoupon.value);\r\n\r\n  //   // this.isEdit = true;\r\n  //   this.subscript\r\n  //     .editPlan(this.myId, this.rateAndCoupon.value)\r\n  //     .subscribe((res) => {\r\n  //       console.log('Data Set response' + res);\r\n  //       this.data = res.data;\r\n  //       console.log('new response' + this.data);\r\n  //       // this.dialogRef.close('true');\r\n  //     });\r\n  // }\r\n  edit(element) {\r\n    const dialogRef = this.dialog.open(EditRateAndCouponComponent, {\r\n      width: \"550px\",\r\n     height:\"400px\",\r\n      data: element,\r\n    });\r\n    dialogRef.afterClosed().subscribe((result) => {\r\n      if ((result == \"true\")) {\r\n        this.getPlan()\r\n      }\r\n      console.log(\"The dialog was closed\");\r\n    });\r\n  }\r\n\r\n  }\r\n\r\n","<div class=\"col ml-2 pt-1\">\r\n    <h1>\r\n     Subscription Details\r\n    </h1>\r\n  </div>\r\n  <div>\r\n  \r\n    <button type=\"button\"  \r\n      class=\"btn btn-outline-primary  mr-2 float-right\" *ngIf=\"addPlan\" (click)=\"edit('')\"><i  class=\"fas fa-plus\"></i> Add Coupon\r\n    </button>\r\n  </div>\r\n  <div >\r\n    <table mat-table [dataSource]=\"dataSource\">\r\n  \r\n    \r\n      <ng-container matColumnDef=\"index\">\r\n        <th mat-header-cell *matHeaderCellDef> No. </th>\r\n        <td mat-cell *matCellDef=\"let element,let i = index\">{{i+1}}</td>\r\n      </ng-container>\r\n \r\n      <ng-container matColumnDef=\"monthly\">\r\n        <th mat-header-cell *matHeaderCellDef> Monthly Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.monthly}} </td>\r\n      </ng-container>\r\n      \r\n      <ng-container matColumnDef=\"defaultMonthly\">\r\n        <th mat-header-cell *matHeaderCellDef>  Default Monthly Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.defaultMonthly}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"defaultEmp\">\r\n        <th mat-header-cell *matHeaderCellDef>  DefaultEmp Rate </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.defaultEmp}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"yearlyDiscount\">\r\n        <th mat-header-cell *matHeaderCellDef> Yearly Discount  </th>\r\n        <td mat-cell *matCellDef=\"let element\"> {{element.yearlyDiscount}} </td>\r\n      </ng-container>\r\n      <ng-container matColumnDef=\"action\">\r\n        <th mat-header-cell *matHeaderCellDef> Action </th>\r\n        <td mat-cell *matCellDef=\"let element\"> <i class=\"fas fa-pencil-alt mr-2 \" (click)=\"edit(element)\" title=\"edit\"></i> \r\n      \r\n        </td>\r\n      </ng-container>\r\n\r\n  \r\n  \r\n      <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n      <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n  \r\n  </div>\r\n\r\n","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport { MatTableDataSource } from '@angular/material/table';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { SetTitleService } from 'src/app/utils/services/set-title.service';\r\nimport Swal from 'sweetalert2';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { MatPaginator } from '@angular/material/paginator';\r\nimport { AddEditCouponComponent } from './add-edit-coupon/add-edit-coupon.component';\r\n@Component({\r\n  selector: 'app-coupon',\r\n  templateUrl: './coupon.component.html',\r\n  styleUrls: ['./coupon.component.scss']\r\n})\r\nexport class CouponComponent implements OnInit {\r\n  ELEMENT_DATA = [];\r\n  displayedColumns: string[] = ['index', 'couponName','discount', 'action'];\r\n  dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n  @ViewChild(MatPaginator) paginator: MatPaginator;\r\n  ngAfterViewInit() {\r\n    this.dataSource.paginator = this.paginator;\r\n  }\r\n  constructor(\r\n    private subscript: SubscriptionService,\r\n    private fb: FormBuilder,\r\n    private setTitle: SetTitleService, \r\n    private dialog: MatDialog, \r\n    private spinner: NgxSpinnerService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.getAllCoupon();\r\n    this.setTitle.setTitle('WHS-Coupon');\r\n    \r\n  }\r\ngetAllCoupon(){\r\n  this.subscript.getAllCoupon().subscribe((res)=>{\r\n    console.log(res)\r\n    let  couponData = res.data;\r\n    couponData.forEach((element, index) => {\r\n      element.index = index + 1; //adding index\r\n    });\r\n    this.ELEMENT_DATA = couponData;\r\n    this.dataSource = new MatTableDataSource(this.ELEMENT_DATA);\r\n    this.dataSource.paginator = this.paginator;\r\n  });\r\n}\r\nedit(element) {\r\n  const dialogRef = this.dialog.open(AddEditCouponComponent, {\r\n    width: \"550px\",\r\n   height:\"400px\",\r\n    data: element,\r\n  });\r\n  dialogRef.afterClosed().subscribe((result) => {\r\n    if ((result == \"true\")) {\r\n      this.getAllCoupon()\r\n    }\r\n    console.log(\"The dialog was closed\");\r\n  });\r\n\r\n}\r\ndelete(item) {\r\n  Swal.fire({\r\n    title: 'Are you sure?',\r\n    text: `Do you want to delete \"${item.couponName}\"?`,\r\n    icon: 'warning',\r\n    showCancelButton: true,\r\n    confirmButtonColor: '#00B96F',\r\n    cancelButtonColor: '#d33',\r\n    confirmButtonText: 'Yes, Delete!',\r\n  }).then((result) => {\r\n    if (result.value) {\r\n      console.log(result)\r\n      // this.model.attributes.splice(i,1);\r\n      this.spinner.show()\r\n      this.subscript.deleteCoupon(item._id).subscribe((res => {\r\n      this.getAllCoupon()\r\n      this.spinner.hide()\r\n      }))\r\n    }\r\n  });\r\n}\r\n}\r\n","<div class=\"col ml-2 pt-1\">\r\n    <h1>\r\n        Coupon Details\r\n    </h1>\r\n</div>\r\n<div>\r\n\r\n    <button type=\"button\" class=\"btn btn-outline-primary  mr-2 float-right\" (click)=\"edit('')\"><i\r\n            class=\"fas fa-plus\"></i> Add Coupon\r\n    </button>\r\n</div>\r\n<div>\r\n    <table mat-table [dataSource]=\"dataSource\">\r\n          <ng-container matColumnDef=\"index\">\r\n            <th mat-header-cell *matHeaderCellDef> No. </th>\r\n            <td mat-cell *matCellDef=\"let element,let i = index\">{{element.index}}</td>\r\n        </ng-container>\r\n         <ng-container matColumnDef=\"couponName\">\r\n            <th mat-header-cell *matHeaderCellDef> Coupon Name </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.couponName}} </td>\r\n        </ng-container>\r\n       <ng-container matColumnDef=\"discount\">\r\n            <th mat-header-cell *matHeaderCellDef> Discount % </th>\r\n            <td mat-cell *matCellDef=\"let element\"> {{element.discount}} </td>\r\n        </ng-container>\r\n        <ng-container matColumnDef=\"action\">\r\n            <th mat-header-cell *matHeaderCellDef> Action </th>\r\n            <td mat-cell *matCellDef=\"let element\"> <i class=\"fas fa-pencil-alt mr-2 \"(click)=\"edit(element)\"\r\n           title=\"edit\" ></i> <i class=\"fas fa-trash ml-2\" (click)=\"delete(element)\" title=\"delete\"></i>\r\n          </td>\r\n        </ng-container>\r\n       <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\r\n        <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\r\n    </table>\r\n    <mat-paginator [pageSizeOptions]=\"[5, 10, 20]\" showFirstLastButtons aria-label=\"Select page of periodic elements\">\r\n    </mat-paginator>\r\n</div>","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-add-edit-coupon',\r\n  templateUrl: './add-edit-coupon.component.html',\r\n  styleUrls: ['./add-edit-coupon.component.scss']\r\n})\r\nexport class AddEditCouponComponent implements OnInit {\r\n  couponDetails:FormGroup;\r\n  dataRec: any;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<AddEditCouponComponent>,\r\n\t\t@Inject(MAT_DIALOG_DATA) public data: any,\r\n    private fb : FormBuilder,\r\n    private Subscription: SubscriptionService\r\n    ) { \r\n      this.dataRec = data;\r\n    }\r\n\r\n\r\n\r\n  ngOnInit(): void {\r\n    this.couponDetails=this.fb.group({\r\n      couponName:[this.dataRec.couponName],\r\n      discount:[this.dataRec.discount],\r\n    })\r\n  }\r\n  onSubmit(){\r\n    let data={\r\n      couponName:this.couponDetails.get('couponName').value,\r\n      discount:this.couponDetails.get('discount').value\r\n    };\r\n\r\n    this.Subscription.editCoupon(this.dataRec._id,data).subscribe(res => {\r\n      \r\n       this.dialogRef.close('true');\r\n      Swal.fire({\r\n        title: ' Updated successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });   \r\n     \r\n      this.ngOnInit();\r\n    })\r\n  \r\n  }\r\n  addForm() {\r\n       \r\n    this.Subscription.addCoupon(this.couponDetails.value).subscribe((resData) => {\r\n      console.log('addCoupon', resData);\r\n\r\n      this.dialogRef.close('true');\r\n    \r\n        Swal.fire({\r\n          title: ' Added successfully',\r\n          showConfirmButton: false,\r\n          timer: 1200,\r\n        });\r\n      \r\n    });\r\n  }\r\n  close() {\r\n    this.dialogRef.close();\r\n}\r\n}\r\n","<section [formGroup]=\"couponDetails\" class=\"content\">\r\n  <div class=\"container px-4 py-4 bg-white\">\r\n    <div mat-dialog-title class=\"dialog-title\">\r\n    <h3 *ngIf=\"!dataRec\">Add Coupon Details</h3>\r\n    <h3 *ngIf=\"dataRec\">Edit Coupon Details </h3>\r\n    <button type=\"button\" class=\"close\" \r\n    style=\"font-size: 25px;\"\r\n      (click)=\"close()\" aria-label=\"Close\">\r\n    <span aria-hidden=\"true\">×</span>\r\n  </button>\r\n  </div>\r\n  <hr>\r\n    <div class=\"row\">\r\n      <div class=\"my-3 col\">\r\n        <p for=\"exampleFormControlInput1\" class=\"form-Label\">Coupon Name</p>\r\n        <input type=\"text\" class=\"form-control\" id=\"couponName\" formControlName=\"couponName\" />\r\n      </div>\r\n      <div class=\"my-3 col\">\r\n        <p for=\"exampleFormControlInput1\" class=\"form-Label\">Discount % </p>\r\n        <input type=\"text\" class=\"form-control\" id=\"discount\" formControlName=\"discount\" />\r\n      </div>\r\n    </div>\r\n\r\n    <hr>\r\n    <div>\r\n      <button class=\"btn btn-primary\" *ngIf=\"dataRec\" (click)=\"onSubmit()\">\r\n        Update\r\n      </button>\r\n      <button class=\"btn btn-primary\" *ngIf=\"!dataRec\" (click)=\"addForm()\">\r\n        Add\r\n      </button>\r\n    </div>\r\n\r\n  </div>\r\n</section>","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { SharedModule } from './../shared/shared.module';\r\nimport { SubscriptionRoutingModule } from './subscription-routing.module';\r\nimport { SubscriptionComponent } from './subscription.component';\r\nimport { RateAndCouponComponent } from './rate-and-coupon/rate-and-coupon.component';\r\nimport { EditRateAndCouponComponent } from './rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component';\r\nimport { CouponComponent } from './coupon/coupon.component';\r\nimport { AddEditCouponComponent } from './coupon/add-edit-coupon/add-edit-coupon.component';\r\n\r\n\r\n@NgModule({\r\n  declarations: [SubscriptionComponent, RateAndCouponComponent, EditRateAndCouponComponent, CouponComponent, AddEditCouponComponent],\r\n  imports: [\r\n    CommonModule,\r\n    SubscriptionRoutingModule,\r\n    SharedModule,\r\n    FormsModule,\r\n    ReactiveFormsModule\r\n  ]\r\n})\r\nexport class SubscriptionModule { }\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { CouponComponent } from './coupon/coupon.component';\r\nimport { EditRateAndCouponComponent } from './rate-and-coupon/edit-rate-and-coupon/edit-rate-and-coupon.component';\r\nimport { RateAndCouponComponent } from './rate-and-coupon/rate-and-coupon.component';\r\n\r\nimport { SubscriptionComponent } from './subscription.component';\r\n\r\nconst routes: Routes = [\r\n  // { path: '', component: SubscriptionComponent },\r\n  { path: '', component: RateAndCouponComponent },\r\n  { path: 'editRate', component: EditRateAndCouponComponent },\r\n  { path: 'coupon', component: CouponComponent },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class SubscriptionRoutingModule { }\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpClient, HttpEventType } from '@angular/common/http';\r\nimport { environment } from '../../../environments/environment';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class SubscriptionService {\r\n  apiUrl = environment.apiUrl;\r\n  constructor(private https: HttpClient) {}\r\n\r\n  getPlan(id: any) {\r\n    return this.https.get(this.apiUrl + 'plan/get/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getAllPlan() {\r\n    return this.https.get(this.apiUrl + 'plan/getAll'  ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  editPlan(id, data){\r\n    return this.https.put(this.apiUrl + 'plan/update/' + id, data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  addPlan(data) {\r\n    return this.https.post(this.apiUrl + 'plan/add', data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getCoupon(id: any) {\r\n    return this.https.get(this.apiUrl + 'coupon/get/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  getAllCoupon() {\r\n    return this.https.get(this.apiUrl + 'coupon/getAll'  ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  editCoupon(id, data){\r\n    return this.https.put(this.apiUrl + 'coupon/update/' + id, data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  addCoupon(data) {\r\n    return this.https.post(this.apiUrl + 'coupon/add', data).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n  deleteCoupon(id) {\r\n    return this.https.delete(this.apiUrl + 'coupon/delete/' + id ).pipe(\r\n      map((res: any) => {\r\n        console.log('res.data=>', res.data);\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Component, OnInit, Inject } from '@angular/core';\r\nimport { FormBuilder, FormGroup } from '@angular/forms';\r\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material/dialog';\r\nimport { SubscriptionService } from 'src/app/utils/services/subscription.service';\r\nimport Swal from 'sweetalert2';\r\n@Component({\r\n  selector: 'app-edit-rate-and-coupon',\r\n  templateUrl: './edit-rate-and-coupon.component.html',\r\n  styleUrls: ['./edit-rate-and-coupon.component.scss']\r\n})\r\nexport class EditRateAndCouponComponent implements OnInit {\r\n  editSubcriptionForm: FormGroup;\r\n  dataRec: any;\r\n  constructor(\r\n    private dialogRef: MatDialogRef<EditRateAndCouponComponent>,\r\n    @Inject(MAT_DIALOG_DATA) public data: any,\r\n    private fb: FormBuilder,\r\n    private Subscription: SubscriptionService\r\n  ) {\r\n    this.dataRec = data;\r\n  }\r\n\r\n\r\n  ngOnInit(): void {\r\n    console.log(this.data);\r\n\r\n    this.editSubcriptionForm = this.fb.group({\r\n      monthly: [this.dataRec.monthly],\r\n      defaultMonthly: [this.dataRec.defaultMonthly],\r\n      defaultEmp: [this.dataRec.defaultEmp],\r\n      yearlyDiscount: [this.dataRec.yearlyDiscount],\r\n    });\r\n  }\r\n  onSubmit() {\r\n    let data = {\r\n      monthly: this.editSubcriptionForm.get('monthly').value,\r\n      defaultMonthly: this.editSubcriptionForm.get('defaultMonthly').value,\r\n      defaultEmp: this.editSubcriptionForm.get('defaultEmp').value,\r\n      yearlyDiscount: this.editSubcriptionForm.get('yearlyDiscount').value,\r\n    };\r\n    this.Subscription.editPlan(this.dataRec._id, data).subscribe(res => {\r\n      console.log(res);\r\n      this.dialogRef.close('true');\r\n      Swal.fire({\r\n        title: ' Updated successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });\r\n\r\n      this.ngOnInit();\r\n    })\r\n  }\r\n  addForm() {\r\n\r\n    this.Subscription.addPlan(this.editSubcriptionForm.value).subscribe((resData) => {\r\n      console.log('addPlan', resData);\r\n\r\n      this.dialogRef.close('true');\r\n\r\n      Swal.fire({\r\n        title: ' Added successfully',\r\n        showConfirmButton: false,\r\n        timer: 1200,\r\n      });\r\n\r\n    });\r\n  }\r\n  close() {\r\n    this.dialogRef.close();\r\n}\r\n}\r\n\r\n\r\n","\r\n<section [formGroup]=\"editSubcriptionForm\" class=\"content\">\r\n    <div class=\"container px-4 py-4 bg-white\">\r\n      <div mat-dialog-title class=\"dialog-title\">\r\n        <h3 *ngIf=\"!dataRec\">Add Subcription Rate</h3>\r\n        <h3 *ngIf=\"dataRec\">Edit Subcription Rate</h3>\r\n        <button type=\"button\" class=\"close\" \r\n      style=\"font-size: 25px;\"\r\n        (click)=\"close()\" aria-label=\"Close\">\r\n      <span aria-hidden=\"true\">×</span>\r\n    </button>\r\n    </div>\r\n    <hr>\r\n        <div class=\"row\">\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\">Monthly Rate</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"monthly\"\r\n              formControlName=\"monthly\"\r\n            />\r\n          </div>\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\"> Default Monthly Rate</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"defaultMonthly\"\r\n              formControlName=\"defaultMonthly\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div class=\"row\">\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\">Default Emp</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"defaultEmp\"\r\n              formControlName=\"defaultEmp\"\r\n            />\r\n          </div>\r\n          <div class=\"my-3 col\">\r\n            <p for=\"exampleFormControlInput1\" class=\"form-Label\"> Yearly Discount</p>\r\n            <input\r\n              type=\"text\"\r\n              class=\"form-control\"\r\n              id=\"yearlyDiscount\"\r\n              formControlName=\"yearlyDiscount\"\r\n            />\r\n          </div>\r\n        </div> \r\n      <hr>\r\n      <div >\r\n        <button class=\"btn btn-primary\"   *ngIf=\"dataRec\"  (click)=\"onSubmit()\">\r\n          Update\r\n        </button>\r\n        <button class=\"btn btn-primary\" *ngIf=\"!dataRec\" (click)=\"addForm()\">\r\n            Add\r\n          </button>\r\n      </div>\r\n       \r\n      </div>\r\n    </section>"]}