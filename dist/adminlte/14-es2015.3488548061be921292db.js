(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{jASi:function(t,i,e){"use strict";e.r(i),e.d(i,"FormsModule1",function(){return Co});var o=e("Tnig"),n=e("fXoL");let c=(()=>{class t{constructor(t){this.elementRef=t}onInput(){this.resize()}ngOnInit(){this.elementRef.nativeElement.scrollHeight&&setTimeout(()=>this.resize())}resize(){this.elementRef.nativeElement.style.height="0",this.elementRef.nativeElement.style.height=this.elementRef.nativeElement.scrollHeight+"px"}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(n.l))},t.\u0275dir=n.Jb({type:t,selectors:[["","appTextareaAutoresize",""]],hostBindings:function(t,i){1&t&&n.ec("input",function(){return i.onInput()})}}),t})();var a=e("ofXK"),s=e("/1cH"),r=e("tyNb"),l=e("wZkO"),m=e("M9IT"),b=e("+0xr"),d=e("Dh3D"),u=e("0IaG"),f=e("JqCM"),h=e("yZxC"),p=e("3Pt+"),T=e("1jcm"),g=e("Qu3c"),y=e("OFbc");function O(t,i){1&t&&(n.Ub(0,"th",15),n.Oc(1," No. "),n.Tb())}function w(t,i){if(1&t&&(n.Ub(0,"td",16),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.index)}}function D(t,i){1&t&&(n.Ub(0,"th",15),n.Oc(1," Form Name "),n.Tb())}function U(t,i){if(1&t&&(n.Ub(0,"td",16),n.Ub(1,"span",17),n.Oc(2),n.Tb(),n.Tb()),2&t){const t=i.$implicit;n.Bb(2),n.Pc(t.title)}}function C(t,i){1&t&&(n.Ub(0,"th",18),n.Oc(1," Form Frequency "),n.Tb())}function M(t,i){1&t&&(n.Ub(0,"td",16),n.Ub(1,"select",19),n.Ub(2,"option",20),n.Oc(3,"Daily"),n.Tb(),n.Ub(4,"option",21),n.Oc(5,"Weekly"),n.Tb(),n.Ub(6,"option",21),n.Oc(7,"Monthly"),n.Tb(),n.Ub(8,"option",22),n.Oc(9,"Quaterly"),n.Tb(),n.Ub(10,"option",23),n.Oc(11,"Half yearly"),n.Tb(),n.Ub(12,"option",24),n.Oc(13,"Yearly"),n.Tb(),n.Ub(14,"option",25),n.Oc(15,"Once Off"),n.Tb(),n.Tb(),n.Tb())}function v(t,i){1&t&&(n.Ub(0,"th",18),n.Oc(1," Disable/Enable "),n.Tb())}function S(t,i){1&t&&(n.Ub(0,"td",16),n.Pb(1,"mat-slide-toggle",26),n.Tb())}function k(t,i){1&t&&(n.Ub(0,"th",18),n.Oc(1," Action "),n.Tb())}function I(t,i){if(1&t&&(n.Ub(0,"span",30),n.Pb(1,"svg-icon",31),n.Tb()),2&t){const t=n.ic().$implicit;n.qc("routerLink",t.link)}}function B(t,i){if(1&t){const t=n.Vb();n.Ub(0,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().goTo(i.title)}),n.Oc(1," launch "),n.Tb()}}function R(t,i){if(1&t&&(n.Ub(0,"td",16),n.Ub(1,"div",27),n.Mc(2,I,2,1,"span",28),n.Mc(3,B,2,0,"span",29),n.Tb(),n.Tb()),2&t){const t=n.ic();n.Bb(2),n.qc("ngIf","fillConfigForm"==t.url[0].path),n.Bb(1),n.qc("ngIf","fillConfigForm"==t.url[0].path)}}function H(t,i){1&t&&n.Pb(0,"tr",33)}function A(t,i){1&t&&n.Pb(0,"tr",34)}function P(t,i){1&t&&(n.Ub(0,"tr",35),n.Ub(1,"td",36),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const x=function(){return[20]};let F=(()=>{class t{constructor(t,i,e,o,n){this.dialog=t,this.spinner=i,this.router=e,this.setTitle=o,this.activatedRoute=n,this.page=1,this.pageSize=10,this.collectionSize=10,this.ELEMENT_DATA=[{index:1,title:"Hazards Reported",link:["/admin/forms/hazardRep/form"]},{index:2,title:"Notifiable Accident",link:["/admin/forms/incidentRep/Form"]},{index:3,title:"Toolbox Talk",link:["/admin/forms/toolboxTalk/form"]},{index:4,title:"Site Inspection",link:["/admin/forms/siteInspect/form"]},{index:5,title:"Risk Assessment",link:["/admin/forms/riskAssessSWMS/form"]}],this.formName="",this.displayedColumns=["index","formName","formFrequency","Disable/Enable"],this.dataSource=new b.l(this.ELEMENT_DATA)}ngAfterViewInit(){this.dataSource.paginator=this.paginator}goTo(t){console.log("title",t),"Toolbox Talk"===t&&this.router.navigate(["/admin/forms/tableData"]),"Site Inspection"===t&&this.router.navigate(["/admin/forms/siteinspectiontable"]),"Hazards Reported"===t&&this.router.navigate(["/admin/forms/hazardTable"]),"Notifiable Accident"===t&&this.router.navigate(["/admin/forms/incidentsTable"]),"Risk Assessment"===t&&this.router.navigate(["/admin/forms/riskAssessTable"])}ngOnInit(){this.url=this.activatedRoute.snapshot.url,this.setTitle.setTitle("WHS-All Form")}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(u.b),n.Ob(f.c),n.Ob(r.f),n.Ob(h.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-forms"]],viewQuery:function(t,i){if(1&t&&(n.Sc(d.a,!0),n.Sc(m.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.sort=t.first),n.xc(t=n.fc())&&(i.paginator=t.first)}},inputs:{displayedColumns:"displayedColumns"},decls:24,vars:5,consts:[[1,"col","ml-2","pt-3"],[1,""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","index"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formName"],["matColumnDef","formFrequency"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Disable/Enable"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],[1,"flex-start"],["mat-header-cell",""],["aria-label","Default select example",1,"form-select","form-control"],["value","daily"],["value","weekly"],["value","quaterly"],["value","halfYearly"],["value","yearly"],["value","onceOff"],["color","primary","checked",""],[2,"display","flex","justify-content","space-evenly"],["class","material-icons","matTooltip","Fill The Form","style","font-size: 26px ;cursor: pointer !important;",3,"routerLink",4,"ngIf"],["class","material-icons mt-2","matTooltip","Saved Form List","style","cursor: pointer !important;",3,"click",4,"ngIf"],["matTooltip","Fill The Form",1,"material-icons",2,"font-size","26px","cursor","pointer !important",3,"routerLink"],["name","Fill_form"],["matTooltip","Saved Form List",1,"material-icons","mt-2",2,"cursor","pointer !important",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Ub(0,"div",0),n.Ub(1,"h1"),n.Oc(2," Forms List"),n.Tb(),n.Tb(),n.Ub(3,"div",1),n.Ub(4,"table",2),n.Sb(5,3),n.Mc(6,O,2,0,"th",4),n.Mc(7,w,2,1,"td",5),n.Rb(),n.Sb(8,6),n.Mc(9,D,2,0,"th",4),n.Mc(10,U,3,1,"td",5),n.Rb(),n.Sb(11,7),n.Mc(12,C,2,0,"th",8),n.Mc(13,M,16,0,"td",5),n.Rb(),n.Sb(14,9),n.Mc(15,v,2,0,"th",8),n.Mc(16,S,2,0,"td",5),n.Rb(),n.Sb(17,10),n.Mc(18,k,2,0,"th",8),n.Mc(19,R,4,2,"td",5),n.Rb(),n.Mc(20,H,1,0,"tr",11),n.Mc(21,A,1,0,"tr",12),n.Mc(22,P,3,0,"tr",13),n.Tb(),n.Pb(23,"mat-paginator",14),n.Tb()),2&t&&(n.Bb(4),n.qc("dataSource",i.dataSource),n.Bb(16),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(4,x)))},directives:[b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,b.d,d.b,b.a,p.v,p.D,T.a,a.n,g.a,r.g,y.b,b.f,b.i],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var q=e("1tPq");let $=(()=>{class t{constructor(t){this.activatedRoute=t,this.displayedColumns=["index","formName","edit"]}ngOnInit(){this.selectValue=this.activatedRoute.snapshot.params.index}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-fill-configured-form"]],decls:5,vars:3,consts:[[3,"selectedIndex"],["label","Logical Forms List"],[3,"displayedColumns"],["label","Dynamic Forms List"]],template:function(t,i){1&t&&(n.Ub(0,"mat-tab-group",0),n.Ub(1,"mat-tab",1),n.Pb(2,"app-forms",2),n.Tb(),n.Ub(3,"mat-tab",3),n.Pb(4,"app-dynamic-list",2),n.Tb(),n.Tb()),2&t&&(n.qc("selectedIndex",i.selectValue),n.Bb(2),n.qc("displayedColumns",i.displayedColumns),n.Bb(2),n.qc("displayedColumns",i.displayedColumns))},directives:[l.b,l.a,F,q.a],styles:[""]}),t})();var L=e("lJxs"),N=e("wbBK"),z=e("zXlT");const _=function(t){return[t]};function j(t,i){1&t&&(n.Ub(0,"div",24),n.Pb(1,"i",25),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,_,"/admin/forms/fillConfigForm/0"))}const E=function(){return["/admin/forms/tableData"]};function Q(t,i){1&t&&(n.Ub(0,"div",24),n.Pb(1,"i",25),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,E))}function V(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," ToolBox Talk List"),n.Tb())}function W(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," ToolBox Talk Form Histroy List"),n.Tb())}function J(t,i){1&t&&(n.Ub(0,"th",26),n.Oc(1," No. "),n.Tb())}function Y(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.index+1)}}function Z(t,i){1&t&&(n.Ub(0,"th",26),n.Oc(1," Form Id "),n.Tb())}function G(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.formId)}}function X(t,i){1&t&&(n.Ub(0,"th",26),n.Oc(1," Version "),n.Tb())}function K(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.version)}}function tt(t,i){1&t&&(n.Ub(0,"th",26),n.Oc(1," Name "),n.Tb())}function it(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.customerName)}}function et(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1," Phone"),n.Tb())}function ot(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.custConct)}}function nt(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Email"),n.Tb())}function ct(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function at(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Site Name"),n.Tb())}function st(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function rt(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Created Date"),n.Tb())}function lt(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function mt(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Updated Date"),n.Tb())}function bt(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function dt(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Created Date"),n.Tb())}function ut(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function ft(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1,"Updated Date"),n.Tb())}function ht(t,i){if(1&t&&(n.Ub(0,"td",27),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function pt(t,i){1&t&&(n.Ub(0,"th",28),n.Oc(1," Action "),n.Tb())}function Tt(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",31),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().edit(i._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().printPage(i._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",33),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().delete(i._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",34),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,_,"/admin/forms/tableData/history/"+t._id))}}function gt(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",35),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().view(i._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function yt(t,i){if(1&t&&(n.Ub(0,"td",27),n.Mc(1,Tt,9,3,"div",29),n.Mc(2,gt,3,0,"div",29),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function Ot(t,i){1&t&&n.Pb(0,"tr",36)}function wt(t,i){1&t&&n.Pb(0,"tr",37)}function Dt(t,i){1&t&&(n.Ub(0,"tr",38),n.Ub(1,"td",39),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Ut=function(){return[20]};let Ct=(()=>{class t{constructor(t,i,e,o,n){this.activatedRoute=t,this.logicalFormInfo=i,this.router=e,this.shared=o,this.spinner=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"],this.role=["product owner"]}ngOnInit(){this.isHistory=this.router.url.includes("/tableData/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(L.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getToolBoxHistory()}):this.getToolBox()}ngAfterViewInit(){}delete(t){this.logicalFormInfo.deleteToolBox(t).subscribe(t=>{console.log("deleted",t),this.getToolBox()})}getToolBox(t="",i=""){this.logicalFormInfo.gettoolBox(t,i).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}getToolBoxHistory(t="",i="",e=this.id){this.logicalFormInfo.gettoolBoxHistory(t,i,e).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/toolboxTalk/"+t])}view(t){this.router.navigate(["/admin/forms/tableData/history/toolboxTalk/"+t],{queryParams:{returnTo:this.router.url}})}sortData(t){this.isHistory?this.getToolBoxHistory(t.active,t.direction):this.getToolBox(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","toolboxTalk",t]}}])}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(r.a),n.Ob(N.a),n.Ob(r.f),n.Ob(z.a),n.Ob(f.c))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-display-table"]],viewQuery:function(t,i){if(1&t&&(n.Sc(m.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.paginator=t.first),n.xc(t=n.fc())&&(i.sort=t.first)}},decls:47,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","position"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","version"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["mat-icon-button","","matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Mc(0,j,2,3,"div",0),n.Mc(1,Q,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,V,2,0,"h1",2),n.Mc(4,W,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return i.sortData(t)}),n.Sb(7,5),n.Mc(8,J,2,0,"th",6),n.Mc(9,Y,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,Z,2,0,"th",6),n.Mc(12,G,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,X,2,0,"th",6),n.Mc(15,K,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,tt,2,0,"th",6),n.Mc(18,it,2,1,"td",7),n.Rb(),n.Sb(19,11),n.Mc(20,et,2,0,"th",12),n.Mc(21,ot,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,nt,2,0,"th",12),n.Mc(24,ct,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,at,2,0,"th",12),n.Mc(27,st,2,1,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,rt,2,0,"th",12),n.Mc(30,lt,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,mt,2,0,"th",12),n.Mc(33,bt,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,dt,2,0,"th",12),n.Mc(36,ut,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,ft,2,0,"th",12),n.Mc(39,ht,3,4,"td",7),n.Rb(),n.Sb(40,19),n.Mc(41,pt,2,0,"th",12),n.Mc(42,yt,3,2,"td",7),n.Rb(),n.Mc(43,Ot,1,0,"tr",20),n.Mc(44,wt,1,0,"tr",21),n.Mc(45,Dt,3,0,"tr",22),n.Tb(),n.Pb(46,"mat-paginator",23),n.Tb()),2&t&&(n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("dataSource",i.tempArray),n.Bb(37),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Ut)))},directives:[a.n,b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,r.g,b.d,d.b,b.a,g.a,r.h,b.f,b.i],pipes:[a.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();var Mt=e("9Ohn"),vt=e("4psL"),St=e("woRl"),kt=e("lJ0R"),It=e("h5Ns"),Bt=e("PSD3"),Rt=e.n(Bt);const Ht=function(t){return[t]};function At(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,Ht,"/admin/forms/fillConfigForm/0"))}const Pt=function(){return["/admin/forms/siteinspectiontable"]};function xt(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Pt))}function Ft(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Site Inspection List"),n.Tb())}function qt(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Site Inspection Form History List"),n.Tb())}function $t(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function Lt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.version)}}function Nt(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function zt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.formId)}}function _t(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function jt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.customerName)}}function Et(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function Qt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.custConctPh)}}function Vt(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function Wt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function Jt(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function Yt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function Zt(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Gt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function Xt(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Kt(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function ti(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function ii(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function ei(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function oi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function ni(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function ci(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().edit(i._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().printPage(i._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().delete(i._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,Ht,"/admin/forms/siteinspectiontable/history/"+t._id))}}function ai(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().view(i._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function si(t,i){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,ci,9,3,"div",28),n.Mc(2,ai,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function ri(t,i){1&t&&n.Pb(0,"tr",35)}function li(t,i){1&t&&n.Pb(0,"tr",36)}function mi(t,i){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const bi=function(){return[20]};let di=(()=>{class t{constructor(t,i,e,o,n){this.logicalFormInfo=t,this.router=i,this.spinner=e,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/siteinspectiontable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(L.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getsiteInspectionHistory()}):this.getsiteInspection()}ngAfterViewInit(){}delete(t){Rt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(i=>{i.value&&this.logicalFormInfo.deleteSiteInspection(t).subscribe(t=>{Rt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getsiteInspection()})})}getsiteInspection(t="",i=""){this.logicalFormInfo.getAllSiteInspection(t,i).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,console.log("res",this.showDatas),this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}getsiteInspectionHistory(t="",i="",e=this.id){this.logicalFormInfo.getAllSiteInspectionHistory(t,i,e).subscribe(t=>{console.log("res",t.result),this.showDatas=t.result,console.log("res",this.showDatas),this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/siteInspect/"+t])}sortData(t){this.isHistory?this.getsiteInspectionHistory(t.active,t.direction):this.getsiteInspection(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.clear(),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","siteInspect",t]}}])}view(t){this.router.navigate(["/admin/forms/siteinspectiontable/history/siteInspect/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(N.a),n.Ob(r.f),n.Ob(f.c),n.Ob(z.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-site-inspection-table"]],viewQuery:function(t,i){if(1&t&&(n.Sc(m.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.paginator=t.first),n.xc(t=n.fc())&&(i.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","View Histroy","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Mc(0,At,2,3,"div",0),n.Mc(1,xt,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Ft,2,0,"h1",2),n.Mc(4,qt,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return i.sortData(t)}),n.Sb(7,5),n.Mc(8,$t,2,0,"th",6),n.Mc(9,Lt,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,Nt,2,0,"th",6),n.Mc(12,zt,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,_t,2,0,"th",6),n.Mc(15,jt,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,Et,2,0,"th",11),n.Mc(18,Qt,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,Vt,2,0,"th",11),n.Mc(21,Wt,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Jt,2,0,"th",11),n.Mc(24,Yt,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,Zt,2,0,"th",11),n.Mc(27,Gt,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,Xt,2,0,"th",11),n.Mc(30,Kt,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,ti,2,0,"th",11),n.Mc(33,ii,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,ei,2,0,"th",11),n.Mc(36,oi,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,ni,2,0,"th",11),n.Mc(39,si,3,2,"td",7),n.Rb(),n.Mc(40,ri,1,0,"tr",19),n.Mc(41,li,1,0,"tr",20),n.Mc(42,mi,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("dataSource",i.tempArray),n.Bb(34),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,bi)))},directives:[a.n,b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,r.g,b.d,d.b,b.a,g.a,r.h,b.f,b.i],pipes:[a.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const ui=function(t){return[t]};function fi(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,ui,"/admin/forms/fillConfigForm/0"))}const hi=function(){return["/admin/forms/hazardTable"]};function pi(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,hi))}function Ti(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Hazard Form List"),n.Tb())}function gi(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Hazard Form History List"),n.Tb())}function yi(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function Oi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.version)}}function wi(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function Di(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.formId)}}function Ui(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function Ci(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.fullName)}}function Mi(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function vi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.phone)}}function Si(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function ki(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.email," ")}}function Ii(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Position"),n.Tb())}function Bi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.position," ")}}function Ri(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Hi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function Ai(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function Pi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function xi(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Fi(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function qi(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function $i(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function Li(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function Ni(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().edit(i._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().printPage(i._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().delete(i._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,ui,"/admin/forms/hazardTable/history/"+t._id))}}function zi(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().view(i._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function _i(t,i){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,Ni,9,3,"div",28),n.Mc(2,zi,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function ji(t,i){1&t&&n.Pb(0,"tr",35)}function Ei(t,i){1&t&&n.Pb(0,"tr",36)}function Qi(t,i){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Vi=function(){return[20]};let Wi=(()=>{class t{constructor(t,i,e,o,n){this.logicalFormInfo=t,this.router=i,this.spinner=e,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","name","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/hazardTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(L.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","name","phone","email","site","createdTime","updatedTime","action"],this.getAllHazardFormDataHistory()}):this.getAllHazardFormData()}getAllHazardFormDataHistory(t="",i="",e=this.id){this.logicalFormInfo.getAllHazardFormDataHistory(t,i,e).subscribe(t=>{console.log("res",t.data),this.showDatas=t.result,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),console.log("this.showDatas",this.showDatas),this.dataSource=new b.l(this.showDatas),console.log("get res",this.showDatas)})}delete(t){Rt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(i=>{i.value&&this.logicalFormInfo.deleteHazardFormData(t).subscribe(t=>{Rt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getAllHazardFormData()})})}getAllHazardFormData(t="",i=""){this.logicalFormInfo.getAllHazardFormData(t,i).subscribe(t=>{console.log("res",t.data),this.showDatas=t.data,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),console.log("this.showDatas",this.showDatas),this.dataSource=new b.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/hazardRep/"+t])}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","hazardRep",t]}}])}sortData(t){this.isHistory?this.getAllHazardFormDataHistory(t.active,t.direction):this.getAllHazardFormData(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/hazardTable/history/hazardRep/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(N.a),n.Ob(r.f),n.Ob(f.c),n.Ob(z.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-hazard-form-table-details"]],viewQuery:function(t,i){if(1&t&&(n.Sc(m.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.paginator=t.first),n.xc(t=n.fc())&&(i.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","name"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Mc(0,fi,2,3,"div",0),n.Mc(1,pi,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Ti,2,0,"h1",2),n.Mc(4,gi,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return i.sortData(t)}),n.Sb(7,5),n.Mc(8,yi,2,0,"th",6),n.Mc(9,Oi,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,wi,2,0,"th",6),n.Mc(12,Di,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,Ui,2,0,"th",6),n.Mc(15,Ci,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,Mi,2,0,"th",11),n.Mc(18,vi,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,Si,2,0,"th",11),n.Mc(21,ki,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Ii,2,0,"th",11),n.Mc(24,Bi,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,Ri,2,0,"th",11),n.Mc(27,Hi,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,Ai,2,0,"th",11),n.Mc(30,Pi,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,xi,2,0,"th",11),n.Mc(33,Fi,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,qi,2,0,"th",11),n.Mc(36,$i,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,Li,2,0,"th",11),n.Mc(39,_i,3,2,"td",7),n.Rb(),n.Mc(40,ji,1,0,"tr",19),n.Mc(41,Ei,1,0,"tr",20),n.Mc(42,Qi,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("dataSource",i.dataSource),n.Bb(34),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Vi)))},directives:[a.n,b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,r.g,b.d,d.b,b.a,g.a,r.h,b.f,b.i],pipes:[a.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const Ji=function(t){return[t]};function Yi(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,Ji,"/admin/forms/fillConfigForm/0"))}const Zi=function(){return["/admin/forms/incidentsTable"]};function Gi(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Zi))}function Xi(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Accident Report List"),n.Tb())}function Ki(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Accident Report Form Histroy List"),n.Tb())}function te(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function ie(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.version)}}function ee(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function oe(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.formId)}}function ne(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Project Name "),n.Tb())}function ce(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.projectName)}}function ae(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Customer Name"),n.Tb())}function se(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.customerName)}}function re(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function le(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.customerEmail," ")}}function me(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function be(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function de(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function ue(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function fe(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function he(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function pe(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Te(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function ge(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function ye(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function Oe(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function we(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",30),n.Ub(1,"span",31),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().edit(i._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().printPage(i._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",33),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().delete(i._id)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",34),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,Ji,"/admin/forms/incidentsTable/history/"+t._id))}}function De(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",35),n.Ub(1,"span",36),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().view(i._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function Ue(t,i){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,we,9,3,"div",28),n.Mc(2,De,3,0,"div",29),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function Ce(t,i){1&t&&n.Pb(0,"tr",37)}function Me(t,i){1&t&&n.Pb(0,"tr",38)}function ve(t,i){1&t&&(n.Ub(0,"tr",39),n.Ub(1,"td",40),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const Se=function(){return[20]};let ke=(()=>{class t{constructor(t,i,e,o,n){this.logicalFormInfo=t,this.router=i,this.shared=e,this.spinner=o,this.activatedRoute=n,this.displayedColumns=["formId","projectName","customerName","Email","Site","createdAt","updatedAt","Action"],this.isHistory=!1}ngOnInit(){this.isHistory=this.router.url.includes("/incidentsTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(L.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","projectName","customerName","Email","Site","createdTime","updatedTime","Action"],this.getIncidentReportHistory()}):this.getIncidentReport()}view(t){this.router.navigate(["/admin/forms/incidentsTable/history/incidentRep/"+t],{queryParams:{returnTo:this.router.url}})}getIncidentReportHistory(t="",i="",e=this.id){this.logicalFormInfo.getAllIncidentHistory(t,i,e).subscribe(t=>{this.showDatas=t.data[0].result,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Rt.a.fire({title:"Are you sure?",text:"Do you want to delete ",icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(i=>{i.value&&this.logicalFormInfo.deleteIncidentReport(t).subscribe(t=>{console.log("deleted",t),Rt.a.fire({title:"Deleted successfully",showConfirmButton:!1,timer:1200}),console.log("deleted res",t),this.getIncidentReport()})})}getIncidentReport(t="",i=""){this.logicalFormInfo.getAllIncidentReport(t,i).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){this.router.navigate(["/admin/forms/incidentRep/"+t])}sortData(t){this.isHistory?this.getIncidentReportHistory(t.active,t.direction):this.getIncidentReport(t.active,t.direction)}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show(),this.router.navigate(["/",{outlets:{print:["print","incidentRep",t]}}])}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(N.a),n.Ob(r.f),n.Ob(z.a),n.Ob(f.c),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-incidents-table"]],viewQuery:function(t,i){if(1&t&&(n.Sc(m.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.paginator=t.first),n.xc(t=n.fc())&&(i.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","projectName"],["matColumnDef","customerName"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Email"],["matColumnDef","Site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","Action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["div","","style","display: flex; justify-content: space-around;",4,"ngIf"],["style","display: flex; justify-content: space-around;",4,"ngIf"],["div","",2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","Delete","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],[2,"display","flex","justify-content","space-around"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Mc(0,Yi,2,3,"div",0),n.Mc(1,Gi,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Xi,2,0,"h1",2),n.Mc(4,Ki,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return i.sortData(t)}),n.Sb(7,5),n.Mc(8,te,2,0,"th",6),n.Mc(9,ie,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,ee,2,0,"th",6),n.Mc(12,oe,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,ne,2,0,"th",6),n.Mc(15,ce,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,ae,2,0,"th",11),n.Mc(18,se,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,re,2,0,"th",11),n.Mc(21,le,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,me,2,0,"th",11),n.Mc(24,be,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,de,2,0,"th",11),n.Mc(27,ue,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,fe,2,0,"th",11),n.Mc(30,he,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,pe,2,0,"th",11),n.Mc(33,Te,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,ge,2,0,"th",11),n.Mc(36,ye,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,Oe,2,0,"th",11),n.Mc(39,Ue,3,2,"td",7),n.Rb(),n.Mc(40,Ce,1,0,"tr",19),n.Mc(41,Me,1,0,"tr",20),n.Mc(42,ve,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("dataSource",i.tempArray),n.Bb(34),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,Se)))},directives:[a.n,b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,r.g,b.d,d.b,b.a,g.a,r.h,b.f,b.i],pipes:[a.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const Ie=function(t){return[t]};function Be(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.uc(1,Ie,"/admin/forms/fillConfigForm/0"))}const Re=function(){return["/admin/forms/riskAssessTable"]};function He(t,i){1&t&&(n.Ub(0,"div",23),n.Pb(1,"i",24),n.Tb()),2&t&&n.qc("routerLink",n.tc(1,Re))}function Ae(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Risk Assessment List"),n.Tb())}function Pe(t,i){1&t&&(n.Ub(0,"h1"),n.Oc(1," Risk Assessment History List"),n.Tb())}function xe(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Version "),n.Tb())}function Fe(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.version)}}function qe(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Form Id "),n.Tb())}function $e(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.formId)}}function Le(t,i){1&t&&(n.Ub(0,"th",25),n.Oc(1," Name "),n.Tb())}function Ne(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.customerName)}}function ze(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Phone"),n.Tb())}function _e(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Pc(t.custConct)}}function je(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Email"),n.Tb())}function Ee(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.custEmail," ")}}function Qe(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Site Name"),n.Tb())}function Ve(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",t.siteName," ")}}function We(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Je(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdAt,"medium")," ")}}function Ye(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function Ze(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedAt,"medium")," ")}}function Ge(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Created Date"),n.Tb())}function Xe(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.createdTime,"medium")," ")}}function Ke(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1,"Updated Date"),n.Tb())}function to(t,i){if(1&t&&(n.Ub(0,"td",26),n.Oc(1),n.jc(2,"date"),n.Tb()),2&t){const t=i.$implicit;n.Bb(1),n.Qc(" ",n.lc(2,1,t.updatedTime,"medium")," ")}}function io(t,i){1&t&&(n.Ub(0,"th",27),n.Oc(1," Action "),n.Tb())}function eo(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",30),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().edit(i._id)}),n.Oc(2," edit "),n.Tb(),n.Ub(3,"span",31),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().printPage(i._id)}),n.Oc(4," print "),n.Tb(),n.Ub(5,"span",32),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().delete(i)}),n.Oc(6," delete "),n.Tb(),n.Ub(7,"span",33),n.Oc(8," history "),n.Tb(),n.Tb()}if(2&t){const t=n.ic().$implicit;n.Bb(7),n.qc("routerLink",n.uc(1,Ie,"/admin/forms/riskAssessTable/history/"+t._id))}}function oo(t,i){if(1&t){const t=n.Vb();n.Ub(0,"div",29),n.Ub(1,"span",34),n.ec("click",function(){n.Cc(t);const i=n.ic().$implicit;return n.ic().view(i._id)}),n.Oc(2," visibility "),n.Tb(),n.Tb()}}function no(t,i){if(1&t&&(n.Ub(0,"td",26),n.Mc(1,eo,9,3,"div",28),n.Mc(2,oo,3,0,"div",28),n.Tb()),2&t){const t=n.ic();n.Bb(1),n.qc("ngIf",!t.isHistory),n.Bb(1),n.qc("ngIf",t.isHistory)}}function co(t,i){1&t&&n.Pb(0,"tr",35)}function ao(t,i){1&t&&n.Pb(0,"tr",36)}function so(t,i){1&t&&(n.Ub(0,"tr",37),n.Ub(1,"td",38),n.Oc(2,"Data Not Found "),n.Tb(),n.Tb())}const ro=function(){return[20]};let lo=(()=>{class t{constructor(t,i,e,o,n){this.logicalFormInfo=t,this.router=i,this.spinner=e,this.shared=o,this.activatedRoute=n,this.displayedColumns=["formId","customerName","phone","email","site","createdAt","updatedAt","action"]}ngOnInit(){this.isHistory=this.router.url.includes("/riskAssessTable/history"),console.log(this.isHistory),this.isHistory?this.activatedRoute.paramMap.pipe(Object(L.a)(t=>t.get("id"))).subscribe(t=>{this.id=t,this.displayedColumns=["version","formId","customerName","phone","email","site","createdTime","updatedTime","action"],this.getAssesmentHistory()}):this.getAssesment()}getAssesmentHistory(t="",i="",e=this.id){this.logicalFormInfo.getAllassessmetHistory(t,i,e).subscribe(t=>{this.showDatas=t.result,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}ngAfterViewInit(){}delete(t){Rt.a.fire({title:"Are you sure?",text:`Do you want to delete "${t.customerName}"?`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#00B96F",cancelButtonColor:"#d33",confirmButtonText:"Yes, Delete!"}).then(i=>{i.value&&(this.spinner.show(),this.logicalFormInfo.deleteAssessment(t._id).subscribe(i=>{Rt.a.fire({title:`"${t.customerName}"? Deleted successfully`,showConfirmButton:!1,timer:1200}),this.getAssesment(),this.spinner.hide()}))})}printPage(t){this.shared.printNext(!0),console.log("check"),localStorage.setItem("key","print"),this.spinner.show("printLoader"),this.router.navigate(["/",{outlets:{print:["print","riskAssessSWMS",t]}}])}getAssesment(t="",i=""){this.logicalFormInfo.getAllassessmet(t,i).subscribe(t=>{this.showDatas=t.data,this.showDatas.forEach((t,i)=>this.showDatas[i].index=i),this.tempArray=new b.l(this.showDatas),console.log("get res",this.showDatas)})}edit(t){localStorage.setItem("key"," "),this.router.navigate(["/admin/forms/riskAssessSWMS/"+t])}sortData(t){this.isHistory?this.getAssesmentHistory(t.active,t.direction):this.getAssesment(t.active,t.direction)}view(t){this.router.navigate(["/admin/forms/riskAssessTable/history/riskAssessSWMS/"+t],{queryParams:{returnTo:this.router.url}})}}return t.\u0275fac=function(i){return new(i||t)(n.Ob(N.a),n.Ob(r.f),n.Ob(f.c),n.Ob(z.a),n.Ob(r.a))},t.\u0275cmp=n.Ib({type:t,selectors:[["app-risk-assesment-table"]],viewQuery:function(t,i){if(1&t&&(n.Sc(m.a,!0),n.Sc(d.a,!0)),2&t){let t;n.xc(t=n.fc())&&(i.paginator=t.first),n.xc(t=n.fc())&&(i.sort=t.first)}},decls:44,vars:9,consts:[["class","btn btn-outline-primary",3,"routerLink",4,"ngIf"],[1,"col","ml-2","pt-3"],[4,"ngIf"],[1,""],["mat-table","","matSort","",3,"dataSource","matSortChange"],["matColumnDef","version"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","formId"],["matColumnDef","customerName"],["matColumnDef","phone"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","email"],["matColumnDef","site"],["matColumnDef","createdAt"],["matColumnDef","updatedAt"],["matColumnDef","createdTime"],["matColumnDef","updatedTime"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","btn-outline-primary",3,"routerLink"],["aria-hidden","true",1,"fa","fa-arrow-left"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["style","display: flex; justify-content: space-around;",4,"ngIf"],[2,"display","flex","justify-content","space-around"],["matTooltip","Edit",1,"material-icons",3,"click"],["matTooltip","print",1,"material-icons",3,"click"],["matTooltip","Delete",1,"material-icons",3,"click"],["matTooltip","History","routerLinkActive","router-link-active",1,"material-icons",3,"routerLink"],["matTooltip","View Form",1,"material-icons",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(t,i){1&t&&(n.Mc(0,Be,2,3,"div",0),n.Mc(1,He,2,2,"div",0),n.Ub(2,"div",1),n.Mc(3,Ae,2,0,"h1",2),n.Mc(4,Pe,2,0,"h1",2),n.Tb(),n.Ub(5,"div",3),n.Ub(6,"table",4),n.ec("matSortChange",function(t){return i.sortData(t)}),n.Sb(7,5),n.Mc(8,xe,2,0,"th",6),n.Mc(9,Fe,2,1,"td",7),n.Rb(),n.Sb(10,8),n.Mc(11,qe,2,0,"th",6),n.Mc(12,$e,2,1,"td",7),n.Rb(),n.Sb(13,9),n.Mc(14,Le,2,0,"th",6),n.Mc(15,Ne,2,1,"td",7),n.Rb(),n.Sb(16,10),n.Mc(17,ze,2,0,"th",11),n.Mc(18,_e,2,1,"td",7),n.Rb(),n.Sb(19,12),n.Mc(20,je,2,0,"th",11),n.Mc(21,Ee,2,1,"td",7),n.Rb(),n.Sb(22,13),n.Mc(23,Qe,2,0,"th",11),n.Mc(24,Ve,2,1,"td",7),n.Rb(),n.Sb(25,14),n.Mc(26,We,2,0,"th",11),n.Mc(27,Je,3,4,"td",7),n.Rb(),n.Sb(28,15),n.Mc(29,Ye,2,0,"th",11),n.Mc(30,Ze,3,4,"td",7),n.Rb(),n.Sb(31,16),n.Mc(32,Ge,2,0,"th",11),n.Mc(33,Xe,3,4,"td",7),n.Rb(),n.Sb(34,17),n.Mc(35,Ke,2,0,"th",11),n.Mc(36,to,3,4,"td",7),n.Rb(),n.Sb(37,18),n.Mc(38,io,2,0,"th",11),n.Mc(39,no,3,2,"td",7),n.Rb(),n.Mc(40,co,1,0,"tr",19),n.Mc(41,ao,1,0,"tr",20),n.Mc(42,so,3,0,"tr",21),n.Tb(),n.Pb(43,"mat-paginator",22),n.Tb()),2&t&&(n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("ngIf",!i.isHistory),n.Bb(1),n.qc("ngIf",i.isHistory),n.Bb(2),n.qc("dataSource",i.tempArray),n.Bb(34),n.qc("matHeaderRowDef",i.displayedColumns),n.Bb(1),n.qc("matRowDefColumns",i.displayedColumns),n.Bb(2),n.qc("pageSizeOptions",n.tc(8,ro)))},directives:[a.n,b.k,d.a,b.c,b.e,b.b,b.g,b.j,b.h,m.a,r.g,b.d,d.b,b.a,g.a,r.h,b.f,b.i],pipes:[a.e],styles:[".viewBtn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff;font-size:21px!important}  .mat-sort-header-container{margin-left:47%!important}table[_ngcontent-%COMP%]{width:100%}.select[_ngcontent-%COMP%]{width:100%!important}.pt-3[_ngcontent-%COMP%]{display:inline-block;font-size:32px;font-weight:700;word-break:break-word;font-family:Inter,sans-serif}"]}),t})();const mo=[{path:"",component:F},{path:"forms",component:F},{path:"siteInspect/:id",component:kt.a},{path:"toolboxTalk/:id",component:It.a},{path:"hazardRep/:id",component:Mt.a},{path:"incidentRep/:id",component:vt.a},{path:"riskAssessSWMS/:id",component:St.a},{path:"riskAssessTable",component:lo},{path:"tableData",component:Ct},{path:"tableData/history/:id",component:Ct},{path:"tableData/history/:id",component:Ct},{path:"riskAssessTable/history/:id",component:lo},{path:"siteinspectiontable/history/:id",component:di},{path:"hazardTable/history/:id",component:Wi},{path:"incidentsTable/history/:id",component:ke},{path:"tableData/history/toolboxTalk/:id",component:It.a},{path:"riskAssessTable/history/riskAssessSWMS/:id",component:St.a},{path:"siteinspectiontable/history/siteInspect/:id",component:kt.a},{path:"hazardTable/history/hazardRep/:id",component:Mt.a},{path:"incidentsTable/history/incidentRep/:id",component:vt.a},{path:"siteinspectiontable",component:di},{path:"hazardTable",component:Wi},{path:"incidentsTable",component:ke},{path:"fillConfigForm/:index",component:$}];let bo=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(i){return new(i||t)},imports:[[r.j.forChild(mo)],r.j]}),t})();var uo=e("HnZm"),fo=e("PCNd"),ho=e("zioG"),po=e("tk/3"),To=e("0SJk"),go=e("kY4h"),yo=e("6bhV"),Oo=e("qFsG"),wo=e("iadO"),Do=e("tZ2A"),Uo=e("x+4y");let Co=(()=>{class t{}return t.\u0275mod=n.Mb({type:t}),t.\u0275inj=n.Lb({factory:function(i){return new(i||t)},providers:[c,{provide:po.a,useClass:To.a,multi:!0}],imports:[[a.c,o.a,bo,p.y,uo.b,fo.a,p.m,ho.b,go.b,yo.b,s.b,Oo.c,wo.c,Do.DynamicFormModule,Uo.a,y.a,g.b]]}),t})()}}]);