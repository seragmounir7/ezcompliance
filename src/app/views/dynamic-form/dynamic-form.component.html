<div *ngIf="model && !report" class="padding20 white-bg">
  <div class="row">
    <div class="col-12">
      <div class="btn-cont">
        <!-- <button (click)="updateForm()" class="btn btn-primary pull-right">
          Update
        </button>
        <button class="btn btn-primary pull-right" style="margin-right: 3px">
          View <i class="fa fa-external-link"></i>
        </button> -->
        <!-- routerLink="/application/{{model._id}}" -->
      </div>
    </div>
  </div>
  <div class="spacer30"></div>
  <p class="text-center my-3" style="font-size: 30px">{{ formNameRecieved }}</p>

  <div class="row mt-2">
    <div class="col-1 ml-2">
      <!-- <div class="row">
        <label class="col-8">Background Color</label>
        <input
          class="colorpick col-4"
          type="color"
          name="bgColor"
          [(ngModel)]="model.theme.bgColor"
        />
      </div>
      <div class="row">
        <label class="col-8">Text Color</label>
        <input
          class="colorpick col-4"
          type="color"
          name="textColor"
          [(ngModel)]="model.theme.textColor"
        />
      </div> -->

      <!-- <h5>Select Fields</h5> -->
      <!-- <p>Customize your form by drag and drop below fields to the form area.</p> -->
      <!--a draggable element left side items with icons-->
      <div class="fields mt-3" *ngFor="let item of fieldModels">
        <div
          class="field pointer shadow-bg container"
          [dndDraggable]="item"
          [dndEffectAllowed]="'copy'"
          (dndEnd)="onDragEnd($event)"
        >
          <i [ngClass]="item.icon" class="fa" style="margin-left: auto"></i>
          <h5>{{ item.label }}</h5>
        </div>
      </div>
    </div>
    <div class="col-2">
      <!-- <div
        class="form-group"
        [style.backgroundColor]="model.theme.bgColor"
        [style.color]="model.theme.textColor"
      >
        <span class="mb-1"
          ><input
            class="form-control"
            type="text"
            [(ngModel)]="model.name"
            placeholder="Form Name"
        /></span>
       
      </div>
      <div   class="form-group"
      [style.backgroundColor]="model.theme.bgColor"
      [style.color]="model.theme.textColor">
      <input
      class="form-control"
      type="text"
      placeholder="Form Category"
      [(ngModel)]="model.description"
    />
      </div> -->

      <!--a dropzone-->
      <!--to allow dropping content that is not [dndDraggable] set dndAllowExternal to true-->
      <section
        dndDropzone
        (dndDragover)="onDragover($event)"
        (dndDrop)="onDrop($event, model[0].attributes)"
        class="dndDropArea"
        [ngClass]="{ empty: model[0].attributes.length == 0 }"
        [style.backgroundColor]="model[0].theme.bgColor"
        [style.color]="model[00].theme.textColor"
        style="min-height: 1300px"
      >
        <div
          class="field"
          *ngFor="let item of model[0].attributes; let i = index"
          (dndStart)="onDragStart($event)"
          (dndCanceled)="onDragCanceled($event)"
          (dndMoved)="onDragged(item, model[0].attributes, 'move')"
          [dndEffectAllowed]="'all'"
          [dndDraggable]="item"
        >
          <!-- item -->
          <div class="row form-group justify-content-center">
            <div class="col-2">
              <i
                class="fa fa-ellipsis-v dndHandle"
                dndHandle
                (click)="deleteItem()"
              ></i>
            </div>
            <div class="col-7">
              <!-- <i [ngClass]="item.icon" class="fa pull-left"></i>
              <h5>{{item.label}}
              <span *ngIf="item.required" class="red">*</span></h5> -->
              <!-- text -->
              <div *ngIf="item.type == 'text'">
                <label class="form-label">{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- externalLink -->
              <div *ngIf="item.type == 'blank'">
                <label class="form-label">Blank Field</label>

                <div style="background-color: #d7d0d0;border: 1px solid black;height: 40px;">

                </div>
              </div>
              <div *ngIf="item.type == 'externalLink'">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <!-- email -->
              <div *ngIf="item.type == 'email'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--phone  -->
              <div *ngIf="item.type == 'phone'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--number  -->
              <div *ngIf="item.type == 'number'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--date  -->
              <div *ngIf="item.type == 'date'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- datetime-local -->

              <div *ngIf="item.type == 'datetime-local'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- text area -->
              <div *ngIf="item.type == 'textarea'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  style="height: 100px"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                >
                </textarea>
              </div>
              <!-- file upload -->
              <div *ngIf="item.type == 'file'">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <!-- signature -->
              <div *ngIf="item.type == 'signature'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="
                    border: 1px solid rgb(149 162 173);
                    border-radius: 10px;
                  "
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <!-- paragraph-->
              <div *ngIf="item.type == 'paragraph'">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'autocomplete'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select class="form-control" id="{{ item.name }}">
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <!-- checkbox -->
              <div *ngIf="item.type == 'checkbox'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- radio -->
              <div *ngIf="item.type == 'radio'">
                <div>
                  <label>{{ item.label }}</label>
                </div>

                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  *ngFor="let v of item.values"
                  class="form-check form-check-inline"
                >
                  <label class="form-check-label">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      class="form-check-input"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- external Link -->

              <!-- table -->
              <div *ngIf="item.type == 'table'" class="btn-cont">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows[this.tableIndexMap.get(i)]">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-1">
                    <div class="row">
                      <span class="material-icons" (click)="addCol(i)"
                        >add_circle_outline
                      </span>
                    </div>
                    <div class="row mt-2">
                      <span class="material-icons" (click)="removeCol(i)"
                        >remove_circle_outline
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <span class="material-icons" (click)="addRow(i)"
                    >add_circle_outline
                  </span>
                  <span class="material-icons ml-2" (click)="removeRow(i)"
                    >remove_circle_outline
                  </span>
                </div>
              </div>

              <!-- button -->
              <div *ngIf="item.type == 'button'" class="btn-cont">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
            </div>
            <div class="col-3">
              <i
                *ngIf="item.toggle"
                (click)="item.toggle = false"
                class="fa fa-chevron-up pull-right"
              ></i>
              <i
                *ngIf="!item.toggle"
                (click)="item.toggle = true"
                class="fa fa-chevron-down pull-right"
              ></i>
              <i
                (click)="removeField(0, i, item.label)"
                class="fa fa-trash pull-right"
              ></i>
            </div>
          </div>
          <!-- edit item -->
          <div *ngIf="item.toggle" class="toggle-Wrapper">
            <div class="form-group">
              <label>Required</label>
              <i
                *ngIf="item.required"
                (click)="item.required = false"
                class="fa fa-toggle-on red"
              ></i>
              <i
                *ngIf="!item.required"
                (click)="item.required = true"
                class="fa fa-toggle-off"
              ></i>
              <span class="pull-right ucfirst">{{ item.type }}</span>
            </div>
            <div class="form-group">
              <label>Label</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.label"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Name</label>
              <input class="form-control" type="text" [(ngModel)]="item.name" />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Placeholder</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.placeholder"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Regex</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.regex"
              />
            </div>
            <div *ngIf="item.type == 'externalLink'" class="form-group">
              <label>Link Address</label>
              <input
                class="form-control"
                type="text"
                placeholder="https://www.google.com"
                [(ngModel)]="item.linkAddr"
              />
            </div>
            <div *ngIf="item.regex" class="form-group">
              <label>Error text</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.errorText"
              />
            </div>

            <!-- number -->
            <div *ngIf="item.type == 'number'" class="row">
              <div class="col-6">
                <div class="form-group">
                  <label>Min</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.min"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label>Max</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.max"
                  />
                </div>
              </div>
            </div>

            <!-- radio || checkbox || autocomplete -->
            <div
              *ngIf="
                item.type == 'radio' ||
                item.type == 'checkbox' ||
                item.type == 'autocomplete'
              "
            >
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label>Label</label>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label>Value</label>
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label>Action</label>
                  </div>
                </div>
              </div>
              <div
                *ngFor="let i of item.values; let valueIndex = index"
                class="row"
              >
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="item.values.splice(valueIndex, 1)"
                      >remove</label
                    >
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="addValue(item.values)">Add</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--optional placeholder element for dropzone-->
        <!--will be removed from DOM on init-->
        <div class="dndPlaceholder" dndPlaceholderRef></div>
      </section>
    </div>
    <div class="col-2">
      <!-- <div
        class="form-group"
        [style.backgroundColor]="model.theme.bgColor"
        [style.color]="model.theme.textColor"
      >
        <span class="mb-1"
          ><input
            class="form-control"
            type="text"
            [(ngModel)]="model.name"
            placeholder="Form Name"
        /></span>
       
      </div>
      <div   class="form-group"
      [style.backgroundColor]="model.theme.bgColor"
      [style.color]="model.theme.textColor">
      <input
      class="form-control"
      type="text"
      placeholder="Form Category"
      [(ngModel)]="model.description"
    />
      </div> -->

      <!--a dropzone-->
      <!--to allow dropping content that is not [dndDraggable] set dndAllowExternal to true-->
      <section
        dndDropzone
        (dndDragover)="onDragover($event)"
        (dndDrop)="onDrop($event, model[1].attributes)"
        class="dndDropArea"
        [ngClass]="{ empty: model[1].attributes.length == 0 }"
        [style.backgroundColor]="model[1].theme.bgColor"
        [style.color]="model[1].theme.textColor"
        style="min-height: 1300px"
      >
        <div
          class="field"
          *ngFor="let item of model[1].attributes; let i = index"
          (dndStart)="onDragStart($event)"
          (dndCanceled)="onDragCanceled($event)"
          (dndMoved)="onDragged(item, model[1].attributes, 'move')"
          [dndEffectAllowed]="'all'"
          [dndDraggable]="item"
        >
          <!-- item -->
          <div class="row form-group justify-content-center">
            <div class="col-2">
              <i
                class="fa fa-ellipsis-v dndHandle"
                dndHandle
                (click)="deleteItem()"
              ></i>
            </div>
            <div class="col-7">
              <!-- <i [ngClass]="item.icon" class="fa pull-left"></i>
              <h5>{{item.label}}
              <span *ngIf="item.required" class="red">*</span></h5> -->
              <!-- text -->
              
              <div *ngIf="item.type == 'text'">
                <label class="form-label">{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <div *ngIf="item.type == 'blank'">
                <label class="form-label">Blank Field</label>

                <div style="background-color: #d7d0d0;border: 1px solid black;height: 40px;">

                </div>
              </div>
              <!-- externalLink -->
              <div *ngIf="item.type == 'externalLink'">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <!-- email -->
              <div *ngIf="item.type == 'email'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--phone  -->
              <div *ngIf="item.type == 'phone'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--number  -->
              <div *ngIf="item.type == 'number'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--date  -->
              <div *ngIf="item.type == 'date'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- datetime-local -->

              <div *ngIf="item.type == 'datetime-local'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- text area -->
              <div *ngIf="item.type == 'textarea'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  style="height: 100px"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                >
                </textarea>
              </div>
              <!-- file upload -->
              <div *ngIf="item.type == 'file'">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <!-- signature -->
              <div *ngIf="item.type == 'signature'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="
                    border: 1px solid rgb(149 162 173);
                    border-radius: 10px;
                  "
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <!-- paragraph-->
              <div *ngIf="item.type == 'paragraph'">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'autocomplete'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select class="form-control" id="{{ item.name }}">
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <!-- checkbox -->
              <div *ngIf="item.type == 'checkbox'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- radio -->
              <div *ngIf="item.type == 'radio'">
                <div>
                  <label>{{ item.label }}</label>
                </div>

                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  *ngFor="let v of item.values"
                  class="form-check form-check-inline"
                >
                  <label class="form-check-label">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      class="form-check-input"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- external Link -->

              <!-- table -->
              <div *ngIf="item.type == 'table'" class="btn-cont">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows[this.tableIndexMap.get(i)]">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-1">
                    <div class="row">
                      <span class="material-icons" (click)="addCol(i)"
                        >add_circle_outline
                      </span>
                    </div>
                    <div class="row mt-2">
                      <span class="material-icons" (click)="removeCol(i)"
                        >remove_circle_outline
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <span class="material-icons" (click)="addRow(i)"
                    >add_circle_outline
                  </span>
                  <span class="material-icons ml-2" (click)="removeRow(i)"
                    >remove_circle_outline
                  </span>
                </div>
              </div>

              <!-- button -->
              <div *ngIf="item.type == 'button'" class="btn-cont">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
            </div>
            <div class="col-3">
              <i
                *ngIf="item.toggle"
                (click)="item.toggle = false"
                class="fa fa-chevron-up pull-right"
              ></i>
              <i
                *ngIf="!item.toggle"
                (click)="item.toggle = true"
                class="fa fa-chevron-down pull-right"
              ></i>
              <i
                (click)="removeField(1, i, item.label)"
                class="fa fa-trash pull-right"
              ></i>
            </div>
          </div>
          <!-- edit item -->
          <div *ngIf="item.toggle" class="toggle-Wrapper">
            <div class="form-group">
              <label>Required</label>
              <i
                *ngIf="item.required"
                (click)="item.required = false"
                class="fa fa-toggle-on red"
              ></i>
              <i
                *ngIf="!item.required"
                (click)="item.required = true"
                class="fa fa-toggle-off"
              ></i>
              <span class="pull-right ucfirst">{{ item.type }}</span>
            </div>
            <div class="form-group">
              <label>Label</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.label"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Name</label>
              <input class="form-control" type="text" [(ngModel)]="item.name" />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Placeholder</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.placeholder"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Regex</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.regex"
              />
            </div>
            <div *ngIf="item.type == 'externalLink'" class="form-group">
              <label>Link Address</label>
              <input
                class="form-control"
                type="text"
                placeholder="https://www.google.com"
                [(ngModel)]="item.linkAddr"
              />
            </div>
            <div *ngIf="item.regex" class="form-group">
              <label>Error text</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.errorText"
              />
            </div>

            <!-- number -->
            <div *ngIf="item.type == 'number'" class="row">
              <div class="col-6">
                <div class="form-group">
                  <label>Min</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.min"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label>Max</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.max"
                  />
                </div>
              </div>
            </div>

            <!-- radio || checkbox || autocomplete -->
            <div
              *ngIf="
                item.type == 'radio' ||
                item.type == 'checkbox' ||
                item.type == 'autocomplete'
              "
            >
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label>Label</label>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label>Value</label>
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label>Action</label>
                  </div>
                </div>
              </div>
              <div
                *ngFor="let i of item.values; let valueIndex = index"
                class="row"
              >
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="item.values.splice(valueIndex, 1)"
                      >remove</label
                    >
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="addValue(item.values)">Add</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--optional placeholder element for dropzone-->
        <!--will be removed from DOM on init-->
        <div class="dndPlaceholder" dndPlaceholderRef></div>
      </section>
    </div>
    <div class="col-2">
      <!-- <div
        class="form-group"
        [style.backgroundColor]="model.theme.bgColor"
        [style.color]="model.theme.textColor"
      >
        <span class="mb-1"
          ><input
            class="form-control"
            type="text"
            [(ngModel)]="model.name"
            placeholder="Form Name"
        /></span>
       
      </div>
      <div   class="form-group"
      [style.backgroundColor]="model.theme.bgColor"
      [style.color]="model.theme.textColor">
      <input
      class="form-control"
      type="text"
      placeholder="Form Category"
      [(ngModel)]="model.description"
    />
      </div> -->

      <!--a dropzone-->
      <!--to allow dropping content that is not [dndDraggable] set dndAllowExternal to true-->
      <section
        dndDropzone
        (dndDragover)="onDragover($event)"
        (dndDrop)="onDrop($event, model[2].attributes)"
        class="dndDropArea"
        [ngClass]="{ empty: model[2].attributes.length == 0 }"
        [style.backgroundColor]="model[2].theme.bgColor"
        [style.color]="model[2].theme.textColor"
        style="min-height: 1300px"
      >
        <div
          class="field"
          *ngFor="let item of model[2].attributes; let i = index"
          (dndStart)="onDragStart($event)"
          (dndCanceled)="onDragCanceled($event)"
          (dndMoved)="onDragged(item, model[2].attributes, 'move')"
          [dndEffectAllowed]="'all'"
          [dndDraggable]="item"
        >
          <!-- item -->
          <div class="row form-group justify-content-center">
            <div class="col-2">
              <i
                class="fa fa-ellipsis-v dndHandle"
                dndHandle
                (click)="deleteItem()"
              ></i>
            </div>
            <div class="col-7">
              <!-- <i [ngClass]="item.icon" class="fa pull-left"></i>
              <h5>{{item.label}}
              <span *ngIf="item.required" class="red">*</span></h5> -->
              <!-- text -->
          
              <div *ngIf="item.type == 'text'">
                <label class="form-label">{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <div *ngIf="item.type == 'blank'">
                <label class="form-label">Blank Field</label>

                <div style="background-color: #d7d0d0;border: 1px solid black;height: 40px;">

                </div>
              </div>
              <!-- externalLink -->
              <div *ngIf="item.type == 'externalLink'">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <!-- email -->
              <div *ngIf="item.type == 'email'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--phone  -->
              <div *ngIf="item.type == 'phone'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--number  -->
              <div *ngIf="item.type == 'number'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--date  -->
              <div *ngIf="item.type == 'date'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- datetime-local -->

              <div *ngIf="item.type == 'datetime-local'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- text area -->
              <div *ngIf="item.type == 'textarea'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  style="height: 100px"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                >
                </textarea>
              </div>
              <!-- file upload -->
              <div *ngIf="item.type == 'file'">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <!-- signature -->
              <div *ngIf="item.type == 'signature'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="
                    border: 1px solid rgb(149 162 173);
                    border-radius: 10px;
                  "
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <!-- paragraph-->
              <div *ngIf="item.type == 'paragraph'">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'autocomplete'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select class="form-control" id="{{ item.name }}">
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <!-- checkbox -->
              <div *ngIf="item.type == 'checkbox'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- radio -->
              <div *ngIf="item.type == 'radio'">
                <div>
                  <label>{{ item.label }}</label>
                </div>

                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  *ngFor="let v of item.values"
                  class="form-check form-check-inline"
                >
                  <label class="form-check-label">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      class="form-check-input"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- external Link -->

              <!-- table -->
              <div *ngIf="item.type == 'table'" class="btn-cont">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows[this.tableIndexMap.get(i)]">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-1">
                    <div class="row">
                      <span class="material-icons" (click)="addCol(i)"
                        >add_circle_outline
                      </span>
                    </div>
                    <div class="row mt-2">
                      <span class="material-icons" (click)="removeCol(i)"
                        >remove_circle_outline
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <span class="material-icons" (click)="addRow(i)"
                    >add_circle_outline
                  </span>
                  <span class="material-icons ml-2" (click)="removeRow(i)"
                    >remove_circle_outline
                  </span>
                </div>
              </div>

              <!-- button -->
              <div *ngIf="item.type == 'button'" class="btn-cont">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
            </div>
            <div class="col-3">
              <i
                *ngIf="item.toggle"
                (click)="item.toggle = false"
                class="fa fa-chevron-up pull-right"
              ></i>
              <i
                *ngIf="!item.toggle"
                (click)="item.toggle = true"
                class="fa fa-chevron-down pull-right"
              ></i>
              <i
                (click)="removeField(2, i, item.label)"
                class="fa fa-trash pull-right"
              ></i>
            </div>
          </div>
          <!-- edit item -->
          <div *ngIf="item.toggle" class="toggle-Wrapper">
            <div class="form-group">
              <label>Required</label>
              <i
                *ngIf="item.required"
                (click)="item.required = false"
                class="fa fa-toggle-on red"
              ></i>
              <i
                *ngIf="!item.required"
                (click)="item.required = true"
                class="fa fa-toggle-off"
              ></i>
              <span class="pull-right ucfirst">{{ item.type }}</span>
            </div>
            <div class="form-group">
              <label>Label</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.label"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Name</label>
              <input class="form-control" type="text" [(ngModel)]="item.name" />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Placeholder</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.placeholder"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Regex</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.regex"
              />
            </div>
            <div *ngIf="item.type == 'externalLink'" class="form-group">
              <label>Link Address</label>
              <input
                class="form-control"
                type="text"
                placeholder="https://www.google.com"
                [(ngModel)]="item.linkAddr"
              />
            </div>
            <div *ngIf="item.regex" class="form-group">
              <label>Error text</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.errorText"
              />
            </div>

            <!-- number -->
            <div *ngIf="item.type == 'number'" class="row">
              <div class="col-6">
                <div class="form-group">
                  <label>Min</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.min"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label>Max</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.max"
                  />
                </div>
              </div>
            </div>

            <!-- radio || checkbox || autocomplete -->
            <div
              *ngIf="
                item.type == 'radio' ||
                item.type == 'checkbox' ||
                item.type == 'autocomplete'
              "
            >
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label>Label</label>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label>Value</label>
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label>Action</label>
                  </div>
                </div>
              </div>
              <div
                *ngFor="let i of item.values; let valueIndex = index"
                class="row"
              >
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="item.values.splice(valueIndex, 1)"
                      >remove</label
                    >
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="addValue(item.values)">Add</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--optional placeholder element for dropzone-->
        <!--will be removed from DOM on init-->
        <div class="dndPlaceholder" dndPlaceholderRef></div>
      </section>
    </div>
    <div class="col-2">
      <!-- <div
        class="form-group"
        [style.backgroundColor]="model.theme.bgColor"
        [style.color]="model.theme.textColor"
      >
        <span class="mb-1"
          ><input
            class="form-control"
            type="text"
            [(ngModel)]="model.name"
            placeholder="Form Name"
        /></span>
       
      </div>
      <div   class="form-group"
      [style.backgroundColor]="model.theme.bgColor"
      [style.color]="model.theme.textColor">
      <input
      class="form-control"
      type="text"
      placeholder="Form Category"
      [(ngModel)]="model.description"
    />
      </div> -->

      <!--a dropzone-->
      <!--to allow dropping content that is not [dndDraggable] set dndAllowExternal to true-->
      <section
        dndDropzone
        (dndDragover)="onDragover($event)"
        (dndDrop)="onDrop($event, model[3].attributes)"
        class="dndDropArea"
        [ngClass]="{ empty: model[3].attributes.length == 0 }"
        [style.backgroundColor]="model[3].theme.bgColor"
        [style.color]="model[3].theme.textColor"
        style="min-height: 1300px"
      >
        <div
          class="field"
          *ngFor="let item of model[3].attributes; let i = index"
          (dndStart)="onDragStart($event)"
          (dndCanceled)="onDragCanceled($event)"
          (dndMoved)="onDragged(item, model[3].attributes, 'move')"
          [dndEffectAllowed]="'all'"
          [dndDraggable]="item"
        >
          <!-- item -->
          <div class="row form-group justify-content-center">
            <div class="col-2">
              <i
                class="fa fa-ellipsis-v dndHandle"
                dndHandle
                (click)="deleteItem()"
              ></i>
            </div>
            <div class="col-7">
              <!-- <i [ngClass]="item.icon" class="fa pull-left"></i>
              <h5>{{item.label}}
              <span *ngIf="item.required" class="red">*</span></h5> -->
              <!-- text -->
              <div *ngIf="item.type == 'blank'">
                <label class="form-label">Blank Field</label>

                <div style="background-color: #d7d0d0;border: 1px solid black;height: 40px;">

                </div>
              </div>
              <div *ngIf="item.type == 'text'">
                <label class="form-label">{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- externalLink -->
              <div *ngIf="item.type == 'externalLink'">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <!-- email -->
              <div *ngIf="item.type == 'email'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--phone  -->
              <div *ngIf="item.type == 'phone'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--number  -->
              <div *ngIf="item.type == 'number'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--date  -->
              <div *ngIf="item.type == 'date'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- datetime-local -->

              <div *ngIf="item.type == 'datetime-local'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- text area -->
              <div *ngIf="item.type == 'textarea'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  style="height: 100px"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                >
                </textarea>
              </div>
              <!-- file upload -->
              <div *ngIf="item.type == 'file'">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <!-- signature -->
              <div *ngIf="item.type == 'signature'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="
                    border: 1px solid rgb(149 162 173);
                    border-radius: 10px;
                  "
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <!-- paragraph-->
              <div *ngIf="item.type == 'paragraph'">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'autocomplete'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select class="form-control" id="{{ item.name }}">
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <!-- checkbox -->
              <div *ngIf="item.type == 'checkbox'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- radio -->
              <div *ngIf="item.type == 'radio'">
                <div>
                  <label>{{ item.label }}</label>
                </div>

                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  *ngFor="let v of item.values"
                  class="form-check form-check-inline"
                >
                  <label class="form-check-label">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      class="form-check-input"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- external Link -->

              <!-- table -->
              <div *ngIf="item.type == 'table'" class="btn-cont">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows[this.tableIndexMap.get(i)]">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-1">
                    <div class="row">
                      <span class="material-icons" (click)="addCol(i)"
                        >add_circle_outline
                      </span>
                    </div>
                    <div class="row mt-2">
                      <span class="material-icons" (click)="removeCol(i)"
                        >remove_circle_outline
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <span class="material-icons" (click)="addRow(i)"
                    >add_circle_outline
                  </span>
                  <span class="material-icons ml-2" (click)="removeRow(i)"
                    >remove_circle_outline
                  </span>
                </div>
              </div>

              <!-- button -->
              <div *ngIf="item.type == 'button'" class="btn-cont">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
            </div>
            <div class="col-3">
              <i
                *ngIf="item.toggle"
                (click)="item.toggle = false"
                class="fa fa-chevron-up pull-right"
              ></i>
              <i
                *ngIf="!item.toggle"
                (click)="item.toggle = true"
                class="fa fa-chevron-down pull-right"
              ></i>
              <i
                (click)="removeField(3, i, item.label)"
                class="fa fa-trash pull-right"
              ></i>
            </div>
          </div>
          <!-- edit item -->
          <div *ngIf="item.toggle" class="toggle-Wrapper">
            <div class="form-group">
              <label>Required</label>
              <i
                *ngIf="item.required"
                (click)="item.required = false"
                class="fa fa-toggle-on red"
              ></i>
              <i
                *ngIf="!item.required"
                (click)="item.required = true"
                class="fa fa-toggle-off"
              ></i>
              <span class="pull-right ucfirst">{{ item.type }}</span>
            </div>
            <div class="form-group">
              <label>Label</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.label"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Name</label>
              <input class="form-control" type="text" [(ngModel)]="item.name" />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Placeholder</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.placeholder"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Regex</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.regex"
              />
            </div>
            <div *ngIf="item.type == 'externalLink'" class="form-group">
              <label>Link Address</label>
              <input
                class="form-control"
                type="text"
                placeholder="https://www.google.com"
                [(ngModel)]="item.linkAddr"
              />
            </div>
            <div *ngIf="item.regex" class="form-group">
              <label>Error text</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.errorText"
              />
            </div>

            <!-- number -->
            <div *ngIf="item.type == 'number'" class="row">
              <div class="col-6">
                <div class="form-group">
                  <label>Min</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.min"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label>Max</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.max"
                  />
                </div>
              </div>
            </div>

            <!-- radio || checkbox || autocomplete -->
            <div
              *ngIf="
                item.type == 'radio' ||
                item.type == 'checkbox' ||
                item.type == 'autocomplete'
              "
            >
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label>Label</label>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label>Value</label>
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label>Action</label>
                  </div>
                </div>
              </div>
              <div
                *ngFor="let i of item.values; let valueIndex = index"
                class="row"
              >
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="item.values.splice(valueIndex, 1)"
                      >remove</label
                    >
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="addValue(item.values)">Add</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--optional placeholder element for dropzone-->
        <!--will be removed from DOM on init-->
        <div class="dndPlaceholder" dndPlaceholderRef></div>
      </section>
    </div>
    <div class="col-2">
      <!-- <div
        class="form-group"
        [style.backgroundColor]="model.theme.bgColor"
        [style.color]="model.theme.textColor"
      >
        <span class="mb-1"
          ><input
            class="form-control"
            type="text"
            [(ngModel)]="model.name"
            placeholder="Form Name"
        /></span>
       
      </div>
      <div   class="form-group"
      [style.backgroundColor]="model.theme.bgColor"
      [style.color]="model.theme.textColor">
      <input
      class="form-control"
      type="text"
      placeholder="Form Category"
      [(ngModel)]="model.description"
    />
      </div> -->

      <!--a dropzone-->
      <!--to allow dropping content that is not [dndDraggable] set dndAllowExternal to true-->
      <section
        dndDropzone
        (dndDragover)="onDragover($event)"
        (dndDrop)="onDrop($event, model[4].attributes)"
        class="dndDropArea"
        [ngClass]="{ empty: model[4].attributes.length == 0 }"
        [style.backgroundColor]="model[4].theme.bgColor"
        [style.color]="model[4].theme.textColor"
        style="min-height: 1300px"
      >
        <div
          class="field"
          *ngFor="let item of model[4].attributes; let i = index"
          (dndStart)="onDragStart($event)"
          (dndCanceled)="onDragCanceled($event)"
          (dndMoved)="onDragged(item, model[4].attributes, 'move')"
          [dndEffectAllowed]="'all'"
          [dndDraggable]="item"
        >
          <!-- item -->
          <div class="row form-group justify-content-center">
            <div class="col-2">
              <i
                class="fa fa-ellipsis-v dndHandle"
                dndHandle
                (click)="deleteItem()"
              ></i>
            </div>
            <div class="col-7">
              <!-- <i [ngClass]="item.icon" class="fa pull-left"></i>
              <h5>{{item.label}}
              <span *ngIf="item.required" class="red">*</span></h5> -->
              <!-- text -->
              <div *ngIf="item.type == 'blank'">
                <label class="form-label">Blank Field</label>
                <div style="background-color: #d7d0d0;border: 1px solid black;height: 40px;">
                </div>
              </div>
              <div *ngIf="item.type == 'text'">
                <label class="form-label">{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- externalLink -->
              <div *ngIf="item.type == 'externalLink'">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <!-- email -->
              <div *ngIf="item.type == 'email'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--phone  -->
              <div *ngIf="item.type == 'phone'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--number  -->
              <div *ngIf="item.type == 'number'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!--date  -->
              <div *ngIf="item.type == 'date'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- datetime-local -->

              <div *ngIf="item.type == 'datetime-local'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
              </div>
              <!-- text area -->
              <div *ngIf="item.type == 'textarea'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  style="height: 100px"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                >
                </textarea>
              </div>
              <!-- file upload -->
              <div *ngIf="item.type == 'file'">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <!-- signature -->
              <div *ngIf="item.type == 'signature'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="
                    border: 1px solid rgb(149 162 173);
                    border-radius: 10px;
                  "
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <!-- paragraph-->
              <div *ngIf="item.type == 'paragraph'">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'autocomplete'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select class="form-control" id="{{ item.name }}">
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <!-- checkbox -->
              <div *ngIf="item.type == 'checkbox'">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- radio -->
              <div *ngIf="item.type == 'radio'">
                <div>
                  <label>{{ item.label }}</label>
                </div>

                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  *ngFor="let v of item.values"
                  class="form-check form-check-inline"
                >
                  <label class="form-check-label">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      class="form-check-input"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <!-- external Link -->

              <!-- table -->
              <div *ngIf="item.type == 'table'" class="btn-cont">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows[this.tableIndexMap.get(i)]">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div class="col-1">
                    <div class="row">
                      <span class="material-icons" (click)="addCol(i)"
                        >add_circle_outline
                      </span>
                    </div>
                    <div class="row mt-2">
                      <span class="material-icons" (click)="removeCol(i)"
                        >remove_circle_outline
                      </span>
                    </div>
                  </div>
                </div>
                <div class="row">
                  <span class="material-icons" (click)="addRow(i)"
                    >add_circle_outline
                  </span>
                  <span class="material-icons ml-2" (click)="removeRow(i)"
                    >remove_circle_outline
                  </span>
                </div>
              </div>

              <!-- button -->
              <div *ngIf="item.type == 'button'" class="btn-cont">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
            </div>
            <div class="col-3">
              <i
                *ngIf="item.toggle"
                (click)="item.toggle = false"
                class="fa fa-chevron-up pull-right"
              ></i>
              <i
                *ngIf="!item.toggle"
                (click)="item.toggle = true"
                class="fa fa-chevron-down pull-right"
              ></i>
              <i
                (click)="removeField(4, i, item.label)"
                class="fa fa-trash pull-right"
              ></i>
            </div>
          </div>
          <!-- edit item -->
          <div *ngIf="item.toggle" class="toggle-Wrapper">
            <div class="form-group">
              <label>Required</label>
              <i
                *ngIf="item.required"
                (click)="item.required = false"
                class="fa fa-toggle-on red"
              ></i>
              <i
                *ngIf="!item.required"
                (click)="item.required = true"
                class="fa fa-toggle-off"
              ></i>
              <span class="pull-right ucfirst">{{ item.type }}</span>
            </div>
            <div class="form-group">
              <label>Label</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.label"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Name</label>
              <input class="form-control" type="text" [(ngModel)]="item.name" />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Placeholder</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.placeholder"
              />
            </div>
            <div
              *ngIf="
                item.type != 'textarea' &&
                item.type != 'signature' &&
                item.type != 'externalLink'
              "
              class="form-group"
            >
              <label>Regex</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.regex"
              />
            </div>
            <div *ngIf="item.type == 'externalLink'" class="form-group">
              <label>Link Address</label>
              <input
                class="form-control"
                type="text"
                placeholder="https://www.google.com"
                [(ngModel)]="item.linkAddr"
              />
            </div>
            <div *ngIf="item.regex" class="form-group">
              <label>Error text</label>
              <input
                class="form-control"
                type="text"
                [(ngModel)]="item.errorText"
              />
            </div>

            <!-- number -->
            <div *ngIf="item.type == 'number'" class="row">
              <div class="col-6">
                <div class="form-group">
                  <label>Min</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.min"
                  />
                </div>
              </div>
              <div class="col-6">
                <div class="form-group">
                  <label>Max</label>
                  <input
                    class="form-control"
                    type="text"
                    [(ngModel)]="item.max"
                  />
                </div>
              </div>
            </div>

            <!-- radio || checkbox || autocomplete -->
            <div
              *ngIf="
                item.type == 'radio' ||
                item.type == 'checkbox' ||
                item.type == 'autocomplete'
              "
            >
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <label>Label</label>
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <label>Value</label>
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label>Action</label>
                  </div>
                </div>
              </div>
              <div
                *ngFor="let i of item.values; let valueIndex = index"
                class="row"
              >
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="i.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="item.values.splice(valueIndex, 1)"
                      >remove</label
                    >
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.label"
                    />
                  </div>
                </div>
                <div class="col-5">
                  <div class="form-group">
                    <input
                      class="form-control"
                      type="text"
                      [(ngModel)]="value.value"
                    />
                  </div>
                </div>
                <div class="col-2">
                  <div class="form-group">
                    <label (click)="addValue(item.values)">Add</label>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!--optional placeholder element for dropzone-->
        <!--will be removed from DOM on init-->
        <div class="dndPlaceholder" dndPlaceholderRef></div>
      </section>
    </div>
  </div>
</div>

<div *ngIf="report" class="padding20 white-bg">
  <div class="row">
    <div class="col-12 btn-cont mt-1 ml-1">
      <button (click)="report = false" class="btn btn-primary">Back</button>
    </div>
    <div class="col-12 spacer30"></div>
    <!-- if records found -->
    <div *ngIf="reports?.length > 0" class="col-12">
      <div *ngFor="let records of reports" class="report-block">
        <div *ngFor="let record of records.attributes">
          <div
            *ngIf="record.type != 'button' && record.type != 'paragraph'"
            class="row"
          >
            <div class="col-4">{{ record.label }}</div>
            <div class="col-8">{{ record.value }}</div>
          </div>
        </div>
      </div>
      <!-- <pre>{{reports|json}}</pre> -->
    </div>
    <!-- if no records found -->
    <!-- <div *ngIf="reports?.length == 0" class="col-12 btn-cont">
      No response found
    </div> -->
  </div>
</div>

<!-- <pre *ngIf="model">{{model|json}}</pre> -->
<!--  real form response -->
<ng-container *ngIf="report">
  <div
    *ngIf="model"
    class="container "
    style="min-width: 1000px"
  >
    <div
      class="row"
      style="padding: 30px"
      [style.backgroundColor]="model[0].theme.bgColor"
      [style.color]="model[0].theme.textColor"
    >
      <div class="col-12">
        <h2>{{ model[0].name }}</h2>
      </div>
      <div class="col-12">
        <p>{{ model[0].description }}</p>
      </div>
      <div *ngIf="success" class="col-12">
        <div class="form-group">
          <label>Your form has been submitted.</label>
        </div>
      </div>
      <form class="ftheme">
        <div *ngIf="!success">
          <div
            *ngFor="let cell of formData; let i = index"
            class="form-group row"
          >    
          <div *ngFor="let item of cell" class="row">
              <!--Each row  -->
              <div *ngIf="item.type == 'text'" class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="text"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [required]="item.required"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                />
                <span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'email'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                />
                <span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
                <span
                  *ngIf="item.required && regexErr[i] && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.errorText }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'phone'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="email"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                />
                <span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'table'" class="btn-cont"class="col-11">
                <div class="row">
                  <div class="col-11">
                    <table class="table">
                      <tbody>
                        <tr *ngFor="let row of rows">
                          <td *ngFor="let col of row">
                            <input class="form-control" type="text" />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
              </div>
              <div *ngIf="item.type == 'signature'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div
                  style="border: 1px solid rgb(149 162 173); border-radius: 10px"
                >
                  <signature-pad
                    [options]="signaturePadOptions"
                    (onBeginEvent)="drawStart()"
                    (onEndEvent)="drawComplete()"
                    #Signature
                  ></signature-pad>
                </div>
                <button class="btn btn-outline-primary mt-1" (click)="clear(i)">
                  Clear
                </button>
              </div>
              <div *ngIf="item.type == 'number'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="number"
                  class="form-control"
                  id="{{ item.name }}"
                  min="{{ item.min }}"
                  max="{{ item.max }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                />
                <span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'date'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="date"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                />
                <span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'datetime-local'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="datetime-local"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                /><span
                  *ngIf="item.required && !item.value && submitBtn"
                  class="invalid-feedback"
                >
                  <h4>{{ item.placeholder }}</h4>
                </span>
              </div>
              <div *ngIf="item.type == 'textarea'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <textarea
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                  [class.is-invalid]="item.required && !item.value && submitBtn"
                  style="height: 120px; border: 1px solid rgb(149 162 173)"
                >
  <span *ngIf="item.required && !item.value && submitBtn" class="invalid-feedback">
                <h4>{{ item.placeholder }}</h4> </span>
              </textarea
                >
              </div>
              <div *ngIf="item.type == 'file'"class="col-11">
                <label
                  >{{ item.label }}
                  <!-- (File can't be uploaded right now) -->
                </label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <input
                  type="file"
                  class="form-control"
                  id="{{ item.name }}"
                  placeholder="{{ item.placeholder }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                  autocomplete="off"
                />
                <small class="form-text text-danger">
                  <!-- (File can't be uploaded right now) -->
                </small>
              </div>
              <div *ngIf="item.type == 'paragraph'"class="col-11">
                <p class="form-text">{{ item.placeholder }}</p>
              </div>
              <div *ngIf="item.type == 'externalLink'"class="col-11">
                <a [href]="item.linkAddr" target="_blank">{{ item.label }}</a>
              </div>
              <div *ngIf="item.type == 'autocomplete'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <select
                  class="form-control"
                  id="{{ item.name }}"
                  [(ngModel)]="item.value"
                  [ngModelOptions]="{ standalone: true }"
                >
                  <option *ngFor="let v of item.values" [value]="v.value">
                    {{ v.label }}
                  </option>
                </select>
                <!-- <small class="form-text text-muted">{{item.description}}</small> -->
              </div>
              <div *ngIf="item.type == 'checkbox'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="checkbox"
                      [value]="v.value"
                      name="{{ item.name }}"
                      (click)="toggleValue(v)"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <div *ngIf="item.type == 'radio'"class="col-11">
                <label>{{ item.label }}</label>
                <label *ngIf="item.required" class="text-danger">*</label>
                <div *ngFor="let v of item.values" class="inline-form-group">
                  <label class="cust-check-bx">
                    <input
                      type="radio"
                      [value]="v.value"
                      name="{{ item.name }}"
                      [(ngModel)]="item.value"
                      [ngModelOptions]="{ standalone: true }"
                    />
                    {{ v.label }}
                    <span class="checkmark"></span>
                  </label>
                </div>
              </div>
              <div *ngIf="item.type == 'button'" class="btn-cont"class="col-11">
                <input
                  type="{{ item.subtype }}"
                  (click)="submit()"
                  value="{{ item.label }}"
                  class="btn btn-primary"
                  id="{{ item.name }}"
                />
              </div>
          </div>
           
          </div>
          <!-- 
        <p (click)="showData()" class="marginT60 pointer">
          Show developer data
        </p> -->
        </div>
      </form>
    </div>
  </div>
</ng-container>
<div class="text-center my-2">
  <button
    *ngIf="type == 'add'"
    (click)="addForm()"
    class="btn btn-primary mr-2"
  >
    Add Form
  </button>
  <button
    *ngIf="type == 'edit'"
    (click)="addForm()"
    class="btn btn-primary mr-2"
  >
    Update Form
  </button>
  <button *ngIf="!report && type != 'view'" class="btn btn-primary" (click)="initReport()" >
    Preview
  </button>
</div>
<pre *ngIf="show == true && model">
      {{ model | json }}
  </pre
>
