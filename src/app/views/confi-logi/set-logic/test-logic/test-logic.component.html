<section class="">
    <div class="">
        <!-- <header class="text-center mb-5 pb-5 text-white">
            <h1 class="display-4">Bootstrap vertical tabs</h1>
            <p class="font-italic mb-1">Making advantage of Bootstrap 4 components, easily build an awesome tabbed interface.</p>
            <p class="font-italic"> 
                <a class="text-white" href="">
                    <u></u>
                </a>
            </p>
        </header> -->


        <div class="row">
            <div class="col-md-3">
                <!-- Tabs nav -->
                <div class="nav flex-column nav-pills nav-pills-custom" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                    <p *ngFor="let item of stepperList;let i = index" (click)="handleClick(i)"  class="nav-link mb-3 p-3 shadow "
                        [class.active]="stepperList[i].i" id="v-pills-home-tab" data-toggle="pill"  role="tab"
                        aria-controls="v-pills-home" aria-selected="true">
                        <i class="fa fa-user-circle-o mr-2"></i>
                        <span class="   font-weight-bold small text-uppercase">{{item.name}}</span></p>

                    <!-- <a class="nav-link mb-3 p-3 shadow" id="v-pills-profile-tab" data-toggle="pill" href="#v-pills-profile" role="tab" aria-controls="v-pills-profile" aria-selected="false">
                        <i class="fa fa-calendar-minus-o mr-2"></i>
                        <span class="font-weight-bold small text-uppercase">Bookings</span></a>

                    <a class="nav-link mb-3 p-3 shadow" id="v-pills-messages-tab" data-toggle="pill" href="#v-pills-messages" role="tab" aria-controls="v-pills-messages" aria-selected="false">
                        <i class="fa fa-star mr-2"></i>
                        <span class="font-weight-bold small text-uppercase">Reviews</span></a>

                    <a class="nav-link mb-3 p-3 shadow" id="v-pills-settings-tab" data-toggle="pill" href="#v-pills-settings" role="tab" aria-controls="v-pills-settings" aria-selected="false">
                        <i class="fa fa-check mr-2"></i>
                        <span class="font-weight-bold small text-uppercase">Confirm booking</span></a> -->

 


                </div>
            </div>


            <div  class="col-md-9">
                <!-- Tabs content -->
                <div class="tab-content" id="v-pills-tabContent">
                    <div *ngFor="let item of stepperList;let i = index" class="tab-pane fade shadow rounded bg-white  p-5" [class.active]="stepperList[i].i" [class.show]="stepperList[i].i" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
                        <h4 class="font-italic mb-4">{{item.name}}</h4>
                        <p class="font-italic text-muted mb-2" ><ng-container *ngTemplateOutlet="test;context:{name: item.name};" ></ng-container></p>
                        <div>
                            <!-- <div class="buttons">
                                <button mat-icon-button (click)="prev(1)"><i  style="font-size: 25px;" class="fas fa-arrow-left"></i></button> <button mat-icon-button (click)="next(1)"><i style="font-size: 25px;" class="fas fa-arrow-right"></i></button>
                            </div> -->
                        </div>
                    </div>
                   
                    
                    <!-- <div class="tab-pane fade shadow rounded bg-white   p-5" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
                        <h4 class="font-italic mb-4">Bookings</h4>
                        <p class="font-italic text-muted mb-2">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                    
                    <div class="tab-pane fade shadow rounded bg-white p-5" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
                        <h4 class="font-italic mb-4">Reviews</h4>
                        <p class="font-italic text-muted mb-2">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div>
                    
                    <div class="tab-pane fade shadow rounded bg-white p-5" id="v-pills-settings" role="tabpanel" aria-labelledby="v-pills-settings-tab">
                        <h4 class="font-italic mb-4">Confirm booking</h4>
                        <p class="font-italic text-muted mb-2">Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    </div> -->
                  
                </div>
                
            </div>
        </div>
                        <div class="buttons">
                            <button mat-icon-button (click)="prev(1)"><i  style="font-size: 25px;" class="fas fa-arrow-left"></i></button> <button mat-icon-button (click)="next(1)"><i style="font-size: 25px;" class="fas fa-arrow-right"></i></button>
                        </div>
    </div>
    
</section>

<ng-template [formGroup]="JobTaskDetail" let #test let-name="name">
    <h1 *ngIf="name.toLowerCase() == 'PERSONAL INFORMATION'.toLowerCase()">hi</h1>
    <ng-container *ngIf="name.toLowerCase() == 'HighRisk Construction'.toLowerCase()">
        <div class="row justify-content-center">
            <div class="col-1 my-auto"> 
                
            </div>
            <div class="col-7">
                <mat-form-field class="container" appearance="fill">
                    <mat-label class="text-center ">HighRiskConstruction</mat-label>
                    <mat-select formControlName="highRiskConstr" multiple >
                      <mat-select-trigger>
                        <span
                          *ngIf="!JobTaskDetail.get('highRiskConstr').value?.length"
                          class="example-additional-selection"
                        >
                        </span>
                        <span
                          *ngIf="JobTaskDetail.get('highRiskConstr').value?.length == 1"
                          class="example-additional-selection"
                        >
                          One Item selected
                        </span>
                        <span
                          *ngIf="JobTaskDetail.get('highRiskConstr').value?.length > 1"
                          class="example-additional-selection"
                        >
                          More than one selected
                        </span>
                      </mat-select-trigger>
                      <mat-option
                        *ngFor="let parameter of highRiskConstructionData"
                        [value]="parameter._id"
                      >
                        {{ parameter.title }}</mat-option
                      >
                    </mat-select>
                  </mat-form-field>
            </div>
            <div class="col-1 my-auto">
                
            </div>
        </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'PPE'.toLowerCase()">
        <div class="row justify-content-center">
      <div class="col-1 my-auto"></div>
      <div class="col-7">
        <mat-form-field class="container" appearance="fill">
          <mat-label>PPE selection</mat-label>
          <mat-select formControlName="PPE" multiple>
            <mat-select-trigger>
              <span
                *ngIf="!JobTaskDetail.get('PPE').value?.length"
                class="example-additional-selection"
              >
              </span>
              <span
                *ngIf="JobTaskDetail.get('PPE').value?.length == 1"
                class="example-additional-selection"
              >
                One Item selected
              </span>
              <span
                *ngIf="JobTaskDetail.get('PPE').value?.length > 1"
                class="example-additional-selection"
              >
                More than one selected
              </span>
            </mat-select-trigger>
            <mat-option
              *ngFor="let parameter of PPESelectionData"
              [value]="parameter._id"
              >{{ parameter.title }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-1 my-auto"></div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Licence'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Licences</mat-label>                
                <mat-select formControlName="LicenceCat" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('LicenceCat').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('LicenceCat').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('LicenceCat').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of licenceByTradecat"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Identify Hazards'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Identify Hazards</mat-label>
                <mat-select formControlName="identifyHazrds" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('identifyHazrds').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('identifyHazrds').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('identifyHazrds').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option *ngFor="let parameter of allHazards" [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Risk Level'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
              <mat-form-field class="container" appearance="fill">
                <mat-label>Risk Level</mat-label>
                <mat-select formControlName="riskLevel">
                  <mat-option *ngFor="let parameter of riskLevelData" [value]="parameter._id">
                    {{parameter.title}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Control Action Required'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Control Action Required</mat-label>
                <mat-select formControlName="contrActReq" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('contrActReq').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('contrActReq').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('contrActReq').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of allContrlActReq"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Code of Practice'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Code of Practice</mat-label>
                <mat-select formControlName="codeOfPract" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('codeOfPract').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('codeOfPract').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('codeOfPract').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of allCodeOfPract"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Residule Risk Level'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7">
             <mat-form-field class="container" appearance="fill">
                <mat-label>Residule Risk Level</mat-label>
                <mat-select formControlName="residualRiskL">
                  <mat-option *ngFor="let parameter of resiRiskLevelData" [value]="parameter._id">
                    {{parameter.title}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Chemical related Task'.toLowerCase()">
        <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-7 text-center">
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" value="YES" formControlName="chemical">
                <label class="form-check-label" for="inlineRadio1">Yes</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio"  value="NO" formControlName="chemical">
                <label class="form-check-label" for="inlineRadio2">No</label>
              </div>
        </div>
        <div class="col-1 my-auto">
            
        </div>
    </div>
    </ng-container>
    <ng-container *ngIf="name.toLowerCase() == 'Person Responsible'.toLowerCase()">
        <div class="row justify-content-center mt-3">
        <div class="col-1 my-auto"> 
            
        </div>
        <div class="col-6">
          
            <mat-form-field class="container" appearance="fill">
              <mat-label>Person Responsible</mat-label>
              <mat-select formControlName="personResp">
                <mat-option *ngFor="let person of staff" [value]="person._id">
                  {{person.title}}
                </mat-option>
              </mat-select>
            </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <!--  -->
        </div>
    </div>
    <div class="text-center mt-3">
        <button *ngIf="!jobTask?.set" class="btn btn-primary"(click)="setRelation()">Set</button>
        <button *ngIf="jobTask?.set" class="btn btn-primary"(click)="setRelation()">Update</button>
      </div>
    </ng-container>
</ng-template>
