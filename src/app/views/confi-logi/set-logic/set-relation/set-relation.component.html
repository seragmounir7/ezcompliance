<div class="btn btn-outline-primary" [routerLink]="['/admin/confiLogi/setLogic']">
  <i class="fa fa-arrow-left" aria-hidden="true"></i>
</div>
<div class="ml-2">
  <h2>Job Task :&nbsp;{{ jobTask?.title }}</h2>
</div>
<mat-horizontal-stepper [formGroup]="JobTaskDetail" style="height: 500px;">
  
  <mat-step >
    <ng-template matStepLabel>HighRisk Construction</ng-template>
    <h2 class="text-center mt-3">HighRisk Construction<span class="material-icons ml-3"(click)="addItem('highRisk')" >add_circle_outline</span></h2> 
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <!-- <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button> -->
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label class="text-center ">HighRiskConstruction</mat-label>
                <mat-select formControlName="highRiskConstr" multiple >
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('highRiskConstr').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('highRiskConstr').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('highRiskConstr').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of highRiskConstructionData"
                    [value]="parameter._id"
                  >
                    {{ parameter.title }}</mat-option
                  >
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
 

  </mat-step>
  <mat-step >
    <ng-template matStepLabel>PPE</ng-template>
    <h2 class="text-center mt-3">PPE<span class="material-icons ml-3"(click)="addItem('ppe')" >add_circle_outline</span></h2>
    <div class="row justify-content-center">
      <div class="col-1 my-auto"><button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button></div>
      <div class="col-7">
        <mat-form-field class="container" appearance="fill">
          <mat-label>PPE selection</mat-label>
          <mat-select formControlName="PPE" multiple>
            <mat-select-trigger>
              <span
                *ngIf="!JobTaskDetail.get('PPE').value?.length"
                class="example-additional-selection"
              >
              </span>
              <span
                *ngIf="JobTaskDetail.get('PPE').value?.length == 1"
                class="example-additional-selection"
              >
                One Item selected
              </span>
              <span
                *ngIf="JobTaskDetail.get('PPE').value?.length > 1"
                class="example-additional-selection"
              >
                More than one selected
              </span>
            </mat-select-trigger>
            <mat-option
              *ngFor="let parameter of PPESelectionData"
              [value]="parameter._id"
              >{{ parameter.title }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>
      <div class="col-1 my-auto"><button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button></div>
    </div>
   
  </mat-step>
  <mat-step >
<<<<<<< HEAD
    <ng-template matStepLabel>Licence </ng-template>
    <h2 class="text-center mt-3">Licences <span class="material-icons ml-3"(click)="addItem('licence')" >add_circle_outline</span> </h2>
=======
    <ng-template matStepLabel>Licence Category</ng-template>
    <h2 class="text-center mt-3">Licence <span class="material-icons ml-3"(click)="addItem('licence')" >add_circle_outline</span> </h2>
>>>>>>> 251c0a9b0f57bd4e73303b18d5b531815caa435a
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
<<<<<<< HEAD
                <mat-label>Licences</mat-label>                
=======
                <mat-label>Licences</mat-label>
                
>>>>>>> 251c0a9b0f57bd4e73303b18d5b531815caa435a
                <mat-select formControlName="LicenceCat" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('LicenceCat').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('LicenceCat').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('LicenceCat').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of licenceByTradecat"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
   
  
  </mat-step>

  <mat-step >
    <ng-template matStepLabel>Identify Hazards</ng-template>
    <h2 class="text-center mt-3">Identify Hazards<span class="material-icons ml-3"(click)="addItem('identifyHazards')" >add_circle_outline</span></h2>
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Identify Hazards</mat-label>
                <mat-select formControlName="identifyHazrds" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('identifyHazrds').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('identifyHazrds').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('identifyHazrds').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option *ngFor="let parameter of allHazards" [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
  

  </mat-step>
  <mat-step > 
    <ng-template matStepLabel>Risk Level</ng-template>
    <h2 class="text-center mt-3">Risk Level<span class="material-icons ml-3"(click)="addItem('riskLevel')" >add_circle_outline</span></h2>
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
              <mat-form-field class="container" appearance="fill">
                <mat-label>Risk Level</mat-label>
                <mat-select formControlName="riskLevel">
                  <mat-option *ngFor="let parameter of riskLevelData" [value]="parameter._id">
                    {{parameter.title}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
            </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
  
 
  </mat-step>
  <mat-step >
    <ng-template matStepLabel>Control Action Required</ng-template>
    <h2 class="text-center mt-3">Control Action Required<span class="material-icons ml-3"(click)="addItem('ctrlActreq')" >add_circle_outline</span></h2>
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Control Action Required</mat-label>
                <mat-select formControlName="contrActReq" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('contrActReq').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('contrActReq').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('contrActReq').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of allContrlActReq"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
   

  </mat-step>
  <mat-step >
<<<<<<< HEAD
    <ng-template matStepLabel>Code of Practice</ng-template>
    <h2 class="text-center mt-3">Code of Practice<span class="material-icons ml-3"(click)="addItem('codeOfPract')" >add_circle_outline</span></h2>
=======
    <ng-template matStepLabel>Residule Risk Level</ng-template>
    <h2 class="text-center mt-3">Residule Risk Level<span class="material-icons ml-3"(click)="addItem('resRiskLevel')" >add_circle_outline</span></h2>
>>>>>>> 251c0a9b0f57bd4e73303b18d5b531815caa435a
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
            <mat-form-field class="container" appearance="fill">
                <mat-label>Code of Practice</mat-label>
                <mat-select formControlName="codeOfPract" multiple>
                  <mat-select-trigger>
                    <span
                      *ngIf="!JobTaskDetail.get('codeOfPract').value?.length"
                      class="example-additional-selection"
                    >
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('codeOfPract').value?.length == 1"
                      class="example-additional-selection"
                    >
                      One Item selected
                    </span>
                    <span
                      *ngIf="JobTaskDetail.get('codeOfPract').value?.length > 1"
                      class="example-additional-selection"
                    >
                      More than one selected
                    </span>
                  </mat-select-trigger>
                  <mat-option
                    *ngFor="let parameter of allCodeOfPract"
                    [value]="parameter._id"
                    >{{ parameter.title }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
   

  </mat-step>
  <mat-step >
    <ng-template matStepLabel>Residule Risk Level</ng-template>
    <h2 class="text-center mt-3">Residule Risk Level<span class="material-icons ml-3"(click)="addItem('resRiskLevel')" >add_circle_outline</span></h2>
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7">
             <mat-form-field class="container" appearance="fill">
                <mat-label>Residule Risk Level</mat-label>
                <mat-select formControlName="residualRiskL">
                  <mat-option *ngFor="let parameter of resiRiskLevelData" [value]="parameter._id">
                    {{parameter.title}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
 

  </mat-step>
  <mat-step >
    <ng-template matStepLabel>Chemical related Task</ng-template>
    <h2 class="text-center mt-3">Is this Job Task includes Chemicals?</h2>
    <div class="row justify-content-center">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-7 text-center">
            <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" value="YES" formControlName="chemical">
                <label class="form-check-label" for="inlineRadio1">Yes</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio"  value="NO" formControlName="chemical">
                <label class="form-check-label" for="inlineRadio2">No</label>
              </div>
        </div>
        <div class="col-1 my-auto">
            <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button>
        </div>
    </div>
 

  </mat-step>

  <mat-step >
    <ng-template matStepLabel>Person Responsible</ng-template>
    <h2 class="text-center mt-3">Person Responsible<span class="material-icons ml-3"(click)="addItem('perResbl')" >add_circle_outline</span></h2>
    <div class="row justify-content-center mt-3">
        <div class="col-1 my-auto"> 
            <button class="btn" matStepperPrevious><i class="fas fa-arrow-left"></i></button>
        </div>
        <div class="col-6">
          
            <mat-form-field class="container" appearance="fill">
              <mat-label>Person Responsible</mat-label>
              <mat-select formControlName="personResp">
                <mat-option *ngFor="let person of staff" [value]="person._id">
                  {{person.title}}
                </mat-option>
              </mat-select>
            </mat-form-field>
        </div>
        <div class="col-1 my-auto">
            <!-- <button class="btn" matStepperNext><i class="fas fa-arrow-right"></i></button> -->
        </div>
    </div>

    <div class="text-center mt-3">
      <button *ngIf="!jobTask?.set" class="btn btn-primary"(click)="setRelation()">Set</button>
      <button *ngIf="jobTask?.set" class="btn btn-primary"(click)="setRelation()">Update</button>
    </div>
  </mat-step>
</mat-horizontal-stepper>
