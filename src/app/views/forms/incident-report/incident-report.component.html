<div class="btn btn-outline-primary" [routerLink]="['/admin/forms']"><i class="fa fa-arrow-left" aria-hidden="true"></i></div>

<div class="container card px-4 py-4" [formGroup]="SiteIncident">
  <h2 class="text-center pt-3">
    <p>Incident Report Form Preview</p>
  </h2>
  <hr />

  <p class="title">Site Information</p>

  <div class="box">
    <div class="row">
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Project Number</label
          >
          <input
            type="number"
            class="form-control"
            formControlName="projectNumber"
          />
        </div>
      </div>
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Project Name</label
          >
          <input
            type="text"
            formControlName="projectName"
            class="form-control"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-sm-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Site Name</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="siteName"
          />
        </div>
      </div>
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Customer Name</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="customerName"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Site Address</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="siteAddress"
          />
        </div>
      </div>
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Customer Contact</label
          >
          <input
            placeholder="(000) 000-0000"
            type="text"
            class="form-control"
            formControlName="customerContact"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Project Manager</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="projectManager"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Person Completing Form
          </label>
          <input
            type="text"
            class="form-control"
            formControlName="personCompletingForm"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Customer Contact Phone</label
          >
          <input
            placeholder="(000) 000-0000"
            type="text"
            class="form-control"
            formControlName="customerContactPhone"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label
            class="cols"
            class="form-Label"
            >Customer Contact Email</label
          >
          <input
            placeholder="ex: email@yahoo.com"
            type="text"
            class="form-control"
            formControlName="customerContactEmail"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <label class="cols" class="form-Label"
          >Date of Form Completion</label
        >
        <input
          type="date"
          class="form-control"
          formControlName="dateOfFormCompletion"
        />
      </div>
    </div>
  </div>
  <hr />
  <div class="col-12" class="mt-3">
    <p class="title">Type of Incident</p>
  </div>
  <div class="row">
    <div class="mt-2 col-4" *ngFor="let incident of incidents; let i=index">
      <div class="checkrdobtn">
        <input
          class="rdovstchk"
          [id]="i+'typeOf'"
          class="mr-1"
          type="checkbox"
          [value]="incident.value"
          (change)="onChangeIncident($event)"
        />
        <label class="txtdefault fs-16 weight500 text-center"  [for]="i+'typeOf'">{{
          incident.name
        }}</label>
      </div>
    </div>
  </div>

  <hr />
  <div class="row">
    <div class="col-12">
      <p class="title">Instructions</p>
    </div>
    <div class="mt-3 text-center">
      <p class="form-Label">
        Complete this form as soon as possible after an incident that results in
        serious inquiry or illness or death. Use to investigate a minor injuiry
        or near-miss that could have resulted in a serious injury or illness.
      </p>
    </div>
  </div>
  <br />
  <hr />
  <div class="col-12">
    <p class="title">Injuired or Affected Person</p>
  </div>
  <div class="box" class="row">
    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label">Name</label>
        <input
          type="text"
          class="form-control"
          formControlName="name"
          id
        />
      </div>
    </div>
    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label"
          >Department</label
        >
        <input
          type="text"
          class="form-control"
          formControlName="department"
        />
      </div>
    </div>
  </div>
  <div class="box" class="row">
    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label">position</label>
        <input
          type="text"
          class="form-control"
          formControlName="position"
        />
      </div>
    </div>
  </div>
  <hr />
  <div class="col-12">
    <p class="title">Nature of Incident</p>
  </div>
  <div class="box" class="row">
    <div class="mt-3 col-4" *ngFor="let nature of natureOFIncidents; let i=index">
      <div class="checkrdobtn">
        <input
          class="rdovstchk"
          [id]="i+'natureOfInc'"
          type="checkbox"
          class="mr-1"
          [value]="nature.value"
          (change)="onNatureOFIncidents($event)"
        />
        <label class="txtdefault fs-16 weight500 text-center"  [for]="i+'natureOfInc'">{{
          nature.name
        }}</label>
      </div>
    </div>
  </div>
  <hr />
  <div class="box" class="row">
    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label"
          >Location of the incident</label
        >
        <input
          type="text"
          class="form-control"
          formControlName="locationOfTheIncident"
        />
      </div>
    </div>
    <div class="col-md-3">
      <div>
        <label class="cols" class="form-Label"
          >Date of the incident</label
        >
        <input
          type="date"
          class="form-control"
          formControlName="dateOfTheIncident"
        />
      </div>
    </div>
    <div class="col-md-3">
      <div>
        <label class="cols"  class="form-Label"
          >Time of the incident</label
        >
        <input [ngxMatTimepicker]="picker"  class="form-control" formControlName="timeOfTheIncident">
          <ngx-mat-timepicker #picker></ngx-mat-timepicker>
        <!-- <input
          type="number"
          class="form-control"
          formControlName="timeOfTheIncident"
        /> -->
      </div>
    </div>
  </div>
  <br />
  <div class="col-12">
    <p class="title">Incident Information</p>
  </div>
  <div class="box" class="row">
    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label">
          Name of Witness</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select</option>
          <option value="1">Option1</option>
          <option value="2">Option2</option>
          <option value="3">Option3</option>
        </select>
      </div>
    </div>

    <div class="col-md-6">
      <div>
        <label class="cols" class="form-Label"
          >Witness Statement</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select</option>
          <option value="1">Option1</option>
          <option value="2">Option2</option>
          <option value="3">Option3</option>
        </select>
      </div>
    </div>
  </div>
  <div class="box" class="row">
    <div class="col-md-12">
      <div>
        <label class="form-Label">Attachments </label>
        <input
          class="form-control"
          formControlName="file"
          type="file"
        />
      </div>
    </div>
  </div>
  <br />

  <div class="col-12">
    <p class="title">What PPE was in Use ?</p>
  </div>
  <div class="box" class="row">
    <div class="mt-3 col-3" *ngFor="let PPES of PPE; let i=index">
      <div class="checkrdobtn">
        <input
          class="rdovstchk"
          [id]="i+'whatPPE'"
          type="checkbox"
          class="mr-1"
          [value]="PPES.value"
          (change)="onPPE($event)"
        />
        <label class="txtdefault fs-16 weight500 text-center"  [for]="i+'whatPPE'">{{
          PPES.name
        }}</label>
      </div>
    </div>
  </div>
  <br />
  <hr />
  <div class="col-12">
    <p class="title">What was the rootcause of incident happen?</p>
  </div>
  <div class="box" class="row">
    <div class="mt-3 col-3" *ngFor="let rootCause of rootCauseIncident; let i=index">
      <div class="checkrdobtn">
        <input
          class="rdovstchk"
          [id]="i+'incident'"
          type="checkbox"
          class="mr-1"
          [value]="rootCause.value"
          (change)="onRootCauseIncident($event)"
        />
        <label class="txtdefault fs-16 weight500 text-center" [for]="i+'incident'">{{
          rootCause.name
        }}</label>
      </div>
    </div>
  </div>
  <br />

  <div class="row">
    <div class="col-md-12">
      <div>
        <label
          class="cols"
          class="form-Label"
          >Why did the unsafe conditon exist</label
        >

        <textarea
          type="text"
          formControlName="whyDidtheUnsafeConditonExist"
          class="form-control"
        >
        </textarea>
      </div>
    </div>
    <div class="col-md-6">
      <div>
        <label class="cols" for="exampleFormControlInput1" class="form-Label"
          >Was the unsafe act or hazard reported prior to the incident?</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select</option>
          <option value="yes">yes</option>
          <option value="no">No</option>
        </select>
      </div>
    </div>
    <div class="col-md-6">
      <div>
        <label class="cols" for="exampleFormControlInput1" class="form-Label"
          >Has a similar incident Occured</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select</option>
          <option value="yes">yes</option>
          <option value="no">No</option>
        </select>
      </div>
    </div>
  </div>

  <hr />
  <br />
  <div class="col-12">
    <p class="title">What changes can be made ?</p>
  </div>
  <div class="row">
    <div class="mt-2 col-4 mb-0" *ngFor="let change of changes; let i=index">
      <div class="checkrdobtn">
        <input
          class="rdovstchk"
          [id]="i+'changes'"
          type="checkbox"
          class="mr-1"
          [value]="change.value"
          (change)="onChanges($event)"
        />
        <label class="txtdefault fs-16 weight500 text-center" [for]="i+'changes'">{{
          change.name
        }}</label>
      </div>
    </div>
  </div>
  <hr />
  <div class="box" class="row">
    <div class="col-6 mb-4">
      <div>
        <label class="cols"  class="form-Label"
          >CorrectiveAction</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select....</option>
          <option>Update Hazaord Signage</option>
          <option>Update Site Documentation</option>
          <option>Induct Workers</option>
          <option>Induct Workers into SWWS</option>
        </select>
      </div>
    </div>
    <div class="col-md-3">
      <div>
        <label class="cols"  class="form-Label"
          >Person Responsible</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select...</option>
          <option value="ProjectManager">Project Manager</option>
          <option value="SiteSupervisor">Site Supervisor</option>
          <option value="WHSManager">WHS Manager</option>
          <option value="WorkGroup">Work Group</option>
          <option value="ComplianceManager">Compliance Manager</option>
          <option value="OperatonsManager">Operatons Manager</option>
        </select>
      </div>
    </div>
    <div class="col-md-3">
      <div>
        <label class="cols" class="form-Label"
          >Complete</label
        >

        <select
          class="form-select form-control col form-dropdown"
          aria-label="Default select example"
        >
          <option selected hidden>Select</option>
          <option value="yes">yes</option>
          <option value="no">No</option>
        </select>
      </div>
    </div>
  </div>
  <hr />
  <div class="col-12">
    <p class="title">The Form was Completed by:</p>
  </div>
  <div>
    <div class="box" class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label">Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="CompletedName"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Position
          </label>
          <input
            type="text"
            class="form-control"
            formControlName="CompletedPosition"
          />
        </div>
      </div>
    </div>
    <div class="box" class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Department</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="CompletedDepartment"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label">Date </label>
          <input
            type="date"
            class="form-control"
            formControlName="CompletedDate"
          />
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Signature</label
          >
          <div class="sign">
            <signature-pad
              [options]="signaturePadOptions"
              (onBeginEvent)="drawStart()"
              (onEndEvent)="drawComplete()"
              #signature1
            >
            </signature-pad>
          </div>
          <button class="btn btn-outline-primary mt-1" (click)="clear()">
            Clear
          </button>
        </div>
      </div>
    </div>
  </div>
  <br />
  <p class="title">The Form was Reviewed by:</p>
  <div>
    <div class="box" class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label">Name</label>
          <input
            type="text"
            class="form-control"
            formControlName="reviewedName"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Position
          </label>
          <input
            type="text"
            class="form-control"
            formControlName="reviewedPosition"
          />
        </div>
      </div>
    </div>
    <div class="box" class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Department</label
          >
          <input
            type="text"
            class="form-control"
            formControlName="reviewedDepartment"
          />
        </div>
      </div>

      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label">Date </label>
          <input
            type="date"
            class="form-control"
            formControlName="reviewedDate"
          />
        </div>
      </div>
    </div>
    <div class="box" class="row">
      <div class="col-md-6">
        <div>
          <label class="cols" class="form-Label"
            >Signature</label
          >
          <div class="sign">
            <signature-pad
              [options]="signaturePadOptions1"
              (onBeginEvent)="drawStart1()"
              (onEndEvent)="drawComplete1()"
              #signature2
            ></signature-pad>
          </div>
          <button class="btn btn-outline-primary mt-1" (click)="clear1()">
            Clear
          </button>
        </div>
      </div>
    </div>
  </div>
  <hr />

  <br />

  <div class="col-md-2">
    <button type="submit" class="btn btn-primary btn-block">Submit</button>
  </div>
</div>
